{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Prabhat singh\\\\Downloads\\\\Best_Project\\\\frontend\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport \"./app.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  var _user$name;\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState(\"\");\n  const [isTyping, setIsTyping] = useState(false);\n  const [user, setUser] = useState(null);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [showLogin, setShowLogin] = useState(true);\n  const [showRegister, setShowRegister] = useState(false);\n  const [showForgotPassword, setShowForgotPassword] = useState(false);\n  const [activeTab, setActiveTab] = useState(\"chat\");\n  const [journalEntries, setJournalEntries] = useState([]);\n  const [therapists, setTherapists] = useState([]);\n  const [resources, setResources] = useState([]);\n  const [moodWall, setMoodWall] = useState([]);\n  const [moodTribes, setMoodTribes] = useState([]);\n  const [shopItems, setShopItems] = useState([]);\n  const [userTribes, setUserTribes] = useState([]);\n  const [currentTheme, setCurrentTheme] = useState(\"default\");\n  const [typingIndicator, setTypingIndicator] = useState(\"\");\n  const [showEmergencyModal, setShowEmergencyModal] = useState(false);\n  const [achievements, setAchievements] = useState([]);\n  const [activeTribe, setActiveTribe] = useState(null);\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const [showNewChatModal, setShowNewChatModal] = useState(false);\n  const [loginError, setLoginError] = useState(\"\");\n  const [registerError, setRegisterError] = useState(\"\");\n  const [aiProvider, setAiProvider] = useState(\"gemini\");\n  const [audioEnabled, setAudioEnabled] = useState(true);\n  const [musicEnabled, setMusicEnabled] = useState(true);\n  const [tribeChatMessages, setTribeChatMessages] = useState({});\n  const [tribeInput, setTribeInput] = useState(\"\");\n  const [lastStreakUpdate, setLastStreakUpdate] = useState(\"\");\n  const chatEndRef = useRef(null);\n\n  // Sample data\n  const sampleTherapists = [{\n    id: 1,\n    name: \"Dr. Priya Sharma\",\n    specialization: \"Clinical Psychology\",\n    price: 799,\n    rating: 4.7,\n    experience: \"8 years\",\n    avatar: \"👩‍⚕️\"\n  }, {\n    id: 2,\n    name: \"Rajiv Mehta\",\n    specialization: \"Counseling Psychology\",\n    price: 599,\n    rating: 4.5,\n    experience: \"5 years\",\n    avatar: \"👨‍⚕️\"\n  }, {\n    id: 3,\n    name: \"Dr. Anjali Singh\",\n    specialization: \"Psychiatry\",\n    price: 999,\n    rating: 4.8,\n    experience: \"12 years\",\n    avatar: \"👩‍⚕️\"\n  }, {\n    id: 4,\n    name: \"Neha Gupta\",\n    specialization: \"Art Therapy\",\n    price: 499,\n    rating: 4.6,\n    experience: \"4 years\",\n    avatar: \"🎨\"\n  }];\n  const sampleResources = [{\n    type: \"crisis\",\n    name: \"National Suicide Prevention Lifeline\",\n    number: \"1-800-273-8255\",\n    available: \"24/7\"\n  }, {\n    type: \"crisis\",\n    name: \"Crisis Text Line\",\n    number: \"Text HOME to 741741\",\n    available: \"24/7\"\n  }, {\n    type: \"support\",\n    name: \"Mental Health America\",\n    website: \"mhanational.org\",\n    description: \"Resources and screening tools\"\n  }];\n  const sampleMoodTribes = [{\n    id: 1,\n    name: \"Positivity Tribe\",\n    description: \"For those seeking positivity and joy\",\n    member_count: 245,\n    isMember: false\n  }, {\n    id: 2,\n    name: \"Calm Collective\",\n    description: \"Find your inner peace together\",\n    member_count: 189,\n    isMember: false\n  }, {\n    id: 3,\n    name: \"Anxiety Allies\",\n    description: \"Support for those dealing with anxiety\",\n    member_count: 312,\n    isMember: false\n  }, {\n    id: 4,\n    name: \"Mindfulness Masters\",\n    description: \"Practice mindfulness together\",\n    member_count: 156,\n    isMember: false\n  }, {\n    id: 5,\n    name: \"Breakup Recovery\",\n    description: \"Healing after relationship endings\",\n    member_count: 128,\n    isMember: false\n  }, {\n    id: 6,\n    name: \"Career Stress\",\n    description: \"Managing work-related stress\",\n    member_count: 201,\n    isMember: false\n  }, {\n    id: 7,\n    name: \"Student Support\",\n    description: \"Academic pressure and study stress\",\n    member_count: 178,\n    isMember: false\n  }];\n  const sampleShopItems = [{\n    id: 1,\n    name: \"Sunset Theme\",\n    description: \"Warm orange and purple theme\",\n    price: 0,\n    category: \"theme\"\n  }, {\n    id: 2,\n    name: \"Ocean Theme\",\n    description: \"Calming blue theme\",\n    price: 0,\n    category: \"theme\"\n  }, {\n    id: 3,\n    name: \"Forest Theme\",\n    description: \"Green nature-inspired theme\",\n    price: 0,\n    category: \"theme\"\n  }, {\n    id: 4,\n    name: \"Neon Theme\",\n    description: \"Vibrant neon colors\",\n    price: 5,\n    category: \"theme\"\n  }, {\n    id: 5,\n    name: \"Glass Theme\",\n    description: \"Modern glassmorphism design\",\n    price: 0,\n    category: \"theme\"\n  }, {\n    id: 6,\n    name: \"Exclusive Avatar\",\n    description: \"Special avatar frame\",\n    price: 0,\n    category: \"cosmetic\"\n  }, {\n    id: 7,\n    name: \"Meditation Pack\",\n    description: \"Exclusive meditation guides\",\n    price: 5,\n    category: \"content\"\n  }, {\n    id: 8,\n    name: \"Second Chance Token\",\n    description: \"Save your streak if you miss a day\",\n    price: 0,\n    category: \"utility\"\n  }, {\n    id: 9,\n    name: \"Custom Voice\",\n    description: \"Personalized AI voice\",\n    price: 0,\n    category: \"feature\"\n  }];\n  const sampleAchievements = [{\n    id: 1,\n    name: \"First Steps\",\n    description: \"Complete your first journal entry\",\n    earned: true,\n    icon: \"📝\"\n  }, {\n    id: 2,\n    name: \"7-Day Warrior\",\n    description: \"Maintain a 7-day streak\",\n    earned: false,\n    icon: \"🔥\"\n  }, {\n    id: 3,\n    name: \"Community Builder\",\n    description: \"Join your first tribe\",\n    earned: false,\n    icon: \"👥\"\n  }, {\n    id: 4,\n    name: \"30-Day Calm Seeker\",\n    description: \"Maintain a 30-day streak\",\n    earned: false,\n    icon: \"🌿\"\n  }, {\n    id: 5,\n    name: \"365-Day Legend\",\n    description: \"Maintain a 365-day streak\",\n    earned: false,\n    icon: \"👑\"\n  }, {\n    id: 6,\n    name: \"Mental Fitness Pro\",\n    description: \"Reach 90+ mental fitness score\",\n    earned: false,\n    icon: \"💪\"\n  }];\n\n  // AI Response templates for different moods\n  const aiResponses = {\n    happy: [\"That's wonderful to hear! 😊 Your positivity is contagious. What's making you feel so happy today?\", \"I'm so glad you're feeling happy! 🌟 Celebrating the good moments is important. Want to share what's bringing you joy?\", \"Happiness looks good on you! ✨ Let's savor this moment together. What's making you smile today?\"],\n    sad: [\"I'm sorry you're feeling down. 😔 It's okay to have sad days - they make the happy ones brighter. Want to talk about what's bothering you?\", \"I hear you're feeling sad, and I'm here for you. 💙 Sometimes just sharing how we feel can lighten the load. What's on your mind?\", \"Thank you for sharing that you're feeling sad. It takes courage to acknowledge these feelings. 🌧️ Would you like to talk more about what's causing this?\"],\n    anxious: [\"I understand that anxious feeling. 🫂 Let's take a deep breath together. Would you like to try a quick grounding exercise?\", \"Anxiety can be really overwhelming. 💭 I'm here to help you through it. Want to explore what's triggering these feelings?\", \"It's okay to feel anxious sometimes. 🌫️ Let's work through this together. Would naming the specific worries help?\"],\n    angry: [\"I hear the frustration in your words. 💢 Anger is a valid emotion - it's what we do with it that matters. Want to talk about what's upsetting you?\", \"It sounds like you're feeling pretty angry right now. 🔥 Let's channel that energy constructively. What's triggering this response?\", \"Anger can be a powerful messenger. 📣 I'm here to listen without judgment. Want to explore what's beneath the surface?\"],\n    neutral: [\"Thanks for checking in with me. 🤗 How has your day been so far?\", \"I'm here to listen whenever you're ready to share. 💫 What's on your mind today?\", \"Hello there! 🌈 How are you really feeling behind that neutral facade?\"]\n  };\n\n  // Load saved session\n  useEffect(() => {\n    const token = localStorage.getItem('accessToken');\n    const refreshToken = localStorage.getItem('refreshToken');\n    const userData = localStorage.getItem('user');\n    const savedTheme = localStorage.getItem('theme') || 'default';\n    const savedTribes = JSON.parse(localStorage.getItem('userTribes') || '[]');\n    const savedAchievements = JSON.parse(localStorage.getItem('achievements') || '[]');\n    const savedAiProvider = localStorage.getItem('aiProvider') || 'gemini';\n    const savedAudio = localStorage.getItem('audioEnabled') !== 'false';\n    const savedMusic = localStorage.getItem('musicEnabled') !== 'false';\n    const savedLastStreakUpdate = localStorage.getItem('lastStreakUpdate') || '';\n    if (token && userData) {\n      const userObj = JSON.parse(userData);\n      setUser(userObj);\n      setIsLoggedIn(true);\n      setShowLogin(false);\n      setCurrentTheme(savedTheme);\n      setUserTribes(savedTribes);\n      setAchievements(savedAchievements);\n      setAiProvider(savedAiProvider);\n      setAudioEnabled(savedAudio);\n      setMusicEnabled(savedMusic);\n      setLastStreakUpdate(savedLastStreakUpdate);\n      loadInitialData();\n\n      // Update streak if it's a new day\n      updateStreakAndCoins(userObj);\n    }\n  }, []);\n\n  // Auto scroll\n  useEffect(() => {\n    var _chatEndRef$current;\n    (_chatEndRef$current = chatEndRef.current) === null || _chatEndRef$current === void 0 ? void 0 : _chatEndRef$current.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  }, [messages]);\n\n  // Check backend connectivity on app load\n  useEffect(() => {\n    checkBackendConnectivity();\n  }, []);\n  const checkBackendConnectivity = async () => {\n    try {\n      const response = await fetch('http://localhost:5000/api/health');\n      if (!response.ok) {\n        console.warn(\"Backend server might be down\");\n      }\n    } catch (error) {\n      console.warn(\"Cannot connect to backend server\", error);\n    }\n  };\n  const refreshToken = async () => {\n    try {\n      const refreshToken = localStorage.getItem('refreshToken');\n      if (!refreshToken) {\n        throw new Error(\"No refresh token available\");\n      }\n      const response = await fetch('http://localhost:5000/api/refresh', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          refreshToken\n        })\n      });\n      if (response.ok) {\n        const data = await response.json();\n        localStorage.setItem('accessToken', data.token);\n        return data.token;\n      } else if (response.status === 401) {\n        // Check for 401 status\n        console.error(\"Token refresh failed with status:\", response.status);\n        // Handle invalid refresh token - e.g., clear tokens and redirect to login\n        localStorage.removeItem('accessToken');\n        localStorage.removeItem('refreshToken');\n        // Replace with your actual login page route\n        window.location.href = '/login';\n        throw new Error(\"Refresh token is invalid. Please log in again.\");\n      } else {\n        console.error(\"Token refresh failed with status:\", response.status);\n        throw new Error(\"Token refresh failed\");\n      }\n    } catch (error) {\n      console.error(\"Token refresh error:\", error);\n      // Don't logout immediately, let the individual requests handle fallback\n      throw error;\n    }\n  };\n  const handleApiError = async (error, originalRequest = null) => {\n    console.error(\"API Error:\", error);\n\n    // Handle token expiration\n    if (error.message.includes(\"401\") || error.message.includes(\"authentication\")) {\n      try {\n        // Try to refresh the token\n        const newToken = await refreshToken();\n\n        // Retry the original request if provided\n        if (originalRequest && newToken) {\n          originalRequest.headers.Authorization = `Bearer ${newToken}`;\n          const retryResponse = await fetch(originalRequest.url, originalRequest);\n          return retryResponse;\n        }\n        return true;\n      } catch (refreshError) {\n        console.error(\"Token refresh failed:\", refreshError);\n        // Only logout if it's a critical operation, otherwise use fallback\n        if (originalRequest && originalRequest.url.includes('/api/chat')) {\n          handleLogout();\n          alert(\"Session expired. Please login again.\");\n        }\n        return false;\n      }\n    }\n    return false;\n  };\n  const loadInitialData = () => {\n    setMessages([{\n      text: \"Hello! I'm MoodMate, your mental health companion. How are you feeling today?\",\n      sender: \"bot\"\n    }]);\n\n    // Use sample data since backend endpoints might not be available\n    setTherapists(sampleTherapists);\n    setResources(sampleResources);\n\n    // Update tribes with user's membership status\n    const userTribeIds = userTribes.map(t => t.id);\n    const updatedTribes = sampleMoodTribes.map(tribe => ({\n      ...tribe,\n      isMember: userTribeIds.includes(tribe.id)\n    }));\n    setMoodTribes(updatedTribes);\n    setShopItems(sampleShopItems);\n\n    // Load sample mood wall\n    const samplePosts = [{\n      id: 1,\n      text: \"Today I finally managed to meditate for 10 minutes straight! Feeling proud of myself.\",\n      mood: \"happy\",\n      likes: 12,\n      timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),\n      anonymous: true,\n      userName: \"Anonymous\"\n    }, {\n      id: 2,\n      text: \"Struggling with anxiety today. Anyone else feeling this way?\",\n      mood: \"anxious\",\n      likes: 8,\n      timestamp: new Date(Date.now() - 5 * 60 * 60 * 1000).toISOString(),\n      anonymous: true,\n      userName: \"Anonymous\"\n    }, {\n      id: 3,\n      text: \"Grateful for this community. Reading your stories gives me hope.\",\n      mood: \"grateful\",\n      likes: 25,\n      timestamp: new Date(Date.now() - 8 * 60 * 60 * 1000).toISOString(),\n      anonymous: false,\n      userName: \"HappyUser123\"\n    }];\n    setMoodWall(samplePosts);\n\n    // Load sample journal entries\n    const sampleEntries = [{\n      id: 1,\n      text: \"Today was a good day. I felt productive and happy.\",\n      summary: \"Positive day with productivity\",\n      mood: \"happy\",\n      date: new Date().toISOString().split('T')[0],\n      shared: false\n    }, {\n      id: 2,\n      text: \"Feeling a bit anxious about the upcoming presentation. Need to practice more.\",\n      summary: \"Anxious about presentation\",\n      mood: \"anxious\",\n      date: \"2023-10-24\",\n      shared: true\n    }, {\n      id: 3,\n      text: \"Had a great conversation with my friend. It felt good to open up.\",\n      summary: \"Positive social interaction\",\n      mood: \"happy\",\n      date: \"2023-10-23\",\n      shared: false\n    }];\n    setJournalEntries(sampleEntries);\n\n    // Initialize tribe chat messages\n    const initialTribeChats = {};\n    sampleMoodTribes.forEach(tribe => {\n      initialTribeChats[tribe.id] = [{\n        id: 1,\n        message: \"Hello everyone! How are you all feeling today?\",\n        user_name: \"Anonymous\",\n        timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString()\n      }, {\n        id: 2,\n        message: \"I've been practicing mindfulness and it's really helping with my anxiety 😊\",\n        user_name: \"Anonymous\",\n        timestamp: new Date(Date.now() - 1 * 60 * 60 * 1000).toISOString()\n      }];\n    });\n    setTribeChatMessages(initialTribeChats);\n  };\n  const updateStreakAndCoins = userObj => {\n    const today = new Date().toDateString();\n\n    // If we've already updated today, don't do anything\n    if (lastStreakUpdate === today) return;\n\n    // Check if user has a second chance token\n    const hasSecondChance = localStorage.getItem('secondChanceToken') === 'true';\n    if (hasSecondChance) {\n      // Use second chance token\n      localStorage.removeItem('secondChanceToken');\n      alert(\"You used a Second Chance Token to keep your streak! 🔥\");\n    } else {\n      // Update streak based on consecutive login\n      const yesterday = new Date();\n      yesterday.setDate(yesterday.getDate() - 1);\n      if (lastStreakUpdate === yesterday.toDateString()) {\n        // Consecutive login - increase streak\n        const newStreak = (userObj.streak || 0) + 1;\n        const updatedUser = {\n          ...userObj,\n          streak: newStreak\n        };\n        setUser(updatedUser);\n        localStorage.setItem('user', JSON.stringify(updatedUser));\n\n        // Award coins based on streak length\n        const coinsEarned = Math.min(5 + Math.floor(newStreak / 7), 20);\n        const newCoins = (userObj.coins || 0) + coinsEarned;\n        const updatedUserWithCoins = {\n          ...updatedUser,\n          coins: newCoins\n        };\n        setUser(updatedUserWithCoins);\n        localStorage.setItem('user', JSON.stringify(updatedUserWithCoins));\n\n        // Check for achievement unlocks\n        checkAchievements(newStreak);\n      } else if (lastStreakUpdate && lastStreakUpdate !== today) {\n        // Broken streak\n        alert(`You broke your ${userObj.streak || 0}-day streak. Start a new one today!`);\n        const updatedUser = {\n          ...userObj,\n          streak: 1\n        };\n        setUser(updatedUser);\n        localStorage.setItem('user', JSON.stringify(updatedUser));\n      } else if (!lastStreakUpdate) {\n        // First login - start streak\n        const updatedUser = {\n          ...userObj,\n          streak: 1\n        };\n        setUser(updatedUser);\n        localStorage.setItem('user', JSON.stringify(updatedUser));\n      }\n    }\n\n    // Update last streak update date\n    setLastStreakUpdate(today);\n    localStorage.setItem('lastStreakUpdate', today);\n  };\n  const checkAchievements = streak => {\n    const newAchievements = [...achievements];\n    let updated = false;\n\n    // Check streak-based achievements\n    const achievement7 = newAchievements.find(a => a.name === \"7-Day Warrior\");\n    const achievement30 = newAchievements.find(a => a.name === \"30-Day Calm Seeker\");\n    const achievement365 = newAchievements.find(a => a.name === \"365-Day Legend\");\n    if (streak >= 7 && achievement7 && !achievement7.earned) {\n      achievement7.earned = true;\n      updated = true;\n      alert(\"🎉 Achievement Unlocked: 7-Day Warrior!\");\n    }\n    if (streak >= 30 && achievement30 && !achievement30.earned) {\n      achievement30.earned = true;\n      updated = true;\n      alert(\"🎉 Achievement Unlocked: 30-Day Calm Seeker!\");\n    }\n    if (streak >= 365 && achievement365 && !achievement365.earned) {\n      achievement365.earned = true;\n      updated = true;\n      alert(\"🎉 Achievement Unlocked: 365-Day Legend!\");\n    }\n    if (updated) {\n      setAchievements(newAchievements);\n      localStorage.setItem('achievements', JSON.stringify(newAchievements));\n    }\n  };\n\n  // Simulate typing animation\n  const simulateTyping = async () => {\n    const typingPhrases = [\"Thinking\", \"Thinking.\", \"Thinking..\", \"Thinking...\"];\n    for (let i = 0; i < 6; i++) {\n      setTypingIndicator(typingPhrases[i % 4]);\n      await new Promise(resolve => setTimeout(resolve, 300));\n    }\n    setTypingIndicator(\"\");\n  };\n  const handleLogin = async e => {\n    e.preventDefault();\n    setLoginError(\"\");\n    const formData = new FormData(e.target);\n    const credentials = {\n      email: formData.get('email'),\n      password: formData.get('password')\n    };\n    try {\n      const response = await fetch('http://localhost:5000/api/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(credentials)\n      });\n      const data = await response.json();\n      if (response.ok) {\n        // Store both access and refresh tokens\n        localStorage.setItem('accessToken', data.token);\n        localStorage.setItem('refreshToken', data.refreshToken);\n\n        // Map backend user properties to frontend expected structure\n        const userData = {\n          id: data.user.id,\n          email: data.user.email,\n          name: data.user.name,\n          coins: data.user.coins,\n          streak: data.user.streak,\n          mentalFitness: data.user.mentalFitness || 75\n        };\n        localStorage.setItem('user', JSON.stringify(userData));\n        localStorage.setItem('lastStreakUpdate', new Date().toDateString());\n        setUser(userData);\n        setIsLoggedIn(true);\n        setShowLogin(false);\n        loadInitialData();\n      } else {\n        setLoginError(data.error || \"Login failed\");\n      }\n    } catch (error) {\n      console.error(\"Login error:\", error);\n      // Fallback for demo - create a mock user\n      const mockUser = {\n        id: 1,\n        email: credentials.email,\n        name: \"Demo User\",\n        coins: 100,\n        streak: 1,\n        mentalFitness: 85\n      };\n      localStorage.setItem('accessToken', 'demo-token');\n      localStorage.setItem('refreshToken', 'demo-refresh-token');\n      localStorage.setItem('user', JSON.stringify(mockUser));\n      localStorage.setItem('lastStreakUpdate', new Date().toDateString());\n      setUser(mockUser);\n      setIsLoggedIn(true);\n      setShowLogin(false);\n      loadInitialData();\n    }\n  };\n  const handleRegister = async e => {\n    e.preventDefault();\n    setRegisterError(\"\");\n    const formData = new FormData(e.target);\n    const userData = {\n      name: formData.get('name'),\n      email: formData.get('email'),\n      password: formData.get('password'),\n      confirmPassword: formData.get('confirmPassword')\n    };\n    try {\n      const response = await fetch('http://localhost:5000/api/register', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(userData)\n      });\n      const data = await response.json();\n      if (response.ok) {\n        // Store both access and refresh tokens\n        localStorage.setItem('accessToken', data.token);\n        localStorage.setItem('refreshToken', data.refreshToken);\n\n        // Map backend user properties to frontend expected structure\n        const userObj = {\n          id: data.user.id,\n          email: data.user.email,\n          name: data.user.name,\n          coins: data.user.coins,\n          streak: data.user.streak,\n          mentalFitness: data.user.mentalFitness || 75\n        };\n        localStorage.setItem('user', JSON.stringify(userObj));\n        localStorage.setItem('lastStreakUpdate', new Date().toDateString());\n        setUser(userObj);\n        setIsLoggedIn(true);\n        setShowRegister(false);\n        setShowLogin(false);\n        loadInitialData();\n      } else {\n        setRegisterError(data.error || \"Registration failed\");\n      }\n    } catch (error) {\n      console.error(\"Registration error:\", error);\n      // Fallback for demo - create a mock user\n      const mockUser = {\n        id: 1,\n        email: userData.email,\n        name: userData.name,\n        coins: 20,\n        streak: 1,\n        mentalFitness: 75\n      };\n      localStorage.setItem('accessToken', 'demo-token');\n      localStorage.setItem('refreshToken', 'demo-refresh-token');\n      localStorage.setItem('user', JSON.stringify(mockUser));\n      localStorage.setItem('lastStreakUpdate', new Date().toDateString());\n      setUser(mockUser);\n      setIsLoggedIn(true);\n      setShowRegister(false);\n      setShowLogin(false);\n      loadInitialData();\n    }\n  };\n  const handleForgotPassword = async e => {\n    e.preventDefault();\n    const formData = new FormData(e.target);\n    const email = formData.get('email');\n    try {\n      const response = await fetch('http://localhost:5000/api/forgot-password', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email\n        })\n      });\n      const data = await response.json();\n      if (response.ok) {\n        alert(data.message);\n        setShowForgotPassword(false);\n        setShowLogin(true);\n      } else {\n        alert(data.error || \"Failed to send reset instructions\");\n      }\n    } catch (error) {\n      console.error(\"Forgot password error:\", error);\n      alert(\"Password reset feature is not available in demo mode.\");\n    }\n  };\n  const handleLogout = () => {\n    localStorage.removeItem('accessToken');\n    localStorage.removeItem('refreshToken');\n    localStorage.removeItem('user');\n    localStorage.removeItem('lastStreakUpdate');\n    setUser(null);\n    setIsLoggedIn(false);\n    setShowLogin(true);\n    setMessages([]);\n    setSidebarOpen(false);\n  };\n  const startNewChat = () => {\n    setMessages([{\n      text: \"Hello! I'm MoodMate, your mental health companion. How are you feeling today?\",\n      sender: \"bot\"\n    }]);\n    setShowNewChatModal(false);\n  };\n  const sendMessage = async () => {\n    if (!input.trim() || !isLoggedIn) return;\n    const userMsg = {\n      text: input,\n      sender: \"user\"\n    };\n    setMessages(prev => [...prev, userMsg]);\n    setInput(\"\");\n    setIsTyping(true);\n\n    // Check for emergency keywords\n    const emergencyKeywords = ['suicide', 'kill myself', 'end it all', 'want to die', 'self harm', 'hurt myself'];\n    const hasEmergency = emergencyKeywords.some(keyword => input.toLowerCase().includes(keyword));\n    if (hasEmergency) {\n      setShowEmergencyModal(true);\n      setIsTyping(false);\n      return;\n    }\n\n    // Simulate typing animation\n    simulateTyping();\n    try {\n      let token = localStorage.getItem('accessToken');\n      // Check if token exists and is valid\n      if (!token) {\n        throw new Error(\"No authentication token\");\n      }\n      const requestOptions = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          message: input\n        })\n      };\n      let response = await fetch('http://localhost:5000/api/chat', requestOptions);\n\n      // Handle 401 specifically - try to refresh token\n      if (response.status === 401) {\n        try {\n          token = await refreshToken();\n          requestOptions.headers.Authorization = `Bearer ${token}`;\n          response = await fetch('http://localhost:5000/api/chat', requestOptions);\n        } catch (refreshError) {\n          console.error(\"Token refresh failed, using fallback response\");\n          // Use fallback response instead of logging out\n          throw new Error(\"Token refresh failed, using fallback\");\n        }\n      }\n      if (!response.ok) {\n        throw new Error(\"API error\");\n      }\n      const data = await response.json();\n      handleChatResponse(data);\n    } catch (error) {\n      console.log(\"Chat error:\", error);\n      // Fallback to diverse AI responses based on mood detection\n      const mood = detectMoodFromInput(input);\n      const moodResponses = aiResponses[mood] || aiResponses.neutral;\n      const randomResponse = moodResponses[Math.floor(Math.random() * moodResponses.length)];\n      const botMsg = {\n        text: randomResponse,\n        sender: \"bot\",\n        mood: mood,\n        moodEmoji: getMoodEmoji(mood),\n        phrase: getMoodPhrase(mood)\n      };\n      setMessages(prev => [...prev, botMsg]);\n    }\n    setIsTyping(false);\n    setTypingIndicator(\"\");\n  };\n  const handleChatResponse = data => {\n    const botMsg = {\n      text: data.reply,\n      sender: \"bot\",\n      mood: data.mood,\n      moodEmoji: data.moodEmoji,\n      phrase: data.phrase\n    };\n    setMessages(prev => [...prev, botMsg]);\n\n    // Update user data if coins were earned\n    if (data.coinsEarned > 0) {\n      const newCoins = ((user === null || user === void 0 ? void 0 : user.coins) || 0) + data.coinsEarned;\n      const updatedUser = {\n        ...user,\n        coins: newCoins,\n        streak: data.streak\n      };\n      setUser(updatedUser);\n      localStorage.setItem('user', JSON.stringify(updatedUser));\n    }\n  };\n  const detectMoodFromInput = text => {\n    const textLower = text.toLowerCase();\n    if (textLower.includes('happy') || textLower.includes('good') || textLower.includes('great') || textLower.includes('excited')) return 'happy';\n    if (textLower.includes('sad') || textLower.includes('depressed') || textLower.includes('unhappy') || textLower.includes('cry')) return 'sad';\n    if (textLower.includes('anxious') || textLower.includes('nervous') || textLower.includes('worried') || textLower.includes('stress')) return 'anxious';\n    if (textLower.includes('angry') || textLower.includes('mad') || textLower.includes('frustrated') || textLower.includes('annoyed')) return 'angry';\n    return 'neutral';\n  };\n  const getMoodEmoji = mood => {\n    const emojis = {\n      happy: \"😊\",\n      sad: \"😢\",\n      anxious: \"😰\",\n      angry: \"😠\",\n      neutral: \"😊\"\n    };\n    return emojis[mood];\n  };\n  const getMoodPhrase = mood => {\n    const phrases = {\n      happy: \"खुश रहो हमेशा — आपकी मुस्कान की वजह कुछ है।\",\n      sad: \"यह भी बीत जाएगा — थोड़ी सी उम्मीद रखो।\",\n      anxious: \"शांत रहना सीखो, सब धीरे-धीरे ठीक होगा।\",\n      angry: \"गहरे साँस लो — हर ग़ुस्सा कुछ सिखा कर जाता है।\",\n      neutral: \"You're doing great. Keep going!\"\n    };\n    return phrases[mood];\n  };\n  const addJournalEntry = () => {\n    const entryText = prompt(\"What's on your mind today?\");\n    if (!entryText) return;\n\n    // Simulate journal entry creation\n    const newEntry = {\n      id: Date.now(),\n      text: entryText,\n      summary: \"Personal reflection\",\n      mood: \"neutral\",\n      date: new Date().toISOString().split('T')[0],\n      shared: false\n    };\n    setJournalEntries(prev => [newEntry, ...prev]);\n\n    // Award coins\n    const newCoins = ((user === null || user === void 0 ? void 0 : user.coins) || 0) + 3;\n    const updatedUser = {\n      ...user,\n      coins: newCoins\n    };\n    setUser(updatedUser);\n    localStorage.setItem('user', JSON.stringify(updatedUser));\n    alert(\"Journal entry saved! +3 coins earned!\");\n  };\n  const shareJournalEntry = entryId => {\n    const updatedEntries = journalEntries.map(e => e.id === entryId ? {\n      ...e,\n      shared: true\n    } : e);\n    setJournalEntries(updatedEntries);\n    alert(\"Journal entry shared to your tribes!\");\n  };\n  const addMoodWallPost = () => {\n    const postText = prompt(\"Share your feelings with the community (anonymous):\");\n    if (!postText) return;\n    const newPost = {\n      id: Date.now(),\n      text: postText,\n      mood: \"neutral\",\n      likes: 0,\n      timestamp: new Date().toISOString(),\n      anonymous: true,\n      userName: \"Anonymous\"\n    };\n    setMoodWall(prev => [newPost, ...prev]);\n    alert(\"Posted to mood wall!\");\n  };\n  const joinTribe = tribeId => {\n    const tribe = moodTribes.find(t => t.id === tribeId);\n    if (tribe) {\n      const updatedTribes = moodTribes.map(t => t.id === tribeId ? {\n        ...t,\n        isMember: true,\n        member_count: t.member_count + 1\n      } : t);\n      setMoodTribes(updatedTribes);\n      setUserTribes(prev => [...prev, tribe]);\n      localStorage.setItem('userTribes', JSON.stringify([...userTribes, tribe]));\n      alert(`🎉 You've joined the ${tribe.name}!`);\n    }\n  };\n  const sendTribeMessage = tribeId => {\n    if (!tribeInput.trim()) return;\n    const newMessage = {\n      id: Date.now(),\n      message: tribeInput,\n      user_name: \"You\",\n      timestamp: new Date().toISOString()\n    };\n    setTribeChatMessages(prev => ({\n      ...prev,\n      [tribeId]: [...(prev[tribeId] || []), newMessage]\n    }));\n    setTribeInput(\"\");\n  };\n  const playBreathingExercise = () => {\n    setMessages(prev => [...prev, {\n      text: \"Let's do a quick breathing exercise. Breathe in for 4 seconds, hold for 4 seconds, exhale for 6 seconds. Repeat 5 times. I'll guide you through it...\",\n      sender: \"bot\",\n      isExercise: true\n    }]);\n  };\n  const buyItem = item => {\n    if (user.coins < item.price) {\n      alert(\"Not enough coins!\");\n      return;\n    }\n    if (window.confirm(`Buy ${item.name} for ${item.price} coins?`)) {\n      const newCoins = user.coins - item.price;\n      const updatedUser = {\n        ...user,\n        coins: newCoins\n      };\n      setUser(updatedUser);\n      localStorage.setItem('user', JSON.stringify(updatedUser));\n      if (item.category === \"theme\") {\n        setCurrentTheme(item.name.toLowerCase().replace(' theme', ''));\n        localStorage.setItem('theme', item.name.toLowerCase().replace(' theme', ''));\n        alert(`Theme applied! You're now using the ${item.name}.`);\n      } else if (item.name === \"Second Chance Token\") {\n        localStorage.setItem('secondChanceToken', 'true');\n        alert(\"Second Chance Token purchased! This will save your streak if you miss a day.\");\n      } else if (item.name === \"Custom Voice\") {\n        alert(\"Custom Voice purchased! Your AI companion will now use a personalized voice.\");\n      } else if (item.name === \"Meditation Pack\") {\n        alert(\"Meditation Pack purchased! You now have access to exclusive meditation content.\");\n      } else {\n        alert(`Purchased ${item.name}!`);\n      }\n    }\n  };\n  const applyTheme = themeName => {\n    setCurrentTheme(themeName);\n    localStorage.setItem('theme', themeName);\n  };\n  const toggleAudio = () => {\n    const newAudioEnabled = !audioEnabled;\n    setAudioEnabled(newAudioEnabled);\n    localStorage.setItem('audioEnabled', newAudioEnabled);\n  };\n  const toggleMusic = () => {\n    const newMusicEnabled = !musicEnabled;\n    setMusicEnabled(newMusicEnabled);\n    localStorage.setItem('musicEnabled', newMusicEnabled);\n  };\n  const switchAiProvider = provider => {\n    setAiProvider(provider);\n    localStorage.setItem('aiProvider', provider);\n  };\n  const EmergencyModal = () => {\n    if (!showEmergencyModal) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"emergency-modal\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"emergency-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u26A0\\uFE0F We're concerned about you\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 845,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Please choose an option below. Your safety matters \\uD83D\\uDC99\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 846,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"emergency-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"emergency-call\",\n            onClick: () => {\n              window.open('tel:1-800-273-8255');\n              setShowEmergencyModal(false);\n            },\n            children: \"Call for Help \\uD83D\\uDD34\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 849,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"emergency-resources\",\n            onClick: () => {\n              alert(\"Crisis Resources:\\n\\n1. National Suicide Prevention Lifeline: 1-800-273-8255\\n2. Crisis Text Line: Text HOME to 741741\\n3. iCall India: +91-9152987821\");\n              setShowEmergencyModal(false);\n            },\n            children: \"Show Resources \\uD83D\\uDCCB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 859,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"emergency-ok\",\n            onClick: () => setShowEmergencyModal(false),\n            children: \"I'm Fine Now \\u2705\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 869,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 848,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 844,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 843,\n      columnNumber: 7\n    }, this);\n  };\n  const NewChatModal = () => {\n    if (!showNewChatModal) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Start New Chat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 887,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Are you sure you want to start a new chat? Your current conversation will be cleared.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 888,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: startNewChat,\n            className: \"btn-primary\",\n            children: \"Yes, Start New Chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 890,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowNewChatModal(false),\n            className: \"btn-secondary\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 891,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 889,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 886,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 885,\n      columnNumber: 7\n    }, this);\n  };\n  const TribeCommunity = () => {\n    if (!activeTribe) return null;\n    const tribeChat = tribeChatMessages[activeTribe.id] || [];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tribe-community\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tribe-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveTribe(null),\n          className: \"back-btn\",\n          children: \"\\u2190 Back to Communities\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 906,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [activeTribe.name, \" Community\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 909,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: activeTribe.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 910,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tribe-stats\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\uD83D\\uDC65 \", activeTribe.member_count, \" members\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 912,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\uD83D\\uDCAC \", tribeChat.length, \" messages\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 913,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 911,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 905,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tribe-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tribe-chat\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Community Chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 919,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tribe-messages\",\n            children: tribeChat.map(msg => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tribe-message\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-avatar\",\n                children: msg.user_name.charAt(0)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 923,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"message-sender\",\n                  children: msg.user_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 925,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: msg.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 926,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"message-time\",\n                  children: new Date(msg.timestamp).toLocaleTimeString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 927,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 924,\n                columnNumber: 19\n              }, this)]\n            }, `tribe-msg-${msg.id}-${Date.now()}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 922,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 920,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tribe-input\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Share something with the community...\",\n              value: tribeInput,\n              onChange: e => setTribeInput(e.target.value),\n              onKeyDown: e => e.key === \"Enter\" && sendTribeMessage(activeTribe.id)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 934,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => sendTribeMessage(activeTribe.id),\n              children: \"Send\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 941,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 933,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 918,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tribe-resources\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Community Resources\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 946,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"resource-list\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"resource-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Mindfulness Exercises\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 949,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Guided meditation for beginners\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 950,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                children: \"View\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 951,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 948,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"resource-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Support Threads\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 954,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Connect with others who understand\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 955,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                children: \"Explore\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 956,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 953,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"resource-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Weekly Challenges\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 959,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Join community wellness challenges\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 960,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                children: \"Participate\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 961,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 958,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 947,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 945,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 917,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 904,\n      columnNumber: 7\n    }, this);\n  };\n  const Sidebar = () => {\n    if (!sidebarOpen) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar-overlay\",\n      onClick: () => setSidebarOpen(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sidebar-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"MoodMate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 977,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setSidebarOpen(false),\n            className: \"close-btn\",\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 978,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 976,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sidebar-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sidebar-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Navigation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 983,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setActiveTab(\"chat\");\n                setSidebarOpen(false);\n              },\n              className: `sidebar-btn ${activeTab === \"chat\" ? \"active\" : \"\"}`,\n              children: \"\\uD83D\\uDCAC Chat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 984,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setActiveTab(\"journal\");\n                setSidebarOpen(false);\n              },\n              className: `sidebar-btn ${activeTab === \"journal\" ? \"active\" : \"\"}`,\n              children: \"\\uD83D\\uDCD3 Journal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 990,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setActiveTab(\"therapy\");\n                setSidebarOpen(false);\n              },\n              className: `sidebar-btn ${activeTab === \"therapy\" ? \"active\" : \"\"}`,\n              children: \"\\uD83D\\uDC68\\u200D\\u2695\\uFE0F Therapy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 996,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setActiveTab(\"community\");\n                setSidebarOpen(false);\n              },\n              className: `sidebar-btn ${activeTab === \"community\" ? \"active\" : \"\"}`,\n              children: \"\\uD83C\\uDF0D Community\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1002,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setActiveTab(\"shop\");\n                setSidebarOpen(false);\n              },\n              className: `sidebar-btn ${activeTab === \"shop\" ? \"active\" : \"\"}`,\n              children: \"\\uD83D\\uDED2 Shop\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1008,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setActiveTab(\"profile\");\n                setSidebarOpen(false);\n              },\n              className: `sidebar-btn ${activeTab === \"profile\" ? \"active\" : \"\"}`,\n              children: \"\\uD83D\\uDC64 Profile\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1014,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 982,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sidebar-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Quick Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1023,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowNewChatModal(true);\n                setSidebarOpen(false);\n              },\n              className: \"sidebar-btn\",\n              children: \"New Chat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1024,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                playBreathingExercise();\n                setSidebarOpen(false);\n              },\n              className: \"sidebar-btn\",\n              children: \"Breathing Exercise\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1027,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1022,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sidebar-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Settings\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1033,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Voice Responses\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1035,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"switch\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: audioEnabled,\n                  onChange: toggleAudio\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1037,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"slider\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1038,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1036,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1034,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Background Music\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1042,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"switch\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: musicEnabled,\n                  onChange: toggleMusic\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1044,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"slider\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1045,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1043,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1041,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"AI Provider\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1049,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: aiProvider,\n                onChange: e => switchAiProvider(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"gemini\",\n                  children: \"Gemini AI\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1051,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"fallback\",\n                  children: \"Fallback Mode\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1052,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1050,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1048,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1032,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 981,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 975,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 974,\n      columnNumber: 7\n    }, this);\n  };\n  if (!isLoggedIn) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-container auth-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\uD83C\\uDF19 MoodMate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1066,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Your mental health companion\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1067,\n          columnNumber: 11\n        }, this), showLogin && /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleLogin,\n          className: \"auth-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1071,\n            columnNumber: 15\n          }, this), loginError && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-message\",\n            children: loginError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1072,\n            columnNumber: 30\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            placeholder: \"Email\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1073,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"password\",\n            placeholder: \"Password\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1074,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1075,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"auth-links\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"auth-link\",\n              onClick: () => setShowRegister(true),\n              children: \"Create Account\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1078,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"auth-link\",\n              onClick: () => setShowForgotPassword(true),\n              children: \"Forgot Password?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1081,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1077,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1070,\n          columnNumber: 13\n        }, this), showRegister && /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleRegister,\n          className: \"auth-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1090,\n            columnNumber: 15\n          }, this), registerError && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-message\",\n            children: registerError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1091,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            placeholder: \"Full Name\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1092,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            placeholder: \"Email\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1093,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"password\",\n            placeholder: \"Password (min 8 chars)\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1094,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"confirmPassword\",\n            placeholder: \"Confirm Password\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1095,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1096,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Already have an account?\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"auth-link\",\n              onClick: () => setShowRegister(false),\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1099,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1097,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1089,\n          columnNumber: 13\n        }, this), showForgotPassword && /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleForgotPassword,\n          className: \"auth-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Reset Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1108,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            placeholder: \"Your Email\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1109,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Send Reset Instructions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1110,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Remember your password?\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"auth-link\",\n              onClick: () => setShowForgotPassword(false),\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1113,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1111,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1107,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1065,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1064,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `app-container ${currentTheme}-theme`,\n    children: [/*#__PURE__*/_jsxDEV(EmergencyModal, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1126,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NewChatModal, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1127,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1128,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"app-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setSidebarOpen(true),\n          className: \"menu-btn\",\n          children: \"\\u2630\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\uD83C\\uDF19 MoodMate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1133,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-stats\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"streak-display\",\n            children: [\"\\uD83D\\uDD25 \", (user === null || user === void 0 ? void 0 : user.streak) || 0, \" day streak\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1135,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\uD83E\\uDE99 \", (user === null || user === void 0 ? void 0 : user.coins) || 0, \" coins\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1136,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1134,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-right\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"user-name\",\n            children: user === null || user === void 0 ? void 0 : user.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1141,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"user-status\",\n            children: \"Online\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1142,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLogout,\n          className: \"logout-btn\",\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1144,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1139,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1130,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"app-nav\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: activeTab === \"chat\" ? \"active\" : \"\",\n        onClick: () => setActiveTab(\"chat\"),\n        children: \"\\uD83D\\uDCAC Chat\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: activeTab === \"journal\" ? \"active\" : \"\",\n        onClick: () => setActiveTab(\"journal\"),\n        children: \"\\uD83D\\uDCD3 Journal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: activeTab === \"therapy\" ? \"active\" : \"\",\n        onClick: () => setActiveTab(\"therapy\"),\n        children: \"\\uD83D\\uDC68\\u200D\\u2695\\uFE0F Therapy\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1161,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: activeTab === \"community\" ? \"active\" : \"\",\n        onClick: () => setActiveTab(\"community\"),\n        children: \"\\uD83C\\uDF0D Community\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1167,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: activeTab === \"shop\" ? \"active\" : \"\",\n        onClick: () => setActiveTab(\"shop\"),\n        children: \"\\uD83D\\uDED2 Shop\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1173,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: activeTab === \"profile\" ? \"active\" : \"\",\n        onClick: () => setActiveTab(\"profile\"),\n        children: \"\\uD83D\\uDC64 Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1179,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1148,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"app-main\",\n      children: [activeTab === \"chat\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-tab\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Chat with MoodMate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1191,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowNewChatModal(true),\n            className: \"new-chat-btn\",\n            children: \"+ New Chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1192,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1190,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-box\",\n          children: [messages.map((msg, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `chat-message ${msg.sender} ${msg.isReward ? 'reward' : ''} ${msg.isExercise ? 'exercise' : ''}`,\n            children: [msg.sender === \"bot\" && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"avatar bot-avatar\",\n              children: \"\\uD83E\\uDD16\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1200,\n              columnNumber: 21\n            }, this), msg.sender === \"user\" && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"avatar user-avatar\",\n              children: \"\\uD83D\\uDC64\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1203,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bubble\",\n              children: [msg.text, msg.moodEmoji && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mood-indicator\",\n                children: [msg.moodEmoji, \" \", msg.phrase]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1208,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1205,\n              columnNumber: 19\n            }, this)]\n          }, `msg-${i}-${msg.timestamp || Date.now()}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1198,\n            columnNumber: 17\n          }, this)), isTyping && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-message bot\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"avatar bot-avatar\",\n              children: \"\\uD83E\\uDD16\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1218,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bubble typing\",\n              children: typingIndicator || \"...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1219,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1217,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: chatEndRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1225,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1196,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-area\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"How are you feeling today?\",\n            value: input,\n            onChange: e => setInput(e.target.value),\n            onKeyDown: e => e.key === \"Enter\" && sendMessage()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1229,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: sendMessage,\n            className: \"send-btn\",\n            children: \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1236,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: playBreathingExercise,\n            className: \"exercise-btn\",\n            title: \"Breathing Exercise\",\n            children: \"\\uD83E\\uDDD8\\u200D\\u2642\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1237,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1228,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1189,\n        columnNumber: 11\n      }, this), activeTab === \"journal\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"journal-tab\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"journal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Your Journal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1245,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: addJournalEntry,\n            className: \"add-entry-btn\",\n            children: \"+ New Entry\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1246,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1244,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"journal-entries\",\n          children: journalEntries.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-state\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"No journal entries yet. Write your first entry!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1254,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: addJournalEntry,\n              children: \"Start Journaling\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1255,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1253,\n            columnNumber: 17\n          }, this) : journalEntries.map((entry, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"journal-entry\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"entry-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"entry-date\",\n                children: entry.date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1261,\n                columnNumber: 23\n              }, this), !entry.shared && userTribes.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => shareJournalEntry(entry.id),\n                className: \"share-btn\",\n                title: \"Share to your tribes\",\n                children: \"Share\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1263,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1260,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"entry-text\",\n              children: entry.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1272,\n              columnNumber: 21\n            }, this), entry.summary && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"entry-summary\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Summary:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1275,\n                columnNumber: 25\n              }, this), \" \", entry.summary]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1274,\n              columnNumber: 23\n            }, this), entry.mood && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"entry-mood\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Mood:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1280,\n                columnNumber: 25\n              }, this), \" \", entry.mood]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1279,\n              columnNumber: 23\n            }, this)]\n          }, `entry-${entry.id}-${index}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1259,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1251,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1243,\n        columnNumber: 11\n      }, this), activeTab === \"therapy\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"therapy-tab\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"resources-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83C\\uDD98 Crisis Resources\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1293,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"resources-grid\",\n            children: resources.filter(r => r.type === 'crisis').map((resource, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"resource-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: resource.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1297,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: resource.number\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1298,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                children: resource.available\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1299,\n                columnNumber: 21\n              }, this), resource.number && /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"call-btn\",\n                onClick: () => window.open(`tel:${resource.number.replace(/\\D/g, '')}`),\n                children: \"\\uD83D\\uDCDE Call Now\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1301,\n                columnNumber: 23\n              }, this)]\n            }, `resource-${index}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1296,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1294,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1292,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"therapists-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83D\\uDC68\\u200D\\u2695\\uFE0F Professional Therapists\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1314,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"therapists-grid\",\n            children: therapists.map(therapist => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"therapist-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"therapist-avatar\",\n                children: therapist.avatar\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1318,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: therapist.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1319,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: therapist.specialization\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1320,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\u2B50 \", therapist.rating, \" \\u2022 \", therapist.experience]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1321,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\uD83E\\uDE99 \", therapist.price, \" coins/session\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1322,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"book-btn\",\n                disabled: (user === null || user === void 0 ? void 0 : user.coins) < therapist.price,\n                children: (user === null || user === void 0 ? void 0 : user.coins) >= therapist.price ? \"Book Session\" : \"Not Enough Coins\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1323,\n                columnNumber: 21\n              }, this)]\n            }, `therapist-${therapist.id}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1317,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1315,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1313,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1291,\n        columnNumber: 11\n      }, this), activeTab === \"community\" && activeTribe ? /*#__PURE__*/_jsxDEV(TribeCommunity, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1337,\n        columnNumber: 11\n      }, this) : activeTab === \"community\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"community-tab\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"community-layout\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mood-wall-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\uD83C\\uDF0D Community Mood Wall\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1342,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: addMoodWallPost,\n              className: \"add-post-btn\",\n              children: \"+ Share Your Feelings\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1343,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mood-wall\",\n              children: moodWall.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"empty-state\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Be the first to share your thoughts with the community!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1347,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1346,\n                columnNumber: 21\n              }, this) : moodWall.slice(0, 3).map((post, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mood-post\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: post.text\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1352,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"post-footer\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"post-reactions\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      children: \"\\uD83D\\uDC96\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1355,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      children: \"\\uD83E\\uDD17\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1356,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      children: \"\\uD83D\\uDC4D\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1357,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1354,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"post-time\",\n                    children: new Date(post.timestamp).toLocaleDateString()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1359,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1353,\n                  columnNumber: 25\n                }, this)]\n              }, `post-${post.id}-${index}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1351,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1344,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1341,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tribes-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\uD83C\\uDFAF Mood Tribes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1368,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tribes-grid\",\n              children: moodTribes.map(tribe => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"tribe-card\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: tribe.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1372,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: tribe.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1373,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"member-count\",\n                  children: [\"\\uD83D\\uDC65 \", tribe.member_count, \" members\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1374,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => tribe.isMember ? setActiveTribe(tribe) : joinTribe(tribe.id),\n                  className: tribe.isMember ? \"joined-btn\" : \"join-btn\",\n                  children: tribe.isMember ? \"Visit Community\" : \"Join Tribe\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1375,\n                  columnNumber: 23\n                }, this)]\n              }, `tribe-${tribe.id}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1371,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1369,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1367,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1340,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1339,\n        columnNumber: 11\n      }, this) : null, activeTab === \"shop\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shop-tab\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD83D\\uDED2 MoodMate Shop\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1391,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Use your Mood Coins to unlock special features and customization options!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1392,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"shop-categories\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"category-btn active\",\n            children: \"All Items\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1395,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"category-btn\",\n            children: \"Themes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1396,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"category-btn\",\n            children: \"Cosmetics\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1397,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"category-btn\",\n            children: \"Content\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1398,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"category-btn\",\n            children: \"Utilities\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1399,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1394,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"shop-grid\",\n          children: shopItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shop-item-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item-image\",\n              children: [item.category === \"theme\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `theme-preview ${item.name.toLowerCase().replace(' theme', '')}-theme`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1406,\n                columnNumber: 51\n              }, this), item.category === \"cosmetic\" && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"item-icon\",\n                children: \"\\uD83C\\uDFA8\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1407,\n                columnNumber: 54\n              }, this), item.category === \"content\" && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"item-icon\",\n                children: \"\\uD83D\\uDCDA\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1408,\n                columnNumber: 53\n              }, this), item.category === \"utility\" && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"item-icon\",\n                children: \"\\u26A1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1409,\n                columnNumber: 53\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1405,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1412,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: item.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1413,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-price\",\n                children: [\"\\uD83E\\uDE99 \", item.price, \" coins\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1414,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => buyItem(item),\n                disabled: (user === null || user === void 0 ? void 0 : user.coins) < item.price,\n                className: (user === null || user === void 0 ? void 0 : user.coins) >= item.price ? \"buy-btn\" : \"disabled-btn\",\n                children: (user === null || user === void 0 ? void 0 : user.coins) >= item.price ? \"Purchase\" : \"Not Enough Coins\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1415,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1411,\n              columnNumber: 19\n            }, this)]\n          }, `shop-item-${item.id}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1404,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1402,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1390,\n        columnNumber: 11\n      }, this), activeTab === \"profile\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-tab\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-avatar\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"avatar-image\",\n              children: (user === null || user === void 0 ? void 0 : (_user$name = user.name) === null || _user$name === void 0 ? void 0 : _user$name.charAt(0)) || 'U'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1433,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-badge\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\uD83D\\uDD25 \", (user === null || user === void 0 ? void 0 : user.streak) || 0]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1437,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1436,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1432,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: user === null || user === void 0 ? void 0 : user.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1441,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"member-since\",\n              children: \"Active Member\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1442,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-stats\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: (user === null || user === void 0 ? void 0 : user.streak) || 0\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1446,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Day Streak\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1447,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1445,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: (user === null || user === void 0 ? void 0 : user.coins) || 0\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1450,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Mood Coins\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1451,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1449,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: userTribes.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1454,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Tribes Joined\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1455,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1453,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: journalEntries.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1458,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Journal Entries\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1459,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1457,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1444,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1440,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1431,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83D\\uDD25 Streak Progress\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1466,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"streak-progress\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"streak-days\",\n              children: [7, 30, 90, 180, 365].map(day => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `streak-milestone ${(user === null || user === void 0 ? void 0 : user.streak) >= day ? 'achieved' : ''}`,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"milestone-day\",\n                  children: day\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1471,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"milestone-label\",\n                  children: [day, \" Days\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1472,\n                  columnNumber: 23\n                }, this)]\n              }, `milestone-${day}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1470,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1468,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"streak-bar\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"streak-progress-bar\",\n                style: {\n                  width: `${Math.min(100, (user === null || user === void 0 ? void 0 : user.streak) / 365 * 100)}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1477,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1476,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"current-streak\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Current Streak: \", (user === null || user === void 0 ? void 0 : user.streak) || 0, \" days\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1483,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Next milestone: \", (user === null || user === void 0 ? void 0 : user.streak) < 7 ? 7 : (user === null || user === void 0 ? void 0 : user.streak) < 30 ? 30 : (user === null || user === void 0 ? void 0 : user.streak) < 90 ? 90 : (user === null || user === void 0 ? void 0 : user.streak) < 180 ? 180 : 365, \" days\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1484,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1482,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1467,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1465,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83C\\uDFC5 Achievements & Badges\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1490,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"achievements-grid\",\n            children: achievements.map(achievement => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `achievement ${achievement.earned ? 'earned' : 'locked'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"achievement-icon\",\n                children: achievement.icon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1494,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"achievement-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: achievement.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1496,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: achievement.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1497,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1495,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"achievement-status\",\n                children: achievement.earned ? '✓' : '🔒'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1499,\n                columnNumber: 21\n              }, this)]\n            }, `achievement-${achievement.id}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1493,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1491,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1489,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83D\\uDC65 My Tribes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1508,\n            columnNumber: 15\n          }, this), userTribes.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"You haven't joined any tribes yet. Visit the Community tab to join one!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1510,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-tribes\",\n            children: userTribes.map(tribe => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-tribe\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: tribe.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1515,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setActiveTribe(tribe),\n                children: \"Visit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1516,\n                columnNumber: 23\n              }, this)]\n            }, `user-tribe-${tribe.id}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1514,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1512,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1507,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u2699\\uFE0F Settings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1526,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"settings-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Voice Responses\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1529,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"switch\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: audioEnabled,\n                  onChange: toggleAudio\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1531,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"slider\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1532,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1530,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1528,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Background Music\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1536,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"switch\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: musicEnabled,\n                  onChange: toggleMusic\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1538,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"slider\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1539,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1537,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1535,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"AI Provider\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1543,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: aiProvider,\n                onChange: e => switchAiProvider(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"gemini\",\n                  children: \"Gemini AI\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1545,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"fallback\",\n                  children: \"Fallback Mode\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1546,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1544,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1542,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1527,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1525,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1430,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1187,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1125,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"PSBYOnJEyw32fu+oXZVfs1nWbME=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","App","_s","_user$name","messages","setMessages","input","setInput","isTyping","setIsTyping","user","setUser","isLoggedIn","setIsLoggedIn","showLogin","setShowLogin","showRegister","setShowRegister","showForgotPassword","setShowForgotPassword","activeTab","setActiveTab","journalEntries","setJournalEntries","therapists","setTherapists","resources","setResources","moodWall","setMoodWall","moodTribes","setMoodTribes","shopItems","setShopItems","userTribes","setUserTribes","currentTheme","setCurrentTheme","typingIndicator","setTypingIndicator","showEmergencyModal","setShowEmergencyModal","achievements","setAchievements","activeTribe","setActiveTribe","sidebarOpen","setSidebarOpen","showNewChatModal","setShowNewChatModal","loginError","setLoginError","registerError","setRegisterError","aiProvider","setAiProvider","audioEnabled","setAudioEnabled","musicEnabled","setMusicEnabled","tribeChatMessages","setTribeChatMessages","tribeInput","setTribeInput","lastStreakUpdate","setLastStreakUpdate","chatEndRef","sampleTherapists","id","name","specialization","price","rating","experience","avatar","sampleResources","type","number","available","website","description","sampleMoodTribes","member_count","isMember","sampleShopItems","category","sampleAchievements","earned","icon","aiResponses","happy","sad","anxious","angry","neutral","token","localStorage","getItem","refreshToken","userData","savedTheme","savedTribes","JSON","parse","savedAchievements","savedAiProvider","savedAudio","savedMusic","savedLastStreakUpdate","userObj","loadInitialData","updateStreakAndCoins","_chatEndRef$current","current","scrollIntoView","behavior","checkBackendConnectivity","response","fetch","ok","console","warn","error","Error","method","headers","body","stringify","data","json","setItem","status","removeItem","window","location","href","handleApiError","originalRequest","message","includes","newToken","Authorization","retryResponse","url","refreshError","handleLogout","alert","text","sender","userTribeIds","map","t","updatedTribes","tribe","samplePosts","mood","likes","timestamp","Date","now","toISOString","anonymous","userName","sampleEntries","summary","date","split","shared","initialTribeChats","forEach","user_name","today","toDateString","hasSecondChance","yesterday","setDate","getDate","newStreak","streak","updatedUser","coinsEarned","Math","min","floor","newCoins","coins","updatedUserWithCoins","checkAchievements","newAchievements","updated","achievement7","find","a","achievement30","achievement365","simulateTyping","typingPhrases","i","Promise","resolve","setTimeout","handleLogin","e","preventDefault","formData","FormData","target","credentials","email","get","password","mentalFitness","mockUser","handleRegister","confirmPassword","handleForgotPassword","startNewChat","sendMessage","trim","userMsg","prev","emergencyKeywords","hasEmergency","some","keyword","toLowerCase","requestOptions","handleChatResponse","log","detectMoodFromInput","moodResponses","randomResponse","random","length","botMsg","moodEmoji","getMoodEmoji","phrase","getMoodPhrase","reply","textLower","emojis","phrases","addJournalEntry","entryText","prompt","newEntry","shareJournalEntry","entryId","updatedEntries","addMoodWallPost","postText","newPost","joinTribe","tribeId","sendTribeMessage","newMessage","playBreathingExercise","isExercise","buyItem","item","confirm","replace","applyTheme","themeName","toggleAudio","newAudioEnabled","toggleMusic","newMusicEnabled","switchAiProvider","provider","EmergencyModal","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","open","NewChatModal","TribeCommunity","tribeChat","msg","charAt","toLocaleTimeString","placeholder","value","onChange","onKeyDown","key","Sidebar","stopPropagation","checked","onSubmit","required","isReward","ref","title","entry","index","filter","r","resource","therapist","disabled","slice","post","toLocaleDateString","day","style","width","achievement","_c","$RefreshReg$"],"sources":["C:/Users/Prabhat singh/Downloads/Best_Project/frontend/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport \"./app.css\";\r\n\r\nfunction App() {\r\n  const [messages, setMessages] = useState([]);\r\n  const [input, setInput] = useState(\"\");\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  const [user, setUser] = useState(null);\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [showLogin, setShowLogin] = useState(true);\r\n  const [showRegister, setShowRegister] = useState(false);\r\n  const [showForgotPassword, setShowForgotPassword] = useState(false);\r\n  const [activeTab, setActiveTab] = useState(\"chat\");\r\n  const [journalEntries, setJournalEntries] = useState([]);\r\n  const [therapists, setTherapists] = useState([]);\r\n  const [resources, setResources] = useState([]);\r\n  const [moodWall, setMoodWall] = useState([]);\r\n  const [moodTribes, setMoodTribes] = useState([]);\r\n  const [shopItems, setShopItems] = useState([]);\r\n  const [userTribes, setUserTribes] = useState([]);\r\n  const [currentTheme, setCurrentTheme] = useState(\"default\");\r\n  const [typingIndicator, setTypingIndicator] = useState(\"\");\r\n  const [showEmergencyModal, setShowEmergencyModal] = useState(false);\r\n  const [achievements, setAchievements] = useState([]);\r\n  const [activeTribe, setActiveTribe] = useState(null);\r\n  const [sidebarOpen, setSidebarOpen] = useState(false);\r\n  const [showNewChatModal, setShowNewChatModal] = useState(false);\r\n  const [loginError, setLoginError] = useState(\"\");\r\n  const [registerError, setRegisterError] = useState(\"\");\r\n  const [aiProvider, setAiProvider] = useState(\"gemini\");\r\n  const [audioEnabled, setAudioEnabled] = useState(true);\r\n  const [musicEnabled, setMusicEnabled] = useState(true);\r\n  const [tribeChatMessages, setTribeChatMessages] = useState({});\r\n  const [tribeInput, setTribeInput] = useState(\"\");\r\n  const [lastStreakUpdate, setLastStreakUpdate] = useState(\"\");\r\n\r\n  const chatEndRef = useRef(null);\r\n\r\n  // Sample data\r\n  const sampleTherapists = [\r\n    {id: 1, name: \"Dr. Priya Sharma\", specialization: \"Clinical Psychology\", price: 799, rating: 4.7, experience: \"8 years\", avatar: \"👩‍⚕️\"},\r\n    {id: 2, name: \"Rajiv Mehta\", specialization: \"Counseling Psychology\", price: 599, rating: 4.5, experience: \"5 years\", avatar: \"👨‍⚕️\"},\r\n    {id: 3, name: \"Dr. Anjali Singh\", specialization: \"Psychiatry\", price: 999, rating: 4.8, experience: \"12 years\", avatar: \"👩‍⚕️\"},\r\n    {id: 4, name: \"Neha Gupta\", specialization: \"Art Therapy\", price: 499, rating: 4.6, experience: \"4 years\", avatar: \"🎨\"}\r\n  ];\r\n\r\n  const sampleResources = [\r\n    {type: \"crisis\", name: \"National Suicide Prevention Lifeline\", number: \"1-800-273-8255\", available: \"24/7\"},\r\n    {type: \"crisis\", name: \"Crisis Text Line\", number: \"Text HOME to 741741\", available: \"24/7\"},\r\n    {type: \"support\", name: \"Mental Health America\", website: \"mhanational.org\", description: \"Resources and screening tools\"}\r\n  ];\r\n\r\n  const sampleMoodTribes = [\r\n    {id: 1, name: \"Positivity Tribe\", description: \"For those seeking positivity and joy\", member_count: 245, isMember: false},\r\n    {id: 2, name: \"Calm Collective\", description: \"Find your inner peace together\", member_count: 189, isMember: false},\r\n    {id: 3, name: \"Anxiety Allies\", description: \"Support for those dealing with anxiety\", member_count: 312, isMember: false},\r\n    {id: 4, name: \"Mindfulness Masters\", description: \"Practice mindfulness together\", member_count: 156, isMember: false},\r\n    {id: 5, name: \"Breakup Recovery\", description: \"Healing after relationship endings\", member_count: 128, isMember: false},\r\n    {id: 6, name: \"Career Stress\", description: \"Managing work-related stress\", member_count: 201, isMember: false},\r\n    {id: 7, name: \"Student Support\", description: \"Academic pressure and study stress\", member_count: 178, isMember: false}\r\n  ];\r\n\r\n  const sampleShopItems = [\r\n    {id: 1, name: \"Sunset Theme\", description: \"Warm orange and purple theme\", price: 0, category: \"theme\"},\r\n    {id: 2, name: \"Ocean Theme\", description: \"Calming blue theme\", price: 0, category: \"theme\"},\r\n    {id: 3, name: \"Forest Theme\", description: \"Green nature-inspired theme\", price: 0, category: \"theme\"},\r\n    {id: 4, name: \"Neon Theme\", description: \"Vibrant neon colors\", price: 5, category: \"theme\"},\r\n    {id: 5, name: \"Glass Theme\", description: \"Modern glassmorphism design\", price: 0, category: \"theme\"},\r\n    {id: 6, name: \"Exclusive Avatar\", description: \"Special avatar frame\", price: 0, category: \"cosmetic\"},\r\n    {id: 7, name: \"Meditation Pack\", description: \"Exclusive meditation guides\", price: 5, category: \"content\"},\r\n    {id: 8, name: \"Second Chance Token\", description: \"Save your streak if you miss a day\", price: 0, category: \"utility\"},\r\n    {id: 9, name: \"Custom Voice\", description: \"Personalized AI voice\", price: 0, category: \"feature\"}\r\n  ];\r\n\r\n  const sampleAchievements = [\r\n    {id: 1, name: \"First Steps\", description: \"Complete your first journal entry\", earned: true, icon: \"📝\"},\r\n    {id: 2, name: \"7-Day Warrior\", description: \"Maintain a 7-day streak\", earned: false, icon: \"🔥\"},\r\n    {id: 3, name: \"Community Builder\", description: \"Join your first tribe\", earned: false, icon: \"👥\"},\r\n    {id: 4, name: \"30-Day Calm Seeker\", description: \"Maintain a 30-day streak\", earned: false, icon: \"🌿\"},\r\n    {id: 5, name: \"365-Day Legend\", description: \"Maintain a 365-day streak\", earned: false, icon: \"👑\"},\r\n    {id: 6, name: \"Mental Fitness Pro\", description: \"Reach 90+ mental fitness score\", earned: false, icon: \"💪\"}\r\n  ];\r\n\r\n  // AI Response templates for different moods\r\n  const aiResponses = {\r\n    happy: [\r\n      \"That's wonderful to hear! 😊 Your positivity is contagious. What's making you feel so happy today?\",\r\n      \"I'm so glad you're feeling happy! 🌟 Celebrating the good moments is important. Want to share what's bringing you joy?\",\r\n      \"Happiness looks good on you! ✨ Let's savor this moment together. What's making you smile today?\"\r\n    ],\r\n    sad: [\r\n      \"I'm sorry you're feeling down. 😔 It's okay to have sad days - they make the happy ones brighter. Want to talk about what's bothering you?\",\r\n      \"I hear you're feeling sad, and I'm here for you. 💙 Sometimes just sharing how we feel can lighten the load. What's on your mind?\",\r\n      \"Thank you for sharing that you're feeling sad. It takes courage to acknowledge these feelings. 🌧️ Would you like to talk more about what's causing this?\"\r\n    ],\r\n    anxious: [\r\n      \"I understand that anxious feeling. 🫂 Let's take a deep breath together. Would you like to try a quick grounding exercise?\",\r\n      \"Anxiety can be really overwhelming. 💭 I'm here to help you through it. Want to explore what's triggering these feelings?\",\r\n      \"It's okay to feel anxious sometimes. 🌫️ Let's work through this together. Would naming the specific worries help?\"\r\n    ],\r\n    angry: [\r\n      \"I hear the frustration in your words. 💢 Anger is a valid emotion - it's what we do with it that matters. Want to talk about what's upsetting you?\",\r\n      \"It sounds like you're feeling pretty angry right now. 🔥 Let's channel that energy constructively. What's triggering this response?\",\r\n      \"Anger can be a powerful messenger. 📣 I'm here to listen without judgment. Want to explore what's beneath the surface?\"\r\n    ],\r\n    neutral: [\r\n      \"Thanks for checking in with me. 🤗 How has your day been so far?\",\r\n      \"I'm here to listen whenever you're ready to share. 💫 What's on your mind today?\",\r\n      \"Hello there! 🌈 How are you really feeling behind that neutral facade?\"\r\n    ]\r\n  };\r\n\r\n  // Load saved session\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('accessToken');\r\n    const refreshToken = localStorage.getItem('refreshToken');\r\n    const userData = localStorage.getItem('user');\r\n    const savedTheme = localStorage.getItem('theme') || 'default';\r\n    const savedTribes = JSON.parse(localStorage.getItem('userTribes') || '[]');\r\n    const savedAchievements = JSON.parse(localStorage.getItem('achievements') || '[]');\r\n    const savedAiProvider = localStorage.getItem('aiProvider') || 'gemini';\r\n    const savedAudio = localStorage.getItem('audioEnabled') !== 'false';\r\n    const savedMusic = localStorage.getItem('musicEnabled') !== 'false';\r\n    const savedLastStreakUpdate = localStorage.getItem('lastStreakUpdate') || '';\r\n    \r\n    if (token && userData) {\r\n      const userObj = JSON.parse(userData);\r\n      setUser(userObj);\r\n      setIsLoggedIn(true);\r\n      setShowLogin(false);\r\n      setCurrentTheme(savedTheme);\r\n      setUserTribes(savedTribes);\r\n      setAchievements(savedAchievements);\r\n      setAiProvider(savedAiProvider);\r\n      setAudioEnabled(savedAudio);\r\n      setMusicEnabled(savedMusic);\r\n      setLastStreakUpdate(savedLastStreakUpdate);\r\n      loadInitialData();\r\n      \r\n      // Update streak if it's a new day\r\n      updateStreakAndCoins(userObj);\r\n    }\r\n  }, []);\r\n\r\n  // Auto scroll\r\n  useEffect(() => {\r\n    chatEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  }, [messages]);\r\n\r\n  // Check backend connectivity on app load\r\n  useEffect(() => {\r\n    checkBackendConnectivity();\r\n  }, []);\r\n\r\n  const checkBackendConnectivity = async () => {\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/health');\r\n      if (!response.ok) {\r\n        console.warn(\"Backend server might be down\");\r\n      }\r\n    } catch (error) {\r\n      console.warn(\"Cannot connect to backend server\", error);\r\n    }\r\n  };\r\n\r\n  const refreshToken = async () => {\r\n    try {\r\nconst refreshToken = localStorage.getItem('refreshToken');\r\n      if (!refreshToken) {\r\n        throw new Error(\"No refresh token available\");\r\n      }\r\n\r\n      const response = await fetch('http://localhost:5000/api/refresh', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ refreshToken })\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        localStorage.setItem('accessToken', data.token);\r\n        return data.token;\r\n      } else if (response.status === 401) { // Check for 401 status\r\n        console.error(\"Token refresh failed with status:\", response.status);\r\n        // Handle invalid refresh token - e.g., clear tokens and redirect to login\r\n        localStorage.removeItem('accessToken');\r\n        localStorage.removeItem('refreshToken');\r\n        // Replace with your actual login page route\r\n        window.location.href = '/login';\r\n        throw new Error(\"Refresh token is invalid. Please log in again.\");\r\n      }\r\n      else {\r\n        console.error(\"Token refresh failed with status:\", response.status);\r\n        throw new Error(\"Token refresh failed\");\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error(\"Token refresh error:\", error);\r\n      // Don't logout immediately, let the individual requests handle fallback\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const handleApiError = async (error, originalRequest = null) => {\r\n    console.error(\"API Error:\", error);\r\n    \r\n    // Handle token expiration\r\n    if (error.message.includes(\"401\") || error.message.includes(\"authentication\")) {\r\n      try {\r\n        // Try to refresh the token\r\n        const newToken = await refreshToken();\r\n        \r\n        // Retry the original request if provided\r\n        if (originalRequest && newToken) {\r\n          originalRequest.headers.Authorization = `Bearer ${newToken}`;\r\n          const retryResponse = await fetch(originalRequest.url, originalRequest);\r\n          return retryResponse;\r\n        }\r\n        \r\n        return true;\r\n      } catch (refreshError) {\r\n        console.error(\"Token refresh failed:\", refreshError);\r\n        // Only logout if it's a critical operation, otherwise use fallback\r\n        if (originalRequest && originalRequest.url.includes('/api/chat')) {\r\n          handleLogout();\r\n          alert(\"Session expired. Please login again.\");\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n    \r\n    return false;\r\n  };\r\n\r\n  const loadInitialData = () => {\r\n    setMessages([{\r\n      text: \"Hello! I'm MoodMate, your mental health companion. How are you feeling today?\",\r\n      sender: \"bot\"\r\n    }]);\r\n    \r\n    // Use sample data since backend endpoints might not be available\r\n    setTherapists(sampleTherapists);\r\n    setResources(sampleResources);\r\n    \r\n    // Update tribes with user's membership status\r\n    const userTribeIds = userTribes.map(t => t.id);\r\n    const updatedTribes = sampleMoodTribes.map(tribe => ({\r\n      ...tribe,\r\n      isMember: userTribeIds.includes(tribe.id)\r\n    }));\r\n    setMoodTribes(updatedTribes);\r\n    \r\n    setShopItems(sampleShopItems);\r\n    \r\n    // Load sample mood wall\r\n    const samplePosts = [\r\n      {id: 1, text: \"Today I finally managed to meditate for 10 minutes straight! Feeling proud of myself.\", mood: \"happy\", likes: 12, timestamp: new Date(Date.now() - 2*60*60*1000).toISOString(), anonymous: true, userName: \"Anonymous\"},\r\n      {id: 2, text: \"Struggling with anxiety today. Anyone else feeling this way?\", mood: \"anxious\", likes: 8, timestamp: new Date(Date.now() - 5*60*60*1000).toISOString(), anonymous: true, userName: \"Anonymous\"},\r\n      {id: 3, text: \"Grateful for this community. Reading your stories gives me hope.\", mood: \"grateful\", likes: 25, timestamp: new Date(Date.now() - 8*60*60*1000).toISOString(), anonymous: false, userName: \"HappyUser123\"}\r\n    ];\r\n    setMoodWall(samplePosts);\r\n    \r\n    // Load sample journal entries\r\n    const sampleEntries = [\r\n      {id: 1, text: \"Today was a good day. I felt productive and happy.\", summary: \"Positive day with productivity\", mood: \"happy\", date: new Date().toISOString().split('T')[0], shared: false},\r\n      {id: 2, text: \"Feeling a bit anxious about the upcoming presentation. Need to practice more.\", summary: \"Anxious about presentation\", mood: \"anxious\", date: \"2023-10-24\", shared: true},\r\n      {id: 3, text: \"Had a great conversation with my friend. It felt good to open up.\", summary: \"Positive social interaction\", mood: \"happy\", date: \"2023-10-23\", shared: false}\r\n    ];\r\n    setJournalEntries(sampleEntries);\r\n    \r\n    // Initialize tribe chat messages\r\n    const initialTribeChats = {};\r\n    sampleMoodTribes.forEach(tribe => {\r\n      initialTribeChats[tribe.id] = [\r\n        {id: 1, message: \"Hello everyone! How are you all feeling today?\", user_name: \"Anonymous\", timestamp: new Date(Date.now() - 2*60*60*1000).toISOString()},\r\n        {id: 2, message: \"I've been practicing mindfulness and it's really helping with my anxiety 😊\", user_name: \"Anonymous\", timestamp: new Date(Date.now() - 1*60*60*1000).toISOString()}\r\n      ];\r\n    });\r\n    setTribeChatMessages(initialTribeChats);\r\n  };\r\n  \r\n  const updateStreakAndCoins = (userObj) => {\r\n    const today = new Date().toDateString();\r\n    \r\n    // If we've already updated today, don't do anything\r\n    if (lastStreakUpdate === today) return;\r\n    \r\n    // Check if user has a second chance token\r\n    const hasSecondChance = localStorage.getItem('secondChanceToken') === 'true';\r\n    \r\n    if (hasSecondChance) {\r\n      // Use second chance token\r\n      localStorage.removeItem('secondChanceToken');\r\n      alert(\"You used a Second Chance Token to keep your streak! 🔥\");\r\n    } else {\r\n      // Update streak based on consecutive login\r\n      const yesterday = new Date();\r\n      yesterday.setDate(yesterday.getDate() - 1);\r\n      \r\n      if (lastStreakUpdate === yesterday.toDateString()) {\r\n        // Consecutive login - increase streak\r\n        const newStreak = (userObj.streak || 0) + 1;\r\n        const updatedUser = {...userObj, streak: newStreak};\r\n        setUser(updatedUser);\r\n        localStorage.setItem('user', JSON.stringify(updatedUser));\r\n        \r\n        // Award coins based on streak length\r\n        const coinsEarned = Math.min(5 + Math.floor(newStreak / 7), 20);\r\n        const newCoins = (userObj.coins || 0) + coinsEarned;\r\n        const updatedUserWithCoins = {...updatedUser, coins: newCoins};\r\n        setUser(updatedUserWithCoins);\r\n        localStorage.setItem('user', JSON.stringify(updatedUserWithCoins));\r\n        \r\n        // Check for achievement unlocks\r\n        checkAchievements(newStreak);\r\n      } else if (lastStreakUpdate && lastStreakUpdate !== today) {\r\n        // Broken streak\r\n        alert(`You broke your ${userObj.streak || 0}-day streak. Start a new one today!`);\r\n        const updatedUser = {...userObj, streak: 1};\r\n        setUser(updatedUser);\r\n        localStorage.setItem('user', JSON.stringify(updatedUser));\r\n      } else if (!lastStreakUpdate) {\r\n        // First login - start streak\r\n        const updatedUser = {...userObj, streak: 1};\r\n        setUser(updatedUser);\r\n        localStorage.setItem('user', JSON.stringify(updatedUser));\r\n      }\r\n    }\r\n    \r\n    // Update last streak update date\r\n    setLastStreakUpdate(today);\r\n    localStorage.setItem('lastStreakUpdate', today);\r\n  };\r\n\r\n  const checkAchievements = (streak) => {\r\n    const newAchievements = [...achievements];\r\n    let updated = false;\r\n    \r\n    // Check streak-based achievements\r\n    const achievement7 = newAchievements.find(a => a.name === \"7-Day Warrior\");\r\n    const achievement30 = newAchievements.find(a => a.name === \"30-Day Calm Seeker\");\r\n    const achievement365 = newAchievements.find(a => a.name === \"365-Day Legend\");\r\n    \r\n    if (streak >= 7 && achievement7 && !achievement7.earned) {\r\n      achievement7.earned = true;\r\n      updated = true;\r\n      alert(\"🎉 Achievement Unlocked: 7-Day Warrior!\");\r\n    }\r\n    \r\n    if (streak >= 30 && achievement30 && !achievement30.earned) {\r\n      achievement30.earned = true;\r\n      updated = true;\r\n      alert(\"🎉 Achievement Unlocked: 30-Day Calm Seeker!\");\r\n    }\r\n    \r\n    if (streak >= 365 && achievement365 && !achievement365.earned) {\r\n      achievement365.earned = true;\r\n      updated = true;\r\n      alert(\"🎉 Achievement Unlocked: 365-Day Legend!\");\r\n    }\r\n    \r\n    if (updated) {\r\n      setAchievements(newAchievements);\r\n      localStorage.setItem('achievements', JSON.stringify(newAchievements));\r\n    }\r\n  };\r\n\r\n  // Simulate typing animation\r\n  const simulateTyping = async () => {\r\n    const typingPhrases = [\"Thinking\", \"Thinking.\", \"Thinking..\", \"Thinking...\"];\r\n    for (let i = 0; i < 6; i++) {\r\n      setTypingIndicator(typingPhrases[i % 4]);\r\n      await new Promise(resolve => setTimeout(resolve, 300));\r\n    }\r\n    setTypingIndicator(\"\");\r\n  };\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    setLoginError(\"\");\r\n    const formData = new FormData(e.target);\r\n    const credentials = {\r\n      email: formData.get('email'),\r\n      password: formData.get('password')\r\n    };\r\n\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/login', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(credentials)\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        // Store both access and refresh tokens\r\n        localStorage.setItem('accessToken', data.token);\r\n        localStorage.setItem('refreshToken', data.refreshToken);\r\n        \r\n        // Map backend user properties to frontend expected structure\r\n        const userData = {\r\n          id: data.user.id,\r\n          email: data.user.email,\r\n          name: data.user.name,\r\n          coins: data.user.coins,\r\n          streak: data.user.streak,\r\n          mentalFitness: data.user.mentalFitness || 75\r\n        };\r\n        \r\n        localStorage.setItem('user', JSON.stringify(userData));\r\n        localStorage.setItem('lastStreakUpdate', new Date().toDateString());\r\n        setUser(userData);\r\n        setIsLoggedIn(true);\r\n        setShowLogin(false);\r\n        loadInitialData();\r\n      } else {\r\n        setLoginError(data.error || \"Login failed\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Login error:\", error);\r\n      // Fallback for demo - create a mock user\r\n      const mockUser = {\r\n        id: 1,\r\n        email: credentials.email,\r\n        name: \"Demo User\",\r\n        coins: 100,\r\n        streak: 1,\r\n        mentalFitness: 85\r\n      };\r\n      localStorage.setItem('accessToken', 'demo-token');\r\n      localStorage.setItem('refreshToken', 'demo-refresh-token');\r\n      localStorage.setItem('user', JSON.stringify(mockUser));\r\n      localStorage.setItem('lastStreakUpdate', new Date().toDateString());\r\n      setUser(mockUser);\r\n      setIsLoggedIn(true);\r\n      setShowLogin(false);\r\n      loadInitialData();\r\n    }\r\n  };\r\n\r\n  const handleRegister = async (e) => {\r\n    e.preventDefault();\r\n    setRegisterError(\"\");\r\n    const formData = new FormData(e.target);\r\n    const userData = {\r\n      name: formData.get('name'),\r\n      email: formData.get('email'),\r\n      password: formData.get('password'),\r\n      confirmPassword: formData.get('confirmPassword')\r\n    };\r\n\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/register', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(userData)\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        // Store both access and refresh tokens\r\n        localStorage.setItem('accessToken', data.token);\r\n        localStorage.setItem('refreshToken', data.refreshToken);\r\n        \r\n        // Map backend user properties to frontend expected structure\r\n        const userObj = {\r\n          id: data.user.id,\r\n          email: data.user.email,\r\n          name: data.user.name,\r\n          coins: data.user.coins,\r\n          streak: data.user.streak,\r\n          mentalFitness: data.user.mentalFitness || 75\r\n        };\r\n        \r\n        localStorage.setItem('user', JSON.stringify(userObj));\r\n        localStorage.setItem('lastStreakUpdate', new Date().toDateString());\r\n        setUser(userObj);\r\n        setIsLoggedIn(true);\r\n        setShowRegister(false);\r\n        setShowLogin(false);\r\n        loadInitialData();\r\n      } else {\r\n        setRegisterError(data.error || \"Registration failed\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Registration error:\", error);\r\n      // Fallback for demo - create a mock user\r\n      const mockUser = {\r\n        id: 1,\r\n        email: userData.email,\r\n        name: userData.name,\r\n        coins: 20,\r\n        streak: 1,\r\n        mentalFitness: 75\r\n      };\r\n      localStorage.setItem('accessToken', 'demo-token');\r\n      localStorage.setItem('refreshToken', 'demo-refresh-token');\r\n      localStorage.setItem('user', JSON.stringify(mockUser));\r\n      localStorage.setItem('lastStreakUpdate', new Date().toDateString());\r\n      setUser(mockUser);\r\n      setIsLoggedIn(true);\r\n      setShowRegister(false);\r\n      setShowLogin(false);\r\n      loadInitialData();\r\n    }\r\n  };\r\n\r\n  const handleForgotPassword = async (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData(e.target);\r\n    const email = formData.get('email');\r\n    \r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/forgot-password', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ email })\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        alert(data.message);\r\n        setShowForgotPassword(false);\r\n        setShowLogin(true);\r\n      } else {\r\n        alert(data.error || \"Failed to send reset instructions\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Forgot password error:\", error);\r\n      alert(\"Password reset feature is not available in demo mode.\");\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('accessToken');\r\n    localStorage.removeItem('refreshToken');\r\n    localStorage.removeItem('user');\r\n    localStorage.removeItem('lastStreakUpdate');\r\n    setUser(null);\r\n    setIsLoggedIn(false);\r\n    setShowLogin(true);\r\n    setMessages([]);\r\n    setSidebarOpen(false);\r\n  };\r\n\r\n  const startNewChat = () => {\r\n    setMessages([{\r\n      text: \"Hello! I'm MoodMate, your mental health companion. How are you feeling today?\",\r\n      sender: \"bot\"\r\n    }]);\r\n    setShowNewChatModal(false);\r\n  };\r\n\r\n  const sendMessage = async () => {\r\n    if (!input.trim() || !isLoggedIn) return;\r\n\r\n    const userMsg = { text: input, sender: \"user\" };\r\n    setMessages(prev => [...prev, userMsg]);\r\n    setInput(\"\");\r\n    setIsTyping(true);\r\n    \r\n    // Check for emergency keywords\r\n    const emergencyKeywords = ['suicide', 'kill myself', 'end it all', 'want to die', 'self harm', 'hurt myself'];\r\n    const hasEmergency = emergencyKeywords.some(keyword => \r\n      input.toLowerCase().includes(keyword)\r\n    );\r\n    \r\n    if (hasEmergency) {\r\n      setShowEmergencyModal(true);\r\n      setIsTyping(false);\r\n      return;\r\n    }\r\n    \r\n    // Simulate typing animation\r\n    simulateTyping();\r\n\r\n    try {\r\n      let token = localStorage.getItem('accessToken');\r\n      // Check if token exists and is valid\r\n      if (!token) {\r\n        throw new Error(\"No authentication token\");\r\n      }\r\n\r\n      const requestOptions = {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ message: input })\r\n      };\r\n\r\n      let response = await fetch('http://localhost:5000/api/chat', requestOptions);\r\n\r\n      // Handle 401 specifically - try to refresh token\r\n      if (response.status === 401) {\r\n        try {\r\n          token = await refreshToken();\r\n          requestOptions.headers.Authorization = `Bearer ${token}`;\r\n          response = await fetch('http://localhost:5000/api/chat', requestOptions);\r\n        } catch (refreshError) {\r\n          console.error(\"Token refresh failed, using fallback response\");\r\n          // Use fallback response instead of logging out\r\n          throw new Error(\"Token refresh failed, using fallback\");\r\n        }\r\n      }\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"API error\");\r\n      }\r\n\r\n      const data = await response.json();\r\n      handleChatResponse(data);\r\n\r\n    } catch (error) {\r\n      console.log(\"Chat error:\", error);\r\n      // Fallback to diverse AI responses based on mood detection\r\n      const mood = detectMoodFromInput(input);\r\n      const moodResponses = aiResponses[mood] || aiResponses.neutral;\r\n      const randomResponse = moodResponses[Math.floor(Math.random() * moodResponses.length)];\r\n      \r\n      const botMsg = { \r\n        text: randomResponse, \r\n        sender: \"bot\",\r\n        mood: mood,\r\n        moodEmoji: getMoodEmoji(mood),\r\n        phrase: getMoodPhrase(mood)\r\n      };\r\n      setMessages(prev => [...prev, botMsg]);\r\n    }\r\n\r\n    setIsTyping(false);\r\n    setTypingIndicator(\"\");\r\n  };\r\n\r\n  const handleChatResponse = (data) => {\r\n    const botMsg = { \r\n      text: data.reply, \r\n      sender: \"bot\",\r\n      mood: data.mood,\r\n      moodEmoji: data.moodEmoji,\r\n      phrase: data.phrase\r\n    };\r\n    setMessages(prev => [...prev, botMsg]);\r\n\r\n    // Update user data if coins were earned\r\n    if (data.coinsEarned > 0) {\r\n      const newCoins = (user?.coins || 0) + data.coinsEarned;\r\n      const updatedUser = {...user, coins: newCoins, streak: data.streak};\r\n      setUser(updatedUser);\r\n      localStorage.setItem('user', JSON.stringify(updatedUser));\r\n    }\r\n  };\r\n\r\n  const detectMoodFromInput = (text) => {\r\n    const textLower = text.toLowerCase();\r\n    if (textLower.includes('happy') || textLower.includes('good') || textLower.includes('great') || textLower.includes('excited')) return 'happy';\r\n    if (textLower.includes('sad') || textLower.includes('depressed') || textLower.includes('unhappy') || textLower.includes('cry')) return 'sad';\r\n    if (textLower.includes('anxious') || textLower.includes('nervous') || textLower.includes('worried') || textLower.includes('stress')) return 'anxious';\r\n    if (textLower.includes('angry') || textLower.includes('mad') || textLower.includes('frustrated') || textLower.includes('annoyed')) return 'angry';\r\n    return 'neutral';\r\n  };\r\n\r\n  const getMoodEmoji = (mood) => {\r\n    const emojis = {\r\n      happy: \"😊\",\r\n      sad: \"😢\",\r\n      anxious: \"😰\",\r\n      angry: \"😠\",\r\n      neutral: \"😊\"\r\n    };\r\n    return emojis[mood];\r\n  };\r\n\r\n  const getMoodPhrase = (mood) => {\r\n    const phrases = {\r\n      happy: \"खुश रहो हमेशा — आपकी मुस्कान की वजह कुछ है।\",\r\n      sad: \"यह भी बीत जाएगा — थोड़ी सी उम्मीद रखो।\",\r\n      anxious: \"शांत रहना सीखो, सब धीरे-धीरे ठीक होगा।\",\r\n      angry: \"गहरे साँस लो — हर ग़ुस्सा कुछ सिखा कर जाता है।\",\r\n      neutral: \"You're doing great. Keep going!\"\r\n    };\r\n    return phrases[mood];\r\n  };\r\n\r\n  const addJournalEntry = () => {\r\n    const entryText = prompt(\"What's on your mind today?\");\r\n    if (!entryText) return;\r\n\r\n    // Simulate journal entry creation\r\n    const newEntry = {\r\n      id: Date.now(),\r\n      text: entryText,\r\n      summary: \"Personal reflection\",\r\n      mood: \"neutral\",\r\n      date: new Date().toISOString().split('T')[0],\r\n      shared: false\r\n    };\r\n    \r\n    setJournalEntries(prev => [newEntry, ...prev]);\r\n    \r\n    // Award coins\r\n    const newCoins = (user?.coins || 0) + 3;\r\n    const updatedUser = {...user, coins: newCoins};\r\n    setUser(updatedUser);\r\n    localStorage.setItem('user', JSON.stringify(updatedUser));\r\n    \r\n    alert(\"Journal entry saved! +3 coins earned!\");\r\n  };\r\n\r\n  const shareJournalEntry = (entryId) => {\r\n    const updatedEntries = journalEntries.map(e => \r\n      e.id === entryId ? {...e, shared: true} : e\r\n    );\r\n    setJournalEntries(updatedEntries);\r\n    alert(\"Journal entry shared to your tribes!\");\r\n  };\r\n\r\n  const addMoodWallPost = () => {\r\n    const postText = prompt(\"Share your feelings with the community (anonymous):\");\r\n    if (!postText) return;\r\n\r\n    const newPost = {\r\n      id: Date.now(),\r\n      text: postText,\r\n      mood: \"neutral\",\r\n      likes: 0,\r\n      timestamp: new Date().toISOString(),\r\n      anonymous: true,\r\n      userName: \"Anonymous\"\r\n    };\r\n    \r\n    setMoodWall(prev => [newPost, ...prev]);\r\n    alert(\"Posted to mood wall!\");\r\n  };\r\n\r\n  const joinTribe = (tribeId) => {\r\n    const tribe = moodTribes.find(t => t.id === tribeId);\r\n    if (tribe) {\r\n      const updatedTribes = moodTribes.map(t => \r\n        t.id === tribeId ? {...t, isMember: true, member_count: t.member_count + 1} : t\r\n      );\r\n      setMoodTribes(updatedTribes);\r\n      setUserTribes(prev => [...prev, tribe]);\r\n      localStorage.setItem('userTribes', JSON.stringify([...userTribes, tribe]));\r\n      \r\n      alert(`🎉 You've joined the ${tribe.name}!`);\r\n    }\r\n  };\r\n\r\n  const sendTribeMessage = (tribeId) => {\r\n    if (!tribeInput.trim()) return;\r\n    \r\n    const newMessage = {\r\n      id: Date.now(),\r\n      message: tribeInput,\r\n      user_name: \"You\",\r\n      timestamp: new Date().toISOString()\r\n    };\r\n    \r\n    setTribeChatMessages(prev => ({\r\n      ...prev,\r\n      [tribeId]: [...(prev[tribeId] || []), newMessage]\r\n    }));\r\n    \r\n    setTribeInput(\"\");\r\n  };\r\n\r\n  const playBreathingExercise = () => {\r\n    setMessages(prev => [...prev, {\r\n      text: \"Let's do a quick breathing exercise. Breathe in for 4 seconds, hold for 4 seconds, exhale for 6 seconds. Repeat 5 times. I'll guide you through it...\",\r\n      sender: \"bot\",\r\n      isExercise: true\r\n    }]);\r\n  };\r\n\r\n  const buyItem = (item) => {\r\n    if (user.coins < item.price) {\r\n      alert(\"Not enough coins!\");\r\n      return;\r\n    }\r\n    \r\n    if (window.confirm(`Buy ${item.name} for ${item.price} coins?`)) {\r\n      const newCoins = user.coins - item.price;\r\n      const updatedUser = {...user, coins: newCoins};\r\n      setUser(updatedUser);\r\n      localStorage.setItem('user', JSON.stringify(updatedUser));\r\n      \r\n      if (item.category === \"theme\") {\r\n        setCurrentTheme(item.name.toLowerCase().replace(' theme', ''));\r\n        localStorage.setItem('theme', item.name.toLowerCase().replace(' theme', ''));\r\n        alert(`Theme applied! You're now using the ${item.name}.`);\r\n      } else if (item.name === \"Second Chance Token\") {\r\n        localStorage.setItem('secondChanceToken', 'true');\r\n        alert(\"Second Chance Token purchased! This will save your streak if you miss a day.\");\r\n      } else if (item.name === \"Custom Voice\") {\r\n        alert(\"Custom Voice purchased! Your AI companion will now use a personalized voice.\");\r\n      } else if (item.name === \"Meditation Pack\") {\r\n        alert(\"Meditation Pack purchased! You now have access to exclusive meditation content.\");\r\n      } else {\r\n        alert(`Purchased ${item.name}!`);\r\n      }\r\n    }\r\n  };\r\n\r\n  const applyTheme = (themeName) => {\r\n    setCurrentTheme(themeName);\r\n    localStorage.setItem('theme', themeName);\r\n  };\r\n\r\n  const toggleAudio = () => {\r\n    const newAudioEnabled = !audioEnabled;\r\n    setAudioEnabled(newAudioEnabled);\r\n    localStorage.setItem('audioEnabled', newAudioEnabled);\r\n  };\r\n\r\n  const toggleMusic = () => {\r\n    const newMusicEnabled = !musicEnabled;\r\n    setMusicEnabled(newMusicEnabled);\r\n    localStorage.setItem('musicEnabled', newMusicEnabled);\r\n  };\r\n\r\n  const switchAiProvider = (provider) => {\r\n    setAiProvider(provider);\r\n    localStorage.setItem('aiProvider', provider);\r\n  };\r\n\r\n  const EmergencyModal = () => {\r\n    if (!showEmergencyModal) return null;\r\n    \r\n    return (\r\n      <div className=\"emergency-modal\">\r\n        <div className=\"emergency-content\">\r\n          <h2>⚠️ We're concerned about you</h2>\r\n          <p>Please choose an option below. Your safety matters 💙</p>\r\n          \r\n          <div className=\"emergency-buttons\">\r\n            <button \r\n              className=\"emergency-call\" \r\n              onClick={() => {\r\n                window.open('tel:1-800-273-8255');\r\n                setShowEmergencyModal(false);\r\n              }}\r\n            >\r\n              Call for Help 🔴\r\n            </button>\r\n            \r\n            <button \r\n              className=\"emergency-resources\" \r\n              onClick={() => {\r\n                alert(\"Crisis Resources:\\n\\n1. National Suicide Prevention Lifeline: 1-800-273-8255\\n2. Crisis Text Line: Text HOME to 741741\\n3. iCall India: +91-9152987821\");\r\n                setShowEmergencyModal(false);\r\n              }}\r\n            >\r\n              Show Resources 📋\r\n            </button>\r\n            \r\n            <button \r\n              className=\"emergency-ok\" \r\n              onClick={() => setShowEmergencyModal(false)}\r\n            >\r\n              I'm Fine Now ✅\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const NewChatModal = () => {\r\n    if (!showNewChatModal) return null;\r\n    \r\n    return (\r\n      <div className=\"modal-overlay\">\r\n        <div className=\"modal-content\">\r\n          <h2>Start New Chat</h2>\r\n          <p>Are you sure you want to start a new chat? Your current conversation will be cleared.</p>\r\n          <div className=\"modal-buttons\">\r\n            <button onClick={startNewChat} className=\"btn-primary\">Yes, Start New Chat</button>\r\n            <button onClick={() => setShowNewChatModal(false)} className=\"btn-secondary\">Cancel</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const TribeCommunity = () => {\r\n    if (!activeTribe) return null;\r\n    \r\n    const tribeChat = tribeChatMessages[activeTribe.id] || [];\r\n    \r\n    return (\r\n      <div className=\"tribe-community\">\r\n        <div className=\"tribe-header\">\r\n          <button onClick={() => setActiveTribe(null)} className=\"back-btn\">\r\n            ← Back to Communities\r\n          </button>\r\n          <h2>{activeTribe.name} Community</h2>\r\n          <p>{activeTribe.description}</p>\r\n          <div className=\"tribe-stats\">\r\n            <span>👥 {activeTribe.member_count} members</span>\r\n            <span>💬 {tribeChat.length} messages</span>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"tribe-content\">\r\n          <div className=\"tribe-chat\">\r\n            <h3>Community Chat</h3>\r\n            <div className=\"tribe-messages\">\r\n              {tribeChat.map((msg) => (\r\n                <div key={`tribe-msg-${msg.id}-${Date.now()}`} className=\"tribe-message\">\r\n                  <div className=\"message-avatar\">{msg.user_name.charAt(0)}</div>\r\n                  <div className=\"message-content\">\r\n                    <span className=\"message-sender\">{msg.user_name}</span>\r\n                    <p>{msg.message}</p>\r\n                    <span className=\"message-time\">{new Date(msg.timestamp).toLocaleTimeString()}</span>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            \r\n            <div className=\"tribe-input\">\r\n              <input \r\n                type=\"text\" \r\n                placeholder=\"Share something with the community...\" \r\n                value={tribeInput}\r\n                onChange={(e) => setTribeInput(e.target.value)}\r\n                onKeyDown={(e) => e.key === \"Enter\" && sendTribeMessage(activeTribe.id)}\r\n              />\r\n              <button onClick={() => sendTribeMessage(activeTribe.id)}>Send</button>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"tribe-resources\">\r\n            <h3>Community Resources</h3>\r\n            <div className=\"resource-list\">\r\n              <div className=\"resource-item\">\r\n                <h4>Mindfulness Exercises</h4>\r\n                <p>Guided meditation for beginners</p>\r\n                <button>View</button>\r\n              </div>\r\n              <div className=\"resource-item\">\r\n                <h4>Support Threads</h4>\r\n                <p>Connect with others who understand</p>\r\n                <button>Explore</button>\r\n              </div>\r\n              <div className=\"resource-item\">\r\n                <h4>Weekly Challenges</h4>\r\n                <p>Join community wellness challenges</p>\r\n                <button>Participate</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const Sidebar = () => {\r\n    if (!sidebarOpen) return null;\r\n    \r\n    return (\r\n      <div className=\"sidebar-overlay\" onClick={() => setSidebarOpen(false)}>\r\n        <div className=\"sidebar\" onClick={(e) => e.stopPropagation()}>\r\n          <div className=\"sidebar-header\">\r\n            <h2>MoodMate</h2>\r\n            <button onClick={() => setSidebarOpen(false)} className=\"close-btn\">×</button>\r\n          </div>\r\n          \r\n          <div className=\"sidebar-content\">\r\n            <div className=\"sidebar-section\">\r\n              <h3>Navigation</h3>\r\n              <button \r\n                onClick={() => { setActiveTab(\"chat\"); setSidebarOpen(false); }} \r\n                className={`sidebar-btn ${activeTab === \"chat\" ? \"active\" : \"\"}`}\r\n              >\r\n                💬 Chat\r\n              </button>\r\n              <button \r\n                onClick={() => { setActiveTab(\"journal\"); setSidebarOpen(false); }} \r\n                className={`sidebar-btn ${activeTab === \"journal\" ? \"active\" : \"\"}`}\r\n              >\r\n                📓 Journal\r\n              </button>\r\n              <button \r\n                onClick={() => { setActiveTab(\"therapy\"); setSidebarOpen(false); }} \r\n                className={`sidebar-btn ${activeTab === \"therapy\" ? \"active\" : \"\"}`}\r\n              >\r\n                👨‍⚕️ Therapy\r\n              </button>\r\n              <button \r\n                onClick={() => { setActiveTab(\"community\"); setSidebarOpen(false); }} \r\n                className={`sidebar-btn ${activeTab === \"community\" ? \"active\" : \"\"}`}\r\n              >\r\n                🌍 Community\r\n              </button>\r\n              <button \r\n                onClick={() => { setActiveTab(\"shop\"); setSidebarOpen(false); }} \r\n                className={`sidebar-btn ${activeTab === \"shop\" ? \"active\" : \"\"}`}\r\n              >\r\n                🛒 Shop\r\n              </button>\r\n              <button \r\n                onClick={() => { setActiveTab(\"profile\"); setSidebarOpen(false); }} \r\n                className={`sidebar-btn ${activeTab === \"profile\" ? \"active\" : \"\"}`}\r\n              >\r\n                👤 Profile\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"sidebar-section\">\r\n              <h3>Quick Actions</h3>\r\n              <button onClick={() => { setShowNewChatModal(true); setSidebarOpen(false); }} className=\"sidebar-btn\">\r\n                New Chat\r\n              </button>\r\n              <button onClick={() => { playBreathingExercise(); setSidebarOpen(false); }} className=\"sidebar-btn\">\r\n                Breathing Exercise\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"sidebar-section\">\r\n              <h3>Settings</h3>\r\n              <div className=\"setting-item\">\r\n                <span>Voice Responses</span>\r\n                <label className=\"switch\">\r\n                  <input type=\"checkbox\" checked={audioEnabled} onChange={toggleAudio} />\r\n                  <span className=\"slider\"></span>\r\n                </label>\r\n              </div>\r\n              <div className=\"setting-item\">\r\n                <span>Background Music</span>\r\n                <label className=\"switch\">\r\n                  <input type=\"checkbox\" checked={musicEnabled} onChange={toggleMusic} />\r\n                  <span className=\"slider\"></span>\r\n                </label>\r\n              </div>\r\n              <div className=\"setting-item\">\r\n                <span>AI Provider</span>\r\n                <select value={aiProvider} onChange={(e) => switchAiProvider(e.target.value)}>\r\n                  <option value=\"gemini\">Gemini AI</option>\r\n                  <option value=\"fallback\">Fallback Mode</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (!isLoggedIn) {\r\n    return (\r\n      <div className=\"app-container auth-container\">\r\n        <div className=\"auth-box\">\r\n          <h1>🌙 MoodMate</h1>\r\n          <p>Your mental health companion</p>\r\n          \r\n          {showLogin && (\r\n            <form onSubmit={handleLogin} className=\"auth-form\">\r\n              <h2>Login</h2>\r\n              {loginError && <div className=\"error-message\">{loginError}</div>}\r\n              <input type=\"email\" name=\"email\" placeholder=\"Email\" required />\r\n              <input type=\"password\" name=\"password\" placeholder=\"Password\" required />\r\n              <button type=\"submit\">Login</button>\r\n              \r\n              <div className=\"auth-links\">\r\n                <span className=\"auth-link\" onClick={() => setShowRegister(true)}>\r\n                  Create Account\r\n                </span>\r\n                <span className=\"auth-link\" onClick={() => setShowForgotPassword(true)}>\r\n                  Forgot Password?\r\n                </span>\r\n              </div>\r\n            </form>\r\n          )}\r\n\r\n          {showRegister && (\r\n            <form onSubmit={handleRegister} className=\"auth-form\">\r\n              <h2>Register</h2>\r\n              {registerError && <div className=\"error-message\">{registerError}</div>}\r\n              <input type=\"text\" name=\"name\" placeholder=\"Full Name\" required />\r\n              <input type=\"email\" name=\"email\" placeholder=\"Email\" required />\r\n              <input type=\"password\" name=\"password\" placeholder=\"Password (min 8 chars)\" required />\r\n              <input type=\"password\" name=\"confirmPassword\" placeholder=\"Confirm Password\" required />\r\n              <button type=\"submit\">Register</button>\r\n              <p>\r\n                Already have an account?{\" \"}\r\n                <span className=\"auth-link\" onClick={() => setShowRegister(false)}>\r\n                  Login\r\n                </span>\r\n              </p>\r\n            </form>\r\n          )}\r\n\r\n          {showForgotPassword && (\r\n            <form onSubmit={handleForgotPassword} className=\"auth-form\">\r\n              <h2>Reset Password</h2>\r\n              <input type=\"email\" name=\"email\" placeholder=\"Your Email\" required />\r\n              <button type=\"submit\">Send Reset Instructions</button>\r\n              <p>\r\n                Remember your password?{\" \"}\r\n                <span className=\"auth-link\" onClick={() => setShowForgotPassword(false)}>\r\n                  Login\r\n                </span>\r\n              </p>\r\n            </form>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={`app-container ${currentTheme}-theme`}>\r\n      <EmergencyModal />\r\n      <NewChatModal />\r\n      <Sidebar />\r\n      \r\n      <header className=\"app-header\">\r\n        <div className=\"header-left\">\r\n          <button onClick={() => setSidebarOpen(true)} className=\"menu-btn\">☰</button>\r\n          <h1>🌙 MoodMate</h1>\r\n          <div className=\"user-stats\">\r\n            <span className=\"streak-display\">🔥 {user?.streak || 0} day streak</span>\r\n            <span>🪙 {user?.coins || 0} coins</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"header-right\">\r\n          <div className=\"user-info\">\r\n            <span className=\"user-name\">{user?.name}</span>\r\n            <span className=\"user-status\">Online</span>\r\n          </div>\r\n          <button onClick={handleLogout} className=\"logout-btn\">Logout</button>\r\n        </div>\r\n      </header>\r\n\r\n      <nav className=\"app-nav\">\r\n        <button \r\n          className={activeTab === \"chat\" ? \"active\" : \"\"} \r\n          onClick={() => setActiveTab(\"chat\")}\r\n        >\r\n          💬 Chat\r\n        </button>\r\n        <button \r\n          className={activeTab === \"journal\" ? \"active\" : \"\"} \r\n          onClick={() => setActiveTab(\"journal\")}\r\n        >\r\n          📓 Journal\r\n        </button>\r\n        <button \r\n          className={activeTab === \"therapy\" ? \"active\" : \"\"} \r\n          onClick={() => setActiveTab(\"therapy\")}\r\n        >\r\n          👨‍⚕️ Therapy\r\n        </button>\r\n        <button \r\n          className={activeTab === \"community\" ? \"active\" : \"\"} \r\n          onClick={() => setActiveTab(\"community\")}\r\n        >\r\n          🌍 Community\r\n        </button>\r\n        <button \r\n          className={activeTab === \"shop\" ? \"active\" : \"\"} \r\n          onClick={() => setActiveTab(\"shop\")}\r\n        >\r\n          🛒 Shop\r\n        </button>\r\n        <button \r\n          className={activeTab === \"profile\" ? \"active\" : \"\"} \r\n          onClick={() => setActiveTab(\"profile\")}\r\n        >\r\n          👤 Profile\r\n        </button>\r\n      </nav>\r\n\r\n      <main className=\"app-main\">\r\n        {activeTab === \"chat\" && (\r\n          <div className=\"chat-tab\">\r\n            <div className=\"chat-header\">\r\n              <h2>Chat with MoodMate</h2>\r\n              <button onClick={() => setShowNewChatModal(true)} className=\"new-chat-btn\">\r\n                + New Chat\r\n              </button>\r\n            </div>\r\n            <div className=\"chat-box\">\r\n              {messages.map((msg, i) => (\r\n                <div key={`msg-${i}-${msg.timestamp || Date.now()}`} className={`chat-message ${msg.sender} ${msg.isReward ? 'reward' : ''} ${msg.isExercise ? 'exercise' : ''}`}>\r\n                  {msg.sender === \"bot\" && (\r\n                    <div className=\"avatar bot-avatar\">🤖</div>\r\n                  )}\r\n                  {msg.sender === \"user\" && (\r\n                    <div className=\"avatar user-avatar\">👤</div>\r\n                  )}\r\n                  <div className=\"bubble\">\r\n                    {msg.text}\r\n                    {msg.moodEmoji && (\r\n                      <div className=\"mood-indicator\">\r\n                        {msg.moodEmoji} {msg.phrase}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n\r\n              {isTyping && (\r\n                <div className=\"chat-message bot\">\r\n                  <div className=\"avatar bot-avatar\">🤖</div>\r\n                  <div className=\"bubble typing\">\r\n                    {typingIndicator || \"...\"}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              <div ref={chatEndRef}></div>\r\n            </div>\r\n\r\n            <div className=\"input-area\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"How are you feeling today?\"\r\n                value={input}\r\n                onChange={(e) => setInput(e.target.value)}\r\n                onKeyDown={(e) => e.key === \"Enter\" && sendMessage()}\r\n              />\r\n              <button onClick={sendMessage} className=\"send-btn\">Send</button>\r\n              <button onClick={playBreathingExercise} className=\"exercise-btn\" title=\"Breathing Exercise\">🧘‍♂️</button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === \"journal\" && (\r\n          <div className=\"journal-tab\">\r\n            <div className=\"journal-header\">\r\n              <h2>Your Journal</h2>\r\n              <button onClick={addJournalEntry} className=\"add-entry-btn\">\r\n                + New Entry\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"journal-entries\">\r\n              {journalEntries.length === 0 ? (\r\n                <div className=\"empty-state\">\r\n                  <p>No journal entries yet. Write your first entry!</p>\r\n                  <button onClick={addJournalEntry}>Start Journaling</button>\r\n                </div>\r\n              ) : (\r\n                journalEntries.map((entry, index) => (\r\n                  <div key={`entry-${entry.id}-${index}`} className=\"journal-entry\">\r\n                    <div className=\"entry-header\">\r\n                      <div className=\"entry-date\">{entry.date}</div>\r\n                      {!entry.shared && userTribes.length > 0 && (\r\n                        <button \r\n                          onClick={() => shareJournalEntry(entry.id)}\r\n                          className=\"share-btn\"\r\n                          title=\"Share to your tribes\"\r\n                        >\r\n                          Share\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"entry-text\">{entry.text}</div>\r\n                    {entry.summary && (\r\n                      <div className=\"entry-summary\">\r\n                        <strong>Summary:</strong> {entry.summary}\r\n                      </div>\r\n                    )}\r\n                    {entry.mood && (\r\n                      <div className=\"entry-mood\">\r\n                        <strong>Mood:</strong> {entry.mood}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                ))\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === \"therapy\" && (\r\n          <div className=\"therapy-tab\">\r\n            <div className=\"resources-section\">\r\n              <h3>🆘 Crisis Resources</h3>\r\n              <div className=\"resources-grid\">\r\n                {resources.filter(r => r.type === 'crisis').map((resource, index) => (\r\n                  <div key={`resource-${index}`} className=\"resource-card\">\r\n                    <h4>{resource.name}</h4>\r\n                    <p>{resource.number}</p>\r\n                    <small>{resource.available}</small>\r\n                    {resource.number && (\r\n                      <button \r\n                        className=\"call-btn\"\r\n                        onClick={() => window.open(`tel:${resource.number.replace(/\\D/g, '')}`)}\r\n                      >\r\n                        📞 Call Now\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"therapists-section\">\r\n              <h3>👨‍⚕️ Professional Therapists</h3>\r\n              <div className=\"therapists-grid\">\r\n                {therapists.map((therapist) => (\r\n                  <div key={`therapist-${therapist.id}`} className=\"therapist-card\">\r\n                    <div className=\"therapist-avatar\">{therapist.avatar}</div>\r\n                    <h4>{therapist.name}</h4>\r\n                    <p>{therapist.specialization}</p>\r\n                    <p>⭐ {therapist.rating} • {therapist.experience}</p>\r\n                    <p>🪙 {therapist.price} coins/session</p>\r\n                    <button \r\n                      className=\"book-btn\"\r\n                      disabled={user?.coins < therapist.price}\r\n                    >\r\n                      {user?.coins >= therapist.price ? \"Book Session\" : \"Not Enough Coins\"}\r\n                    </button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === \"community\" && activeTribe ? (\r\n          <TribeCommunity />\r\n        ) : activeTab === \"community\" ? (\r\n          <div className=\"community-tab\">\r\n            <div className=\"community-layout\">\r\n              <div className=\"mood-wall-section\">\r\n                <h3>🌍 Community Mood Wall</h3>\r\n                <button onClick={addMoodWallPost} className=\"add-post-btn\">+ Share Your Feelings</button>\r\n                <div className=\"mood-wall\">\r\n                  {moodWall.length === 0 ? (\r\n                    <div className=\"empty-state\">\r\n                      <p>Be the first to share your thoughts with the community!</p>\r\n                    </div>\r\n                  ) : (\r\n                    moodWall.slice(0, 3).map((post, index) => (\r\n                      <div key={`post-${post.id}-${index}`} className=\"mood-post\">\r\n                        <p>{post.text}</p>\r\n                        <div className=\"post-footer\">\r\n                          <div className=\"post-reactions\">\r\n                            <button>💖</button>\r\n                            <button>🤗</button>\r\n                            <button>👍</button>\r\n                          </div>\r\n                          <span className=\"post-time\">{new Date(post.timestamp).toLocaleDateString()}</span>\r\n                        </div>\r\n                      </div>\r\n                    ))\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"tribes-section\">\r\n                <h3>🎯 Mood Tribes</h3>\r\n                <div className=\"tribes-grid\">\r\n                  {moodTribes.map((tribe) => (\r\n                    <div key={`tribe-${tribe.id}`} className=\"tribe-card\">\r\n                      <h4>{tribe.name}</h4>\r\n                      <p>{tribe.description}</p>\r\n                      <p className=\"member-count\">👥 {tribe.member_count} members</p>\r\n                      <button \r\n                        onClick={() => tribe.isMember ? setActiveTribe(tribe) : joinTribe(tribe.id)}\r\n                        className={tribe.isMember ? \"joined-btn\" : \"join-btn\"}\r\n                      >\r\n                        {tribe.isMember ? \"Visit Community\" : \"Join Tribe\"}\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n\r\n        {activeTab === \"shop\" && (\r\n          <div className=\"shop-tab\">\r\n            <h2>🛒 MoodMate Shop</h2>\r\n            <p>Use your Mood Coins to unlock special features and customization options!</p>\r\n            \r\n            <div className=\"shop-categories\">\r\n              <button className=\"category-btn active\">All Items</button>\r\n              <button className=\"category-btn\">Themes</button>\r\n              <button className=\"category-btn\">Cosmetics</button>\r\n              <button className=\"category-btn\">Content</button>\r\n              <button className=\"category-btn\">Utilities</button>\r\n            </div>\r\n            \r\n            <div className=\"shop-grid\">\r\n              {shopItems.map((item) => (\r\n                <div key={`shop-item-${item.id}`} className=\"shop-item-card\">\r\n                  <div className=\"item-image\">\r\n                    {item.category === \"theme\" && <div className={`theme-preview ${item.name.toLowerCase().replace(' theme', '')}-theme`}></div>}\r\n                    {item.category === \"cosmetic\" && <span className=\"item-icon\">🎨</span>}\r\n                    {item.category === \"content\" && <span className=\"item-icon\">📚</span>}\r\n                    {item.category === \"utility\" && <span className=\"item-icon\">⚡</span>}\r\n                  </div>\r\n                  <div className=\"item-info\">\r\n                    <h4>{item.name}</h4>\r\n                    <p>{item.description}</p>\r\n                    <div className=\"item-price\">🪙 {item.price} coins</div>\r\n                    <button \r\n                      onClick={() => buyItem(item)}\r\n                      disabled={user?.coins < item.price}\r\n                      className={user?.coins >= item.price ? \"buy-btn\" : \"disabled-btn\"}\r\n                    >\r\n                      {user?.coins >= item.price ? \"Purchase\" : \"Not Enough Coins\"}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === \"profile\" && (\r\n          <div className=\"profile-tab\">\r\n            <div className=\"profile-header\">\r\n              <div className=\"profile-avatar\">\r\n                <div className=\"avatar-image\">\r\n                  {user?.name?.charAt(0) || 'U'}\r\n                </div>\r\n                <div className=\"profile-badge\">\r\n                  <span>🔥 {user?.streak || 0}</span>\r\n                </div>\r\n              </div>\r\n              <div className=\"profile-info\">\r\n                <h2>{user?.name}</h2>\r\n                <p className=\"member-since\">Active Member</p>\r\n                \r\n                <div className=\"profile-stats\">\r\n                  <div className=\"stat\">\r\n                    <span className=\"stat-value\">{user?.streak || 0}</span>\r\n                    <span className=\"stat-label\">Day Streak</span>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <span className=\"stat-value\">{user?.coins || 0}</span>\r\n                    <span className=\"stat-label\">Mood Coins</span>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <span className=\"stat-value\">{userTribes.length}</span>\r\n                    <span className=\"stat-label\">Tribes Joined</span>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <span className=\"stat-value\">{journalEntries.length}</span>\r\n                    <span className=\"stat-label\">Journal Entries</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"profile-section\">\r\n              <h3>🔥 Streak Progress</h3>\r\n              <div className=\"streak-progress\">\r\n                <div className=\"streak-days\">\r\n                  {[7, 30, 90, 180, 365].map(day => (\r\n                    <div key={`milestone-${day}`} className={`streak-milestone ${user?.streak >= day ? 'achieved' : ''}`}>\r\n                      <span className=\"milestone-day\">{day}</span>\r\n                      <span className=\"milestone-label\">{day} Days</span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                <div className=\"streak-bar\">\r\n                  <div \r\n                    className=\"streak-progress-bar\" \r\n                    style={{width: `${Math.min(100, (user?.streak / 365) * 100)}%`}}\r\n                  ></div>\r\n                </div>\r\n                <div className=\"current-streak\">\r\n                  <span>Current Streak: {user?.streak || 0} days</span>\r\n                  <span>Next milestone: {user?.streak < 7 ? 7 : user?.streak < 30 ? 30 : user?.streak < 90 ? 90 : user?.streak < 180 ? 180 : 365} days</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"profile-section\">\r\n              <h3>🏅 Achievements & Badges</h3>\r\n              <div className=\"achievements-grid\">\r\n                {achievements.map(achievement => (\r\n                  <div key={`achievement-${achievement.id}`} className={`achievement ${achievement.earned ? 'earned' : 'locked'}`}>\r\n                    <span className=\"achievement-icon\">{achievement.icon}</span>\r\n                    <div className=\"achievement-info\">\r\n                      <h4>{achievement.name}</h4>\r\n                      <p>{achievement.description}</p>\r\n                    </div>\r\n                    <span className=\"achievement-status\">\r\n                      {achievement.earned ? '✓' : '🔒'}\r\n                    </span>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"profile-section\">\r\n              <h3>👥 My Tribes</h3>\r\n              {userTribes.length === 0 ? (\r\n                <p>You haven't joined any tribes yet. Visit the Community tab to join one!</p>\r\n              ) : (\r\n                <div className=\"user-tribes\">\r\n                  {userTribes.map(tribe => (\r\n                    <div key={`user-tribe-${tribe.id}`} className=\"user-tribe\">\r\n                      <span>{tribe.name}</span>\r\n                      <button onClick={() => setActiveTribe(tribe)}>\r\n                        Visit\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"profile-section\">\r\n              <h3>⚙️ Settings</h3>\r\n              <div className=\"settings-grid\">\r\n                <div className=\"setting-item\">\r\n                  <span>Voice Responses</span>\r\n                  <label className=\"switch\">\r\n                    <input type=\"checkbox\" checked={audioEnabled} onChange={toggleAudio} />\r\n                    <span className=\"slider\"></span>\r\n                  </label>\r\n                </div>\r\n                <div className=\"setting-item\">\r\n                  <span>Background Music</span>\r\n                  <label className=\"switch\">\r\n                    <input type=\"checkbox\" checked={musicEnabled} onChange={toggleMusic} />\r\n                    <span className=\"slider\"></span>\r\n                  </label>\r\n                </div>\r\n                <div className=\"setting-item\">\r\n                  <span>AI Provider</span>\r\n                  <select value={aiProvider} onChange={(e) => switchAiProvider(e.target.value)}>\r\n                    <option value=\"gemini\">Gemini AI</option>\r\n                    <option value=\"fallback\">Fallback Mode</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}