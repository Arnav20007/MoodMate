{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Prabhat singh\\\\Downloads\\\\Best_Project\\\\frontend\\\\src\\\\components\\\\Shop.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = 'http://127.0.0.1:5000';\n\n// Placed here for demonstration\nconst sampleShopItems = [{\n  id: 1,\n  name: \"Sunset Theme\",\n  description: \"Warm orange and purple theme\",\n  price: 50,\n  category: \"theme\",\n  permanent: true,\n  previewColor: \"linear-gradient(135deg, #ff7e5f, #feb47b)\"\n}, {\n  id: 2,\n  name: \"Ocean Theme\",\n  description: \"Calming blue theme\",\n  price: 50,\n  category: \"theme\",\n  permanent: true,\n  previewColor: \"linear-gradient(135deg, #4facfe, #00f2fe)\"\n}, {\n  id: 6,\n  name: \"Exclusive Avatar Frame\",\n  description: \"A special frame for your avatar\",\n  price: 100,\n  category: \"cosmetic\",\n  permanent: true,\n  previewIcon: \"ðŸ–¼ï¸\"\n}, {\n  id: 8,\n  name: \"Second Chance Token\",\n  description: \"Save your streak if you miss a day\",\n  price: 30,\n  category: \"utility\",\n  permanent: false,\n  previewIcon: \"âš¡\"\n}];\nfunction Shop({\n  user,\n  onUpdateUser\n}) {\n  _s();\n  const [shopItems, setShopItems] = useState(sampleShopItems);\n  const [activeShopCategory, setActiveShopCategory] = useState(\"All\");\n  const buyItem = async item => {\n    if (user.coins < item.price) {\n      alert(\"Not enough coins!\");\n      return;\n    }\n    if (window.confirm(`Buy ${item.name} for ${item.price} coins?`)) {\n      try {\n        const response = await fetch(`${API_BASE_URL}/api/shop/purchase`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          credentials: 'include',\n          body: JSON.stringify({\n            item_id: item.id,\n            price: item.price\n          })\n        });\n        const data = await response.json();\n        if (response.ok) {\n          onUpdateUser({\n            coins: data.new_balance,\n            purchasedItems: data.purchased_items\n          });\n          alert(`Successfully purchased ${item.name}!`);\n        } else {\n          alert(`Purchase failed: ${data.error}`);\n        }\n      } catch (error) {\n        alert(\"An error occurred during purchase.\");\n      }\n    }\n  };\n  const filteredShopItems = activeShopCategory === \"All\" ? shopItems : shopItems.filter(item => item.category.toLowerCase() === activeShopCategory.toLowerCase());\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"tab-content shop-tab\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uD83D\\uDED2 MoodMate Shop\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Use your coins to unlock themes, avatars, and special utilities.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"shop-categories\",\n      children: [\"All\", \"theme\", \"cosmetic\", \"utility\"].map(category => /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `category-btn ${activeShopCategory === category ? 'active' : ''}`,\n        onClick: () => setActiveShopCategory(category),\n        children: category\n      }, category, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"shop-grid\",\n      children: filteredShopItems.map(item => {\n        var _user$purchasedItems;\n        const isOwned = (_user$purchasedItems = user.purchasedItems) === null || _user$purchasedItems === void 0 ? void 0 : _user$purchasedItems.includes(item.id);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"shop-item-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"item-preview\",\n            style: {\n              background: item.previewColor\n            },\n            children: item.previewIcon && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item-icon-preview\",\n              children: item.previewIcon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 54\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: item.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"item-price\",\n            children: [\"\\uD83E\\uDE99 \", item.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => buyItem(item),\n            disabled: isOwned || user.coins < item.price,\n            className: isOwned ? \"owned-btn\" : \"buy-btn\",\n            children: isOwned ? \"Owned\" : \"Buy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 29\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n}\n_s(Shop, \"g1eU6fep8wKX/ewsgfKRGKzlEgw=\");\n_c = Shop;\nexport default Shop;\nvar _c;\n$RefreshReg$(_c, \"Shop\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","API_BASE_URL","sampleShopItems","id","name","description","price","category","permanent","previewColor","previewIcon","Shop","user","onUpdateUser","_s","shopItems","setShopItems","activeShopCategory","setActiveShopCategory","buyItem","item","coins","alert","window","confirm","response","fetch","method","headers","credentials","body","JSON","stringify","item_id","data","json","ok","new_balance","purchasedItems","purchased_items","error","filteredShopItems","filter","toLowerCase","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","onClick","_user$purchasedItems","isOwned","includes","style","background","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Prabhat singh/Downloads/Best_Project/frontend/src/components/Shop.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nconst API_BASE_URL = 'http://127.0.0.1:5000';\r\n\r\n// Placed here for demonstration\r\nconst sampleShopItems = [\r\n    {id: 1, name: \"Sunset Theme\", description: \"Warm orange and purple theme\", price: 50, category: \"theme\", permanent: true, previewColor: \"linear-gradient(135deg, #ff7e5f, #feb47b)\"},\r\n    {id: 2, name: \"Ocean Theme\", description: \"Calming blue theme\", price: 50, category: \"theme\", permanent: true, previewColor: \"linear-gradient(135deg, #4facfe, #00f2fe)\"},\r\n    {id: 6, name: \"Exclusive Avatar Frame\", description: \"A special frame for your avatar\", price: 100, category: \"cosmetic\", permanent: true, previewIcon: \"ðŸ–¼ï¸\"},\r\n    {id: 8, name: \"Second Chance Token\", description: \"Save your streak if you miss a day\", price: 30, category: \"utility\", permanent: false, previewIcon: \"âš¡\"},\r\n];\r\n\r\nfunction Shop({ user, onUpdateUser }) {\r\n    const [shopItems, setShopItems] = useState(sampleShopItems);\r\n    const [activeShopCategory, setActiveShopCategory] = useState(\"All\");\r\n    \r\n    const buyItem = async (item) => {\r\n        if (user.coins < item.price) {\r\n            alert(\"Not enough coins!\");\r\n            return;\r\n        }\r\n        if (window.confirm(`Buy ${item.name} for ${item.price} coins?`)) {\r\n             try {\r\n                const response = await fetch(`${API_BASE_URL}/api/shop/purchase`, {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    credentials: 'include',\r\n                    body: JSON.stringify({ item_id: item.id, price: item.price })\r\n                });\r\n                const data = await response.json();\r\n                if (response.ok) {\r\n                    onUpdateUser({ \r\n                        coins: data.new_balance, \r\n                        purchasedItems: data.purchased_items \r\n                    });\r\n                    alert(`Successfully purchased ${item.name}!`);\r\n                } else {\r\n                    alert(`Purchase failed: ${data.error}`);\r\n                }\r\n            } catch (error) {\r\n                alert(\"An error occurred during purchase.\");\r\n            }\r\n        }\r\n    };\r\n    \r\n    const filteredShopItems = activeShopCategory === \"All\"\r\n        ? shopItems\r\n        : shopItems.filter(item => item.category.toLowerCase() === activeShopCategory.toLowerCase());\r\n\r\n    return (\r\n        <div className=\"tab-content shop-tab\">\r\n            <h2>ðŸ›’ MoodMate Shop</h2>\r\n            <p>Use your coins to unlock themes, avatars, and special utilities.</p>\r\n            \r\n            <div className=\"shop-categories\">\r\n                {[\"All\", \"theme\", \"cosmetic\", \"utility\"].map(category => (\r\n                    <button \r\n                        key={category} \r\n                        className={`category-btn ${activeShopCategory === category ? 'active' : ''}`}\r\n                        onClick={() => setActiveShopCategory(category)}\r\n                    >{category}</button>\r\n                ))}\r\n            </div>\r\n\r\n            <div className=\"shop-grid\">\r\n                {filteredShopItems.map(item => {\r\n                    const isOwned = user.purchasedItems?.includes(item.id);\r\n                    return (\r\n                        <div key={item.id} className=\"shop-item-card\">\r\n                            <div className=\"item-preview\" style={{background: item.previewColor}}>\r\n                                {item.previewIcon && <div className=\"item-icon-preview\">{item.previewIcon}</div>}\r\n                            </div>\r\n                            <h4>{item.name}</h4>\r\n                            <p>{item.description}</p>\r\n                            <div className=\"item-price\">ðŸª™ {item.price}</div>\r\n                            <button\r\n                                onClick={() => buyItem(item)}\r\n                                disabled={isOwned || user.coins < item.price}\r\n                                className={isOwned ? \"owned-btn\" : \"buy-btn\"}\r\n                            >\r\n                                {isOwned ? \"Owned\" : \"Buy\"}\r\n                            </button>\r\n                        </div>\r\n                    );\r\n                })}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Shop;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}