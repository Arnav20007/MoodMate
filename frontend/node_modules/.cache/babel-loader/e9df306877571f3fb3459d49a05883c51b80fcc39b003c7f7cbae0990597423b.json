{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Prabhat singh\\\\Downloads\\\\Best_Project\\\\frontend\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  var _user$name;\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState(\"\");\n  const [isTyping, setIsTyping] = useState(false);\n  const [user, setUser] = useState(null);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [showLogin, setShowLogin] = useState(true);\n  const [showRegister, setShowRegister] = useState(false);\n  const [showForgotPassword, setShowForgotPassword] = useState(false);\n  const [activeTab, setActiveTab] = useState(\"chat\");\n  const [journalEntries, setJournalEntries] = useState([]);\n  const [therapists, setTherapists] = useState([]);\n  const [resources, setResources] = useState([]);\n  const [moodWall, setMoodWall] = useState([]);\n  const [moodTribes, setMoodTribes] = useState([]);\n  const [shopItems, setShopItems] = useState([]);\n  const [userTribes, setUserTribes] = useState([]);\n  const [currentTheme, setCurrentTheme] = useState(\"default\");\n  const [typingIndicator, setTypingIndicator] = useState(\"\");\n  const [showEmergencyModal, setShowEmergencyModal] = useState(false);\n  const [achievements, setAchievements] = useState([]);\n  const [journalTab, setJournalTab] = useState(\"personal\");\n  const [activeTribe, setActiveTribe] = useState(null);\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const [mentalFitnessScore, setMentalFitnessScore] = useState(75);\n  const [showNewChatModal, setShowNewChatModal] = useState(false);\n  const [loginError, setLoginError] = useState(\"\");\n  const [registerError, setRegisterError] = useState(\"\");\n  const [audioEnabled, setAudioEnabled] = useState(true);\n  const [musicEnabled, setMusicEnabled] = useState(true);\n  const [aiProvider, setAiProvider] = useState(\"gemini\");\n  const chatEndRef = useRef(null);\n  const audioRef = useRef(null);\n\n  // Load saved session\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    const userData = localStorage.getItem('user');\n    const savedTheme = localStorage.getItem('theme') || 'default';\n    const savedTribes = JSON.parse(localStorage.getItem('userTribes') || '[]');\n    const savedAchievements = JSON.parse(localStorage.getItem('achievements') || '[]');\n    const savedAudio = localStorage.getItem('audioEnabled') !== 'false';\n    const savedMusic = localStorage.getItem('musicEnabled') !== 'false';\n    const savedAiProvider = localStorage.getItem('aiProvider') || 'gemini';\n    if (token && userData) {\n      const userObj = JSON.parse(userData);\n      setUser(userObj);\n      setIsLoggedIn(true);\n      setShowLogin(false);\n      setCurrentTheme(savedTheme);\n      setUserTribes(savedTribes);\n      setAchievements(savedAchievements.length ? savedAchievements : []);\n      setAudioEnabled(savedAudio);\n      setMusicEnabled(savedMusic);\n      setAiProvider(savedAiProvider);\n      loadInitialData();\n\n      // Update streak if it's a new day\n      updateStreakAndCoins(userObj);\n    }\n  }, []);\n\n  // Auto scroll\n  useEffect(() => {\n    var _chatEndRef$current;\n    (_chatEndRef$current = chatEndRef.current) === null || _chatEndRef$current === void 0 ? void 0 : _chatEndRef$current.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  }, [messages]);\n  const loadInitialData = async () => {\n    setMessages([{\n      text: \"Hello! I'm MoodMate, your mental health companion. How are you feeling today?\",\n      sender: \"bot\"\n    }]);\n\n    // Load data from backend\n    await loadTherapists();\n    await loadResources();\n    await loadMoodTribes();\n    await loadShopItems();\n    await loadAchievements();\n\n    // Load journal entries if user is logged in\n    if (isLoggedIn) {\n      await loadJournalEntries();\n      await loadMoodWall();\n    }\n  };\n  const loadTherapists = async () => {\n    try {\n      const response = await fetch('http://localhost:5000/api/therapists');\n      if (response.ok) {\n        const data = await response.json();\n        setTherapists(data.therapists);\n      } else {\n        // Fallback to sample data\n        const sampleTherapists = [{\n          id: 1,\n          name: \"Dr. Priya Sharma\",\n          specialization: \"Clinical Psychology\",\n          price: 799,\n          rating: 4.7,\n          experience: \"8 years\",\n          avatar: \"ðŸ‘©â€âš•ï¸\"\n        }, {\n          id: 2,\n          name: \"Rajiv Mehta\",\n          specialization: \"Counseling Psychology\",\n          price: 599,\n          rating: 4.5,\n          experience: \"5 years\",\n          avatar: \"ðŸ‘¨â€âš•ï¸\"\n        }, {\n          id: 3,\n          name: \"Dr. Anjali Singh\",\n          specialization: \"Psychiatry\",\n          price: 999,\n          rating: 4.8,\n          experience: \"12 years\",\n          avatar: \"ðŸ‘©â€âš•ï¸\"\n        }, {\n          id: 4,\n          name: \"Neha Gupta\",\n          specialization: \"Art Therapy\",\n          price: 499,\n          rating: 4.6,\n          experience: \"4 years\",\n          avatar: \"ðŸŽ¨\"\n        }];\n        setTherapists(sampleTherapists);\n      }\n    } catch (error) {\n      console.error(\"Error loading therapists:\", error);\n    }\n  };\n  const loadResources = async () => {\n    try {\n      const response = await fetch('http://localhost:5000/api/resources');\n      if (response.ok) {\n        const data = await response.json();\n        setResources(data.resources);\n      } else {\n        // Fallback to sample data\n        const sampleResources = [{\n          type: \"crisis\",\n          name: \"National Suicide Prevention Lifeline\",\n          number: \"1-800-273-8255\",\n          available: \"24/7\"\n        }, {\n          type: \"crisis\",\n          name: \"Crisis Text Line\",\n          number: \"Text HOME to 741741\",\n          available: \"24/7\"\n        }, {\n          type: \"support\",\n          name: \"Mental Health America\",\n          website: \"mhanational.org\",\n          description: \"Resources and screening tools\"\n        }, {\n          type: \"support\",\n          name: \"iCall Psychosocial Helpline\",\n          number: \"+91-9152987821\",\n          available: \"Mon-Sat, 10AM-8PM\",\n          description: \"Free mental health support for India\"\n        }];\n        setResources(sampleResources);\n      }\n    } catch (error) {\n      console.error(\"Error loading resources:\", error);\n    }\n  };\n  const loadMoodTribes = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('http://localhost:5000/api/moodtribes', {\n        headers: token ? {\n          'Authorization': `Bearer ${token}`\n        } : {}\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setMoodTribes(data.tribes);\n\n        // Update user tribes\n        const userTribeIds = data.tribes.filter(t => t.isMember).map(t => t.id);\n        setUserTribes(userTribeIds);\n        localStorage.setItem('userTribes', JSON.stringify(userTribeIds));\n      } else {\n        // Fallback to sample data\n        const sampleMoodTribes = [{\n          id: 1,\n          name: \"Positivity Tribe\",\n          description: \"For those seeking positivity and joy\",\n          member_count: 245,\n          isMember: false\n        }, {\n          id: 2,\n          name: \"Calm Collective\",\n          description: \"Find your inner peace together\",\n          member_count: 189,\n          isMember: false\n        }, {\n          id: 3,\n          name: \"Anxiety Allies\",\n          description: \"Support for those dealing with anxiety\",\n          member_count: 312,\n          isMember: false\n        }, {\n          id: 4,\n          name: \"Mindfulness Masters\",\n          description: \"Practice mindfulness together\",\n          member_count: 156,\n          isMember: false\n        }, {\n          id: 5,\n          name: \"Breakup Recovery\",\n          description: \"Healing after relationship endings\",\n          member_count: 128,\n          isMember: false\n        }, {\n          id: 6,\n          name: \"Career Stress\",\n          description: \"Managing work-related stress\",\n          member_count: 201,\n          isMember: false\n        }, {\n          id: 7,\n          name: \"Student Support\",\n          description: \"Academic pressure and study stress\",\n          member_count: 178,\n          isMember: false\n        }];\n        setMoodTribes(sampleMoodTribes);\n      }\n    } catch (error) {\n      console.error(\"Error loading mood tribes:\", error);\n    }\n  };\n  const loadShopItems = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('http://localhost:5000/api/shop', {\n        headers: token ? {\n          'Authorization': `Bearer ${token}`\n        } : {}\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setShopItems(data.items);\n      } else {\n        // Fallback to sample data\n        const sampleShopItems = [{\n          id: 1,\n          name: \"Sunset Theme\",\n          description: \"Warm orange and purple theme\",\n          price: 50,\n          category: \"theme\"\n        }, {\n          id: 2,\n          name: \"Ocean Theme\",\n          description: \"Calming blue theme\",\n          price: 50,\n          category: \"theme\"\n        }, {\n          id: 3,\n          name: \"Forest Theme\",\n          description: \"Green nature-inspired theme\",\n          price: 50,\n          category: \"theme\"\n        }, {\n          id: 4,\n          name: \"Neon Theme\",\n          description: \"Vibrant neon colors\",\n          price: 75,\n          category: \"theme\"\n        }, {\n          id: 5,\n          name: \"Glass Theme\",\n          description: \"Modern glassmorphism design\",\n          price: 100,\n          category: \"theme\"\n        }, {\n          id: 6,\n          name: \"Exclusive Avatar\",\n          description: \"Special avatar frame\",\n          price: 100,\n          category: \"cosmetic\"\n        }, {\n          id: 7,\n          name: \"Meditation Pack\",\n          description: \"Exclusive meditation guides\",\n          price: 75,\n          category: \"content\"\n        }, {\n          id: 8,\n          name: \"Second Chance Token\",\n          description: \"Save your streak if you miss a day\",\n          price: 30,\n          category: \"utility\"\n        }, {\n          id: 9,\n          name: \"Custom Voice\",\n          description: \"Personalized AI voice\",\n          price: 150,\n          category: \"feature\"\n        }];\n        setShopItems(sampleShopItems);\n      }\n    } catch (error) {\n      console.error(\"Error loading shop items:\", error);\n    }\n  };\n  const loadAchievements = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) return;\n      const response = await fetch('http://localhost:5000/api/profile', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setAchievements(data.achievements || []);\n        localStorage.setItem('achievements', JSON.stringify(data.achievements || []));\n      }\n    } catch (error) {\n      console.error(\"Error loading achievements:\", error);\n    }\n  };\n  const loadJournalEntries = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('http://localhost:5000/api/journal', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setJournalEntries(data.entries);\n      } else {\n        // Fallback to sample data\n        const sampleEntries = [{\n          id: 1,\n          text: \"Today was a good day. I felt productive and happy.\",\n          summary: \"Positive day with productivity\",\n          mood: \"happy\",\n          date: new Date().toISOString().split('T')[0],\n          shared: false\n        }, {\n          id: 2,\n          text: \"Feeling a bit anxious about the upcoming presentation. Need to practice more.\",\n          summary: \"Anxious about presentation\",\n          mood: \"anxious\",\n          date: \"2023-10-24\",\n          shared: true\n        }, {\n          id: 3,\n          text: \"Had a great conversation with my friend. It felt good to open up.\",\n          summary: \"Positive social interaction\",\n          mood: \"happy\",\n          date: \"2023-10-23\",\n          shared: false\n        }];\n        setJournalEntries(sampleEntries);\n      }\n    } catch (error) {\n      console.error(\"Error loading journal entries:\", error);\n    }\n  };\n  const loadMoodWall = async () => {\n    try {\n      const response = await fetch('http://localhost:5000/api/moodwall');\n      if (response.ok) {\n        const data = await response.json();\n        setMoodWall(data.posts);\n      } else {\n        // Fallback to sample data\n        const samplePosts = [{\n          id: 1,\n          text: \"Today I finally managed to meditate for 10 minutes straight! Feeling proud of myself.\",\n          mood: \"happy\",\n          likes: 12,\n          timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),\n          anonymous: true,\n          userName: \"Anonymous\"\n        }, {\n          id: 2,\n          text: \"Struggling with anxiety today. Anyone else feeling this way?\",\n          mood: \"anxious\",\n          likes: 8,\n          timestamp: new Date(Date.now() - 5 * 60 * 60 * 1000).toISOString(),\n          anonymous: true,\n          userName: \"Anonymous\"\n        }, {\n          id: 3,\n          text: \"Grateful for this community. Reading your stories gives me hope.\",\n          mood: \"grateful\",\n          likes: 25,\n          timestamp: new Date(Date.now() - 8 * 60 * 60 * 1000).toISOString(),\n          anonymous: false,\n          userName: \"HappyUser123\"\n        }];\n        setMoodWall(samplePosts);\n      }\n    } catch (error) {\n      console.error(\"Error loading mood wall:\", error);\n    }\n  };\n  const updateStreakAndCoins = userObj => {\n    const lastLogin = localStorage.getItem('lastLogin');\n    const today = new Date().toDateString();\n    if (lastLogin !== today) {\n      // Check if user has a second chance token\n      const hasSecondChance = localStorage.getItem('secondChanceToken') === 'true';\n      if (hasSecondChance) {\n        // Use second chance token\n        localStorage.removeItem('secondChanceToken');\n        alert(\"You used a Second Chance Token to keep your streak! ðŸ”¥\");\n      } else {\n        // Update streak based on consecutive login\n        const yesterday = new Date();\n        yesterday.setDate(yesterday.getDate() - 1);\n        if (lastLogin === yesterday.toDateString()) {\n          // Consecutive login - increase streak\n          const newStreak = (userObj.streak || 0) + 1;\n          const updatedUser = {\n            ...userObj,\n            streak: newStreak\n          };\n          setUser(updatedUser);\n          localStorage.setItem('user', JSON.stringify(updatedUser));\n\n          // Award coins based on streak length\n          const coinsEarned = Math.min(5 + Math.floor(newStreak / 7), 20);\n          const newCoins = (userObj.coins || 0) + coinsEarned;\n          const updatedUserWithCoins = {\n            ...updatedUser,\n            coins: newCoins\n          };\n          setUser(updatedUserWithCoins);\n          localStorage.setItem('user', JSON.stringify(updatedUserWithCoins));\n\n          // Check for achievement unlocks\n          checkAchievements(newStreak);\n        } else if (lastLogin && lastLogin !== today) {\n          // Broken streak\n          alert(`You broke your ${userObj.streak || 0}-day streak. Start a new one today!`);\n          const updatedUser = {\n            ...userObj,\n            streak: 1\n          };\n          setUser(updatedUser);\n          localStorage.setItem('user', JSON.stringify(updatedUser));\n        }\n      }\n    }\n    localStorage.setItem('lastLogin', today);\n  };\n  const checkAchievements = streak => {\n    const newAchievements = [...achievements];\n    let updated = false;\n\n    // Check streak-based achievements\n    const achievement7 = newAchievements.find(a => a.name === \"7-Day Warrior\");\n    const achievement30 = newAchievements.find(a => a.name === \"30-Day Calm Seeker\");\n    const achievement365 = newAchievements.find(a => a.name === \"365-Day Legend\");\n    if (streak >= 7 && achievement7 && !achievement7.earned) {\n      achievement7.earned = true;\n      updated = true;\n      alert(\"ðŸŽ‰ Achievement Unlocked: 7-Day Warrior!\");\n    }\n    if (streak >= 30 && achievement30 && !achievement30.earned) {\n      achievement30.earned = true;\n      updated = true;\n      alert(\"ðŸŽ‰ Achievement Unlocked: 30-Day Calm Seeker!\");\n    }\n    if (streak >= 365 && achievement365 && !achievement365.earned) {\n      achievement365.earned = true;\n      updated = true;\n      alert(\"ðŸŽ‰ Achievement Unlocked: 365-Day Legend!\");\n    }\n    if (updated) {\n      setAchievements(newAchievements);\n      localStorage.setItem('achievements', JSON.stringify(newAchievements));\n    }\n  };\n\n  // Simulate typing animation\n  const simulateTyping = async () => {\n    const typingPhrases = [\"Thinking\", \"Thinking.\", \"Thinking..\", \"Thinking...\"];\n    for (let i = 0; i < 6; i++) {\n      setTypingIndicator(typingPhrases[i % 4]);\n      await new Promise(resolve => setTimeout(resolve, 300));\n    }\n    setTypingIndicator(\"\");\n  };\n  const handleLogin = async e => {\n    e.preventDefault();\n    setLoginError(\"\");\n    const formData = new FormData(e.target);\n    const credentials = {\n      email: formData.get('email'),\n      password: formData.get('password')\n    };\n    try {\n      const response = await fetch('http://localhost:5000/api/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(credentials)\n      });\n      const data = await response.json();\n      if (response.ok) {\n        localStorage.setItem('token', data.token);\n        localStorage.setItem('user', JSON.stringify(data.user));\n        localStorage.setItem('lastLogin', new Date().toDateString());\n        setUser(data.user);\n        setIsLoggedIn(true);\n        setShowLogin(false);\n        loadInitialData();\n      } else {\n        setLoginError(data.error || \"Login failed\");\n      }\n    } catch (error) {\n      console.error(\"Login error:\", error);\n      setLoginError(\"Network error. Please try again.\");\n    }\n  };\n  const handleRegister = async e => {\n    e.preventDefault();\n    setRegisterError(\"\");\n    const formData = new FormData(e.target);\n    const userData = {\n      email: formData.get('email'),\n      password: formData.get('password'),\n      name: formData.get('name'),\n      confirmPassword: formData.get('confirmPassword')\n    };\n    try {\n      const response = await fetch('http://localhost:5000/api/register', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(userData)\n      });\n      const data = await response.json();\n      if (response.ok) {\n        localStorage.setItem('token', data.token);\n        localStorage.setItem('user', JSON.stringify(data.user));\n        localStorage.setItem('lastLogin', new Date().toDateString());\n        setUser(data.user);\n        setIsLoggedIn(true);\n        setShowRegister(false);\n        setShowLogin(false);\n        loadInitialData();\n      } else {\n        setRegisterError(data.error || \"Registration failed\");\n      }\n    } catch (error) {\n      console.error(\"Registration error:\", error);\n      setRegisterError(\"Network error. Please try again.\");\n    }\n  };\n  const handleForgotPassword = async e => {\n    e.preventDefault();\n    const formData = new FormData(e.target);\n    const email = formData.get('email');\n    try {\n      const response = await fetch('http://localhost:5000/api/forgot-password', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email\n        })\n      });\n      const data = await response.json();\n      if (response.ok) {\n        alert(data.message);\n        setShowForgotPassword(false);\n        setShowLogin(true);\n      } else {\n        alert(data.error || \"Failed to send reset instructions\");\n      }\n    } catch (error) {\n      console.error(\"Forgot password error:\", error);\n      alert(\"Network error. Please try again.\");\n    }\n  };\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    localStorage.removeItem('lastLogin');\n    setUser(null);\n    setIsLoggedIn(false);\n    setShowLogin(true);\n    setMessages([]);\n    setSidebarOpen(false);\n  };\n  const startNewChat = () => {\n    setMessages([{\n      text: \"Hello! I'm MoodMate, your mental health companion. How are you feeling today?\",\n      sender: \"bot\"\n    }]);\n    setShowNewChatModal(false);\n  };\n  const sendMessage = async () => {\n    if (!input.trim() || !isLoggedIn) return;\n    const userMsg = {\n      text: input,\n      sender: \"user\"\n    };\n    setMessages(prev => [...prev, userMsg]);\n    setInput(\"\");\n    setIsTyping(true);\n\n    // Check for emergency keywords\n    const emergencyKeywords = ['suicide', 'kill myself', 'end it all', 'want to die', 'self harm', 'hurt myself'];\n    const hasEmergency = emergencyKeywords.some(keyword => input.toLowerCase().includes(keyword));\n    if (hasEmergency) {\n      setShowEmergencyModal(true);\n      setIsTyping(false);\n      return;\n    }\n\n    // Simulate typing animation\n    simulateTyping();\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('http://localhost:5000/api/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          message: input\n        })\n      });\n      const data = await response.json();\n      if (response.ok) {\n        const botMsg = {\n          text: data.reply,\n          sender: \"bot\",\n          mood: data.mood,\n          moodEmoji: data.moodEmoji,\n          phrase: data.phrase\n        };\n        setMessages(prev => [...prev, botMsg]);\n\n        // Update user data if coins were earned\n        if (data.coinsEarned > 0) {\n          const updatedUser = {\n            ...user,\n            coins: data.coins,\n            streak: data.streak\n          };\n          setUser(updatedUser);\n          localStorage.setItem('user', JSON.stringify(updatedUser));\n        }\n\n        // Play audio if available and enabled\n        if (data.audioUrl && audioEnabled) {\n          const audio = new Audio(`http://localhost:5000${data.audioUrl}`);\n          audio.play().catch(e => console.log(\"Audio play failed:\", e));\n        }\n      } else {\n        // Fallback response\n        const botMsg = {\n          text: \"I'm having trouble connecting right now. Please check your internet connection.\",\n          sender: \"bot\"\n        };\n        setMessages(prev => [...prev, botMsg]);\n      }\n    } catch (error) {\n      console.error(\"Chat error:\", error);\n      const botMsg = {\n        text: \"I'm having trouble connecting right now. Please check your internet connection.\",\n        sender: \"bot\"\n      };\n      setMessages(prev => [...prev, botMsg]);\n    }\n    setIsTyping(false);\n    setTypingIndicator(\"\");\n  };\n  const addJournalEntry = async () => {\n    const entryText = prompt(\"What's on your mind today?\");\n    if (!entryText) return;\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('http://localhost:5000/api/journal', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          text: entryText\n        })\n      });\n      const data = await response.json();\n      if (response.ok) {\n        setJournalEntries(prev => [data.entry, ...prev]);\n        const newCoins = user.coins + data.coinsEarned;\n        const updatedUser = {\n          ...user,\n          coins: newCoins\n        };\n        setUser(updatedUser);\n        localStorage.setItem('user', JSON.stringify(updatedUser));\n        alert(\"Journal entry saved! +3 coins earned!\");\n      } else {\n        alert(\"Failed to save journal entry. Please try again.\");\n      }\n    } catch (error) {\n      console.error(\"Journal error:\", error);\n      alert(\"Failed to save journal entry. Please try again.\");\n    }\n  };\n  const shareJournalEntry = async entryId => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`http://localhost:5000/api/journal/${entryId}/share`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      const data = await response.json();\n      if (response.ok) {\n        const updatedEntries = journalEntries.map(e => e.id === entryId ? {\n          ...e,\n          shared: true\n        } : e);\n        setJournalEntries(updatedEntries);\n        alert(data.message);\n      } else {\n        alert(\"Failed to share journal entry. Please try again.\");\n      }\n    } catch (error) {\n      console.error(\"Share journal error:\", error);\n      alert(\"Failed to share journal entry. Please try again.\");\n    }\n  };\n  const addMoodWallPost = async () => {\n    const postText = prompt(\"Share your feelings with the community (anonymous):\");\n    if (!postText) return;\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('http://localhost:5000/api/moodwall', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          text: postText,\n          anonymous: true\n        })\n      });\n      const data = await response.json();\n      if (response.ok) {\n        const newPost = {\n          id: data.post_id,\n          text: postText,\n          mood: \"neutral\",\n          likes: 0,\n          timestamp: new Date().toISOString(),\n          anonymous: true\n        };\n        setMoodWall(prev => [newPost, ...prev]);\n        alert(\"Posted to mood wall!\");\n      } else {\n        alert(\"Failed to post to mood wall. Please try again.\");\n      }\n    } catch (error) {\n      console.error(\"Mood wall error:\", error);\n      alert(\"Failed to post to mood wall. Please try again.\");\n    }\n  };\n  const joinTribe = async tribeId => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`http://localhost:5000/api/moodtribes/${tribeId}/join`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      const data = await response.json();\n      if (response.ok) {\n        const tribe = moodTribes.find(t => t.id === tribeId);\n        if (tribe) {\n          const updatedTribes = moodTribes.map(t => t.id === tribeId ? {\n            ...t,\n            isMember: true,\n            member_count: t.member_count + 1\n          } : t);\n          setMoodTribes(updatedTribes);\n          setUserTribes(prev => [...prev, tribe]);\n          localStorage.setItem('userTribes', JSON.stringify([...userTribes, tribe]));\n          alert(`ðŸŽ‰ You've joined the ${tribe.name}!`);\n        }\n      } else {\n        alert(data.error || \"Failed to join tribe. Please try again.\");\n      }\n    } catch (error) {\n      console.error(\"Join tribe error:\", error);\n      alert(\"Failed to join tribe. Please try again.\");\n    }\n  };\n  const playBreathingExercise = () => {\n    setMessages(prev => [...prev, {\n      text: \"Let's do a quick breathing exercise. Breathe in for 4 seconds, hold for 4 seconds, exhale for 6 seconds. Repeat 5 times. I'll guide you through it...\",\n      sender: \"bot\",\n      isExercise: true\n    }]);\n  };\n  const buyItem = async item => {\n    if (user.coins < item.price) {\n      alert(\"Not enough coins!\");\n      return;\n    }\n    if (window.confirm(`Buy ${item.name} for ${item.price} coins?`)) {\n      try {\n        const token = localStorage.getItem('token');\n        const response = await fetch(`http://localhost:5000/api/shop/${item.id}/purchase`, {\n          method: 'POST',\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        const data = await response.json();\n        if (response.ok) {\n          const newCoins = user.coins - item.price;\n          const updatedUser = {\n            ...user,\n            coins: newCoins\n          };\n          setUser(updatedUser);\n          localStorage.setItem('user', JSON.stringify(updatedUser));\n          if (item.category === \"theme\") {\n            setCurrentTheme(item.name.toLowerCase().replace(' theme', ''));\n            localStorage.setItem('theme', item.name.toLowerCase().replace(' theme', ''));\n            alert(`Theme applied! You're now using the ${item.name}.`);\n          } else if (item.name === \"Second Chance Token\") {\n            localStorage.setItem('secondChanceToken', 'true');\n            alert(\"Second Chance Token purchased! This will save your streak if you miss a day.\");\n          } else {\n            alert(`Purchased ${item.name}!`);\n          }\n        } else {\n          alert(data.error || \"Failed to purchase item. Please try again.\");\n        }\n      } catch (error) {\n        console.error(\"Purchase error:\", error);\n        alert(\"Failed to purchase item. Please try again.\");\n      }\n    }\n  };\n  const applyTheme = themeName => {\n    setCurrentTheme(themeName);\n    localStorage.setItem('theme', themeName);\n  };\n  const toggleAudio = async () => {\n    const newAudioEnabled = !audioEnabled;\n    setAudioEnabled(newAudioEnabled);\n    localStorage.setItem('audioEnabled', newAudioEnabled);\n    try {\n      const token = localStorage.getItem('token');\n      await fetch('http://localhost:5000/api/audio/enable', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          enable_voice: newAudioEnabled\n        })\n      });\n    } catch (error) {\n      console.error(\"Error updating audio settings:\", error);\n    }\n  };\n  const toggleMusic = async () => {\n    const newMusicEnabled = !musicEnabled;\n    setMusicEnabled(newMusicEnabled);\n    localStorage.setItem('musicEnabled', newMusicEnabled);\n    try {\n      const token = localStorage.getItem('token');\n      await fetch('http://localhost:5000/api/audio/enable', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          enable_music: newMusicEnabled\n        })\n      });\n    } catch (error) {\n      console.error(\"Error updating music settings:\", error);\n    }\n  };\n  const switchAiProvider = async provider => {\n    setAiProvider(provider);\n    localStorage.setItem('aiProvider', provider);\n    try {\n      const token = localStorage.getItem('token');\n      await fetch('http://localhost:5000/api/ai/switch', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          provider\n        })\n      });\n    } catch (error) {\n      console.error(\"Error switching AI provider:\", error);\n    }\n  };\n  const handleCrisisSafe = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      await fetch('http://localhost:5000/api/crisis/safe', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      setShowEmergencyModal(false);\n    } catch (error) {\n      console.error(\"Error handling crisis:\", error);\n    }\n  };\n  const handleCrisisHelp = async type => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('http://localhost:5000/api/crisis/help', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          type\n        })\n      });\n      const data = await response.json();\n      if (response.ok) {\n        if (type === 'call') {\n          window.open(`tel:${data.emergency_number}`);\n        }\n        alert(data.message);\n      } else {\n        alert(\"Failed to get help. Please try again.\");\n      }\n    } catch (error) {\n      console.error(\"Error getting crisis help:\", error);\n    }\n  };\n  const EmergencyModal = () => {\n    if (!showEmergencyModal) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"emergency-modal\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"emergency-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u26A0\\uFE0F We're concerned about you\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 850,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Please choose an option below. Your safety matters \\uD83D\\uDC99\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 851,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"emergency-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"emergency-call\",\n            onClick: () => handleCrisisHelp('call'),\n            children: \"Call for Help \\uD83D\\uDD34\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 854,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"emergency-resources\",\n            onClick: () => handleCrisisHelp('resources'),\n            children: \"Show Resources \\uD83D\\uDCCB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 861,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"emergency-ok\",\n            onClick: handleCrisisSafe,\n            children: \"I'm Fine Now \\u2705\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 868,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 853,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 849,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 848,\n      columnNumber: 7\n    }, this);\n  };\n  const NewChatModal = () => {\n    if (!showNewChatModal) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Start New Chat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 886,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Are you sure you want to start a new chat? Your current conversation will be cleared.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 887,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: startNewChat,\n            className: \"btn-primary\",\n            children: \"Yes, Start New Chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 889,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowNewChatModal(false),\n            className: \"btn-secondary\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 890,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 888,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 885,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 884,\n      columnNumber: 7\n    }, this);\n  };\n  const TribeCommunity = () => {\n    if (!activeTribe) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tribe-community\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tribe-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveTab(\"community\"),\n          className: \"back-btn\",\n          children: \"\\u2190 Back to Communities\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 903,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [activeTribe.name, \" Community\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 906,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: activeTribe.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 907,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tribe-stats\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\uD83D\\uDC65 \", activeTribe.member_count, \" members\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 909,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\uD83D\\uDCAC 24 active now\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 910,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 908,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 902,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tribe-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tribe-chat\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Community Chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 916,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tribe-messages\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tribe-message\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-avatar\",\n                children: \"A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 919,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"message-sender\",\n                  children: \"Anonymous User\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 921,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Hello everyone! How are you all feeling today?\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 922,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"message-time\",\n                  children: \"2 hours ago\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 923,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 920,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 918,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tribe-message\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-avatar\",\n                children: \"B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 927,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"message-sender\",\n                  children: \"Anonymous User\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 929,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"I've been practicing mindfulness and it's really helping with my anxiety \\uD83D\\uDE0A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 930,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"message-time\",\n                  children: \"1 hour ago\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 931,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 928,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 926,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 917,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tribe-input\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Share something with the community...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 937,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              children: \"Send\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 938,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 936,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 915,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tribe-resources\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Community Resources\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 943,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"resource-list\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"resource-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Mindfulness Exercises\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 946,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Guided meditation for beginners\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 947,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                children: \"View\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 948,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 945,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"resource-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Support Threads\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 951,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Connect with others who understand\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 952,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                children: \"Explore\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 953,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 950,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 944,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 942,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 914,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 901,\n      columnNumber: 7\n    }, this);\n  };\n  const Sidebar = () => {\n    if (!sidebarOpen) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar-overlay\",\n      onClick: () => setSidebarOpen(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sidebar-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"MoodMate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 969,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setSidebarOpen(false),\n            className: \"close-btn\",\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 970,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 968,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sidebar-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sidebar-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Navigation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 975,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setActiveTab(\"chat\");\n                setSidebarOpen(false);\n              },\n              className: `sidebar-btn ${activeTab === \"chat\" ? \"active\" : \"\"}`,\n              children: \"\\uD83D\\uDCAC Chat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 976,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setActiveTab(\"journal\");\n                setSidebarOpen(false);\n                loadJournalEntries();\n              },\n              className: `sidebar-btn ${activeTab === \"journal\" ? \"active\" : \"\"}`,\n              children: \"\\uD83D\\uDCD3 Journal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 982,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setActiveTab(\"therapy\");\n                setSidebarOpen(false);\n              },\n              className: `sidebar-btn ${activeTab === \"therapy\" ? \"active\" : \"\"}`,\n              children: \"\\uD83D\\uDC68\\u200D\\u2695\\uFE0F Therapy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 988,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setActiveTab(\"community\");\n                setSidebarOpen(false);\n              },\n              className: `sidebar-btn ${activeTab === \"community\" ? \"active\" : \"\"}`,\n              children: \"\\uD83C\\uDF0D Community\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 994,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setActiveTab(\"profile\");\n                setSidebarOpen(false);\n              },\n              className: `sidebar-btn ${activeTab === \"profile\" ? \"active\" : \"\"}`,\n              children: \"\\uD83D\\uDC64 Profile\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1000,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 974,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sidebar-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Quick Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1009,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowNewChatModal(true);\n                setSidebarOpen(false);\n              },\n              className: \"sidebar-btn\",\n              children: \"New Chat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1010,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                playBreathingExercise();\n                setSidebarOpen(false);\n              },\n              className: \"sidebar-btn\",\n              children: \"Breathing Exercise\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1013,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1008,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sidebar-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Settings\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1019,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Voice Responses\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1021,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"switch\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: audioEnabled,\n                  onChange: toggleAudio\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1023,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"slider\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1024,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1022,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1020,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Background Music\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1028,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"switch\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: musicEnabled,\n                  onChange: toggleMusic\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1030,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"slider\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1031,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1029,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1027,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"AI Provider\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1035,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: aiProvider,\n                onChange: e => switchAiProvider(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"gemini\",\n                  children: \"Gemini AI\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1037,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"fallback\",\n                  children: \"Fallback Mode\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1038,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1036,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1034,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1018,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sidebar-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Themes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1044,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"theme-options\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `theme-option ${currentTheme === 'default' ? 'active' : ''}`,\n                onClick: () => applyTheme('default'),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"theme-preview default-theme\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1050,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Default\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1051,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1046,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `theme-option ${currentTheme === 'sunset' ? 'active' : ''}`,\n                onClick: () => applyTheme('sunset'),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"theme-preview sunset-theme\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1057,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Sunset\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1058,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1053,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `theme-option ${currentTheme === 'ocean' ? 'active' : ''}`,\n                onClick: () => applyTheme('ocean'),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"theme-preview ocean-theme\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1064,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Ocean\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1065,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1060,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `theme-option ${currentTheme === 'forest' ? 'active' : ''}`,\n                onClick: () => applyTheme('forest'),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"theme-preview forest-theme\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1071,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Forest\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1072,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1067,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1045,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1043,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 973,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 967,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 966,\n      columnNumber: 7\n    }, this);\n  };\n  if (!isLoggedIn) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-container auth-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\uD83C\\uDF19 MoodMate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1086,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Your mental health companion\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1087,\n          columnNumber: 11\n        }, this), showLogin && /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleLogin,\n          className: \"auth-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1091,\n            columnNumber: 15\n          }, this), loginError && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-message\",\n            children: loginError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1092,\n            columnNumber: 30\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            placeholder: \"Email\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1093,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"password\",\n            placeholder: \"Password\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1094,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1095,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"auth-links\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"auth-link\",\n              onClick: () => setShowRegister(true),\n              children: \"Create Account\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1098,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"auth-link\",\n              onClick: () => setShowForgotPassword(true),\n              children: \"Forgot Password?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1101,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1097,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1090,\n          columnNumber: 13\n        }, this), showRegister && /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleRegister,\n          className: \"auth-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1110,\n            columnNumber: 15\n          }, this), registerError && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-message\",\n            children: registerError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1111,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            placeholder: \"Full Name\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1112,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            placeholder: \"Email\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1113,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"password\",\n            placeholder: \"Password (min 8 chars)\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1114,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"confirmPassword\",\n            placeholder: \"Confirm Password\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1115,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1116,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Already have an account?\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"auth-link\",\n              onClick: () => setShowRegister(false),\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1119,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1117,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1109,\n          columnNumber: 13\n        }, this), showForgotPassword && /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleForgotPassword,\n          className: \"auth-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Reset Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1128,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            placeholder: \"Your Email\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1129,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Send Reset Instructions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1130,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Remember your password?\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"auth-link\",\n              onClick: () => setShowForgotPassword(false),\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1133,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1131,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1127,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1085,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1084,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `app-container ${currentTheme}-theme`,\n    children: [/*#__PURE__*/_jsxDEV(EmergencyModal, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1146,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NewChatModal, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1147,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1148,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"app-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setSidebarOpen(true),\n          className: \"menu-btn\",\n          children: \"\\u2630\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\uD83C\\uDF19 MoodMate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1153,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-stats\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"streak-display\",\n            children: [\"\\uD83D\\uDD25 \", (user === null || user === void 0 ? void 0 : user.streak) || 0, \" day streak\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1155,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\uD83E\\uDE99 \", (user === null || user === void 0 ? void 0 : user.coins) || 0, \" coins\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1156,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1154,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1151,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-right\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Welcome, \", user === null || user === void 0 ? void 0 : user.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1160,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLogout,\n          className: \"logout-btn\",\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1161,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1159,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1150,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"app-nav\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: activeTab === \"chat\" ? \"active\" : \"\",\n        onClick: () => setActiveTab(\"chat\"),\n        children: \"\\uD83D\\uDCAC Chat\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1166,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: activeTab === \"journal\" ? \"active\" : \"\",\n        onClick: () => {\n          setActiveTab(\"journal\");\n          loadJournalEntries();\n        },\n        children: \"\\uD83D\\uDCD3 Journal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: activeTab === \"therapy\" ? \"active\" : \"\",\n        onClick: () => setActiveTab(\"therapy\"),\n        children: \"\\uD83D\\uDC68\\u200D\\u2695\\uFE0F Therapy\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: activeTab === \"community\" ? \"active\" : \"\",\n        onClick: () => setActiveTab(\"community\"),\n        children: \"\\uD83C\\uDF0D Community\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1187,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: activeTab === \"profile\" ? \"active\" : \"\",\n        onClick: () => setActiveTab(\"profile\"),\n        children: \"\\uD83D\\uDC64 Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1193,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1165,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"app-main\",\n      children: [activeTab === \"chat\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-tab\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Chat with MoodMate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1205,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowNewChatModal(true),\n            className: \"new-chat-btn\",\n            children: \"+ New Chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1206,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1204,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-box\",\n          children: [messages.map((msg, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `chat-message ${msg.sender} ${msg.isReward ? 'reward' : ''} ${msg.isExercise ? 'exercise' : ''}`,\n            children: [msg.sender === \"bot\" && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"avatar bot-avatar\",\n              children: \"\\uD83E\\uDD16\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1214,\n              columnNumber: 21\n            }, this), msg.sender === \"user\" && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"avatar user-avatar\",\n              children: \"\\uD83D\\uDC64\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1217,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bubble\",\n              children: [msg.text, msg.moodEmoji && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mood-indicator\",\n                children: [msg.moodEmoji, \" \", msg.phrase]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1222,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1219,\n              columnNumber: 19\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1212,\n            columnNumber: 17\n          }, this)), isTyping && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-message bot\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"avatar bot-avatar\",\n              children: \"\\uD83E\\uDD16\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1232,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bubble typing\",\n              children: typingIndicator || \"...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1233,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1231,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: chatEndRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1239,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1210,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-area\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"How are you feeling today?\",\n            value: input,\n            onChange: e => setInput(e.target.value),\n            onKeyDown: e => e.key === \"Enter\" && sendMessage()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1243,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: sendMessage,\n            className: \"send-btn\",\n            children: \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1250,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: playBreathingExercise,\n            className: \"exercise-btn\",\n            title: \"Breathing Exercise\",\n            children: \"\\uD83E\\uDDD8\\u200D\\u2642\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1251,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1242,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1203,\n        columnNumber: 11\n      }, this), activeTab === \"journal\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"journal-tab\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"journal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Your Journal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1259,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"journal-tabs\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: journalTab === \"personal\" ? \"active\" : \"\",\n              onClick: () => setJournalTab(\"personal\"),\n              children: \"Personal Journal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1261,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: journalTab === \"tribe\" ? \"active\" : \"\",\n              onClick: () => setJournalTab(\"tribe\"),\n              children: \"Tribe Posts\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1267,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1260,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: addJournalEntry,\n            className: \"add-entry-btn\",\n            children: \"+ New Entry\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1274,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1258,\n          columnNumber: 13\n        }, this), journalTab === \"personal\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"journal-entries\",\n          children: journalEntries.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-state\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"No journal entries yet. Write your first entry!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1283,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: addJournalEntry,\n              children: \"Start Journaling\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1284,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1282,\n            columnNumber: 19\n          }, this) : journalEntries.map((entry, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"journal-entry\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"entry-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"entry-date\",\n                children: entry.date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1290,\n                columnNumber: 25\n              }, this), !entry.shared && userTribes.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => shareJournalEntry(entry.id),\n                className: \"share-btn\",\n                title: \"Share to your tribes\",\n                children: \"Share\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1292,\n                columnNumber: 27\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1289,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"entry-text\",\n              children: entry.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1301,\n              columnNumber: 23\n            }, this), entry.summary && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"entry-summary\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Summary:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1304,\n                columnNumber: 27\n              }, this), \" \", entry.summary]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1303,\n              columnNumber: 25\n            }, this), entry.mood && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"entry-mood\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Mood:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1309,\n                columnNumber: 27\n              }, this), \" \", entry.mood]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1308,\n              columnNumber: 25\n            }, this)]\n          }, `entry-${entry.id}-${index}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1288,\n            columnNumber: 21\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1280,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tribe-posts\",\n          children: moodWall.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-state\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"No posts in your tribes yet. Share something or join more tribes!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1320,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1319,\n            columnNumber: 19\n          }, this) : moodWall.map((post, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tribe-post\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: post.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1325,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"post-footer\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"post-reactions\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  children: \"\\uD83D\\uDC96\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1328,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  children: \"\\uD83E\\uDD17\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1329,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  children: \"\\uD83D\\uDC4D\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1330,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1327,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"post-time\",\n                children: new Date(post.timestamp).toLocaleDateString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1332,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1326,\n              columnNumber: 23\n            }, this)]\n          }, `post-${post.id}-${index}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1324,\n            columnNumber: 21\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1317,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1257,\n        columnNumber: 11\n      }, this), activeTab === \"therapy\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"therapy-tab\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"resources-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83C\\uDD98 Crisis Resources\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1345,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"resources-grid\",\n            children: resources.filter(r => r.type === 'crisis').map((resource, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"resource-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: resource.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1349,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: resource.number\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1350,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                children: resource.available\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1351,\n                columnNumber: 21\n              }, this), resource.number && /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"call-btn\",\n                onClick: () => window.open(`tel:${resource.number.replace(/\\D/g, '')}`),\n                children: \"\\uD83D\\uDCDE Call Now\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1353,\n                columnNumber: 23\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1348,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1346,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1344,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"therapists-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83D\\uDC68\\u200D\\u2695\\uFE0F Professional Therapists\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1366,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"therapists-grid\",\n            children: therapists.map(therapist => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"therapist-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"therapist-avatar\",\n                children: therapist.avatar\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1370,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: therapist.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1371,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: therapist.specialization\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1372,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\u2B50 \", therapist.rating, \" \\u2022 \", therapist.experience]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1373,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\uD83E\\uDE99 \", therapist.price, \" coins/session\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1374,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"book-btn\",\n                disabled: (user === null || user === void 0 ? void 0 : user.coins) < therapist.price,\n                children: (user === null || user === void 0 ? void 0 : user.coins) >= therapist.price ? \"Book Session\" : \"Not Enough Coins\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1375,\n                columnNumber: 21\n              }, this)]\n            }, therapist.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1369,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1367,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1365,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1343,\n        columnNumber: 11\n      }, this), activeTab === \"community\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"community-tab\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mood-wall-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83C\\uDF0D Community Mood Wall\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1391,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: addMoodWallPost,\n            className: \"add-post-btn\",\n            children: \"+ Share Your Feelings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1392,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mood-wall\",\n            children: moodWall.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"empty-state\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Be the first to share your thoughts with the community!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1396,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1395,\n              columnNumber: 19\n            }, this) : moodWall.map((post, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mood-post\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: post.text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1401,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"post-footer\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"post-reactions\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    children: \"\\uD83D\\uDC96\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1404,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    children: \"\\uD83E\\uDD17\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1405,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    children: \"\\uD83D\\uDC4D\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1406,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1403,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"post-time\",\n                  children: new Date(post.timestamp).toLocaleDateString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1408,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1402,\n                columnNumber: 23\n              }, this)]\n            }, `post-${post.id}-${index}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1400,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1393,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1390,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tribes-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83C\\uDFAF Mood Tribes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1417,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tribes-grid\",\n            children: moodTribes.map(tribe => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tribe-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: tribe.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1421,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: tribe.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1422,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"member-count\",\n                children: [\"\\uD83D\\uDC65 \", tribe.member_count, \" members\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1423,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => joinTribe(tribe.id),\n                className: tribe.isMember ? \"joined-btn\" : \"join-btn\",\n                children: tribe.isMember ? \"Visit Community\" : \"Join Tribe\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1424,\n                columnNumber: 21\n              }, this)]\n            }, tribe.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1420,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1418,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1416,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1389,\n        columnNumber: 11\n      }, this), activeTab === \"tribeCommunity\" && /*#__PURE__*/_jsxDEV(TribeCommunity, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1438,\n        columnNumber: 11\n      }, this), activeTab === \"profile\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-tab\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-avatar\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"avatar-placeholder\",\n              children: (user === null || user === void 0 ? void 0 : (_user$name = user.name) === null || _user$name === void 0 ? void 0 : _user$name.charAt(0)) || 'U'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1445,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-badge\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uD83D\\uDD25\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1449,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1448,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1444,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: user === null || user === void 0 ? void 0 : user.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1453,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Member since \", new Date().toLocaleDateString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1454,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-stats\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: (user === null || user === void 0 ? void 0 : user.streak) || 0\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1458,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Day Streak\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1459,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1457,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: (user === null || user === void 0 ? void 0 : user.coins) || 0\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1462,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Mood Coins\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1463,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1461,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: userTribes.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1466,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Tribes Joined\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1467,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1465,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1456,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1452,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1443,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83D\\uDD25 Streak Progress\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1474,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"streak-progress\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"streak-days\",\n              children: [7, 30, 90, 180, 365].map(day => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `streak-milestone ${(user === null || user === void 0 ? void 0 : user.streak) >= day ? 'achieved' : ''}`,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"milestone-day\",\n                  children: day\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1479,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"milestone-label\",\n                  children: [day, \" Days\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1480,\n                  columnNumber: 23\n                }, this)]\n              }, day, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1478,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1476,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"streak-bar\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"streak-progress-bar\",\n                style: {\n                  width: `${Math.min(100, (user === null || user === void 0 ? void 0 : user.streak) / 365 * 100)}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1485,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1484,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1475,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1473,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83C\\uDFC5 Achievements & Badges\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1494,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"achievements-grid\",\n            children: achievements.map(achievement => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `achievement ${achievement.earned ? 'earned' : 'locked'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"achievement-icon\",\n                children: achievement.icon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1498,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"achievement-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: achievement.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1500,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: achievement.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1501,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1499,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"achievement-status\",\n                children: achievement.earned ? 'âœ“' : 'ðŸ”’'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1503,\n                columnNumber: 21\n              }, this)]\n            }, achievement.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1497,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1495,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1493,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83D\\uDED2 Shop Items\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1512,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shop-items-grid\",\n            children: shopItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"shop-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1516,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: item.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1517,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-price\",\n                children: [\"\\uD83E\\uDE99 \", item.price, \" coins\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1518,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => buyItem(item),\n                disabled: (user === null || user === void 0 ? void 0 : user.coins) < item.price,\n                className: (user === null || user === void 0 ? void 0 : user.coins) >= item.price ? \"buy-btn\" : \"disabled-btn\",\n                children: (user === null || user === void 0 ? void 0 : user.coins) >= item.price ? \"Buy Now\" : \"Not Enough Coins\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1519,\n                columnNumber: 21\n              }, this)]\n            }, item.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1515,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1513,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1511,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83C\\uDFA8 Themes & Customization\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1532,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"themes-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `theme-option ${currentTheme === 'default' ? 'active' : ''}`,\n              onClick: () => applyTheme('default'),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"theme-preview default-theme\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1538,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Default Theme\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1539,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1534,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `theme-option ${currentTheme === 'sunset' ? 'active' : ''}`,\n              onClick: () => applyTheme('sunset'),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"theme-preview sunset-theme\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1545,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Sunset Theme\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1546,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1541,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `theme-option ${currentTheme === 'ocean' ? 'active' : ''}`,\n              onClick: () => applyTheme('ocean'),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"theme-preview ocean-theme\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1552,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Ocean Theme\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1553,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1548,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `theme-option ${currentTheme === 'forest' ? 'active' : ''}`,\n              onClick: () => applyTheme('forest'),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"theme-preview forest-theme\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1559,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Forest Theme\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1560,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1555,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1533,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1531,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83D\\uDC65 My Tribes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1566,\n            columnNumber: 15\n          }, this), userTribes.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"You haven't joined any tribes yet. Visit the Community tab to join one!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1568,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-tribes\",\n            children: userTribes.map(tribe => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-tribe\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: tribe.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1573,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => joinTribe(tribe.id),\n                children: \"Visit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1574,\n                columnNumber: 23\n              }, this)]\n            }, tribe.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1572,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1570,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1565,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1442,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1201,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1145,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"CVGoMdoH8Lz0YRsNLebeaWv9in4=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","App","_s","_user$name","messages","setMessages","input","setInput","isTyping","setIsTyping","user","setUser","isLoggedIn","setIsLoggedIn","showLogin","setShowLogin","showRegister","setShowRegister","showForgotPassword","setShowForgotPassword","activeTab","setActiveTab","journalEntries","setJournalEntries","therapists","setTherapists","resources","setResources","moodWall","setMoodWall","moodTribes","setMoodTribes","shopItems","setShopItems","userTribes","setUserTribes","currentTheme","setCurrentTheme","typingIndicator","setTypingIndicator","showEmergencyModal","setShowEmergencyModal","achievements","setAchievements","journalTab","setJournalTab","activeTribe","setActiveTribe","sidebarOpen","setSidebarOpen","mentalFitnessScore","setMentalFitnessScore","showNewChatModal","setShowNewChatModal","loginError","setLoginError","registerError","setRegisterError","audioEnabled","setAudioEnabled","musicEnabled","setMusicEnabled","aiProvider","setAiProvider","chatEndRef","audioRef","token","localStorage","getItem","userData","savedTheme","savedTribes","JSON","parse","savedAchievements","savedAudio","savedMusic","savedAiProvider","userObj","length","loadInitialData","updateStreakAndCoins","_chatEndRef$current","current","scrollIntoView","behavior","text","sender","loadTherapists","loadResources","loadMoodTribes","loadShopItems","loadAchievements","loadJournalEntries","loadMoodWall","response","fetch","ok","data","json","sampleTherapists","id","name","specialization","price","rating","experience","avatar","error","console","sampleResources","type","number","available","website","description","headers","tribes","userTribeIds","filter","t","isMember","map","setItem","stringify","sampleMoodTribes","member_count","items","sampleShopItems","category","entries","sampleEntries","summary","mood","date","Date","toISOString","split","shared","posts","samplePosts","likes","timestamp","now","anonymous","userName","lastLogin","today","toDateString","hasSecondChance","removeItem","alert","yesterday","setDate","getDate","newStreak","streak","updatedUser","coinsEarned","Math","min","floor","newCoins","coins","updatedUserWithCoins","checkAchievements","newAchievements","updated","achievement7","find","a","achievement30","achievement365","earned","simulateTyping","typingPhrases","i","Promise","resolve","setTimeout","handleLogin","e","preventDefault","formData","FormData","target","credentials","email","get","password","method","body","handleRegister","confirmPassword","handleForgotPassword","message","handleLogout","startNewChat","sendMessage","trim","userMsg","prev","emergencyKeywords","hasEmergency","some","keyword","toLowerCase","includes","botMsg","reply","moodEmoji","phrase","audioUrl","audio","Audio","play","catch","log","addJournalEntry","entryText","prompt","entry","shareJournalEntry","entryId","updatedEntries","addMoodWallPost","postText","newPost","post_id","joinTribe","tribeId","tribe","updatedTribes","playBreathingExercise","isExercise","buyItem","item","window","confirm","replace","applyTheme","themeName","toggleAudio","newAudioEnabled","enable_voice","toggleMusic","newMusicEnabled","enable_music","switchAiProvider","provider","handleCrisisSafe","handleCrisisHelp","open","emergency_number","EmergencyModal","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","NewChatModal","TribeCommunity","placeholder","Sidebar","stopPropagation","checked","onChange","value","onSubmit","required","msg","isReward","ref","onKeyDown","key","title","index","post","toLocaleDateString","r","resource","therapist","disabled","charAt","day","style","width","achievement","icon","_c","$RefreshReg$"],"sources":["C:/Users/Prabhat singh/Downloads/Best_Project/frontend/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport \"./App.css\";\r\n\r\nfunction App() {\r\n  const [messages, setMessages] = useState([]);\r\n  const [input, setInput] = useState(\"\");\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  const [user, setUser] = useState(null);\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [showLogin, setShowLogin] = useState(true);\r\n  const [showRegister, setShowRegister] = useState(false);\r\n  const [showForgotPassword, setShowForgotPassword] = useState(false);\r\n  const [activeTab, setActiveTab] = useState(\"chat\");\r\n  const [journalEntries, setJournalEntries] = useState([]);\r\n  const [therapists, setTherapists] = useState([]);\r\n  const [resources, setResources] = useState([]);\r\n  const [moodWall, setMoodWall] = useState([]);\r\n  const [moodTribes, setMoodTribes] = useState([]);\r\n  const [shopItems, setShopItems] = useState([]);\r\n  const [userTribes, setUserTribes] = useState([]);\r\n  const [currentTheme, setCurrentTheme] = useState(\"default\");\r\n  const [typingIndicator, setTypingIndicator] = useState(\"\");\r\n  const [showEmergencyModal, setShowEmergencyModal] = useState(false);\r\n  const [achievements, setAchievements] = useState([]);\r\n  const [journalTab, setJournalTab] = useState(\"personal\");\r\n  const [activeTribe, setActiveTribe] = useState(null);\r\n  const [sidebarOpen, setSidebarOpen] = useState(false);\r\n  const [mentalFitnessScore, setMentalFitnessScore] = useState(75);\r\n  const [showNewChatModal, setShowNewChatModal] = useState(false);\r\n  const [loginError, setLoginError] = useState(\"\");\r\n  const [registerError, setRegisterError] = useState(\"\");\r\n  const [audioEnabled, setAudioEnabled] = useState(true);\r\n  const [musicEnabled, setMusicEnabled] = useState(true);\r\n  const [aiProvider, setAiProvider] = useState(\"gemini\");\r\n\r\n  const chatEndRef = useRef(null);\r\n  const audioRef = useRef(null);\r\n\r\n  // Load saved session\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    const userData = localStorage.getItem('user');\r\n    const savedTheme = localStorage.getItem('theme') || 'default';\r\n    const savedTribes = JSON.parse(localStorage.getItem('userTribes') || '[]');\r\n    const savedAchievements = JSON.parse(localStorage.getItem('achievements') || '[]');\r\n    const savedAudio = localStorage.getItem('audioEnabled') !== 'false';\r\n    const savedMusic = localStorage.getItem('musicEnabled') !== 'false';\r\n    const savedAiProvider = localStorage.getItem('aiProvider') || 'gemini';\r\n    \r\n    if (token && userData) {\r\n      const userObj = JSON.parse(userData);\r\n      setUser(userObj);\r\n      setIsLoggedIn(true);\r\n      setShowLogin(false);\r\n      setCurrentTheme(savedTheme);\r\n      setUserTribes(savedTribes);\r\n      setAchievements(savedAchievements.length ? savedAchievements : []);\r\n      setAudioEnabled(savedAudio);\r\n      setMusicEnabled(savedMusic);\r\n      setAiProvider(savedAiProvider);\r\n      loadInitialData();\r\n      \r\n      // Update streak if it's a new day\r\n      updateStreakAndCoins(userObj);\r\n    }\r\n  }, []);\r\n\r\n  // Auto scroll\r\n  useEffect(() => {\r\n    chatEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  }, [messages]);\r\n\r\n  const loadInitialData = async () => {\r\n    setMessages([{\r\n      text: \"Hello! I'm MoodMate, your mental health companion. How are you feeling today?\",\r\n      sender: \"bot\"\r\n    }]);\r\n    \r\n    // Load data from backend\r\n    await loadTherapists();\r\n    await loadResources();\r\n    await loadMoodTribes();\r\n    await loadShopItems();\r\n    await loadAchievements();\r\n    \r\n    // Load journal entries if user is logged in\r\n    if (isLoggedIn) {\r\n      await loadJournalEntries();\r\n      await loadMoodWall();\r\n    }\r\n  };\r\n  \r\n  const loadTherapists = async () => {\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/therapists');\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setTherapists(data.therapists);\r\n      } else {\r\n        // Fallback to sample data\r\n        const sampleTherapists = [\r\n          {id: 1, name: \"Dr. Priya Sharma\", specialization: \"Clinical Psychology\", price: 799, rating: 4.7, experience: \"8 years\", avatar: \"ðŸ‘©â€âš•ï¸\"},\r\n          {id: 2, name: \"Rajiv Mehta\", specialization: \"Counseling Psychology\", price: 599, rating: 4.5, experience: \"5 years\", avatar: \"ðŸ‘¨â€âš•ï¸\"},\r\n          {id: 3, name: \"Dr. Anjali Singh\", specialization: \"Psychiatry\", price: 999, rating: 4.8, experience: \"12 years\", avatar: \"ðŸ‘©â€âš•ï¸\"},\r\n          {id: 4, name: \"Neha Gupta\", specialization: \"Art Therapy\", price: 499, rating: 4.6, experience: \"4 years\", avatar: \"ðŸŽ¨\"}\r\n        ];\r\n        setTherapists(sampleTherapists);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error loading therapists:\", error);\r\n    }\r\n  };\r\n\r\n  const loadResources = async () => {\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/resources');\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setResources(data.resources);\r\n      } else {\r\n        // Fallback to sample data\r\n        const sampleResources = [\r\n          {type: \"crisis\", name: \"National Suicide Prevention Lifeline\", number: \"1-800-273-8255\", available: \"24/7\"},\r\n          {type: \"crisis\", name: \"Crisis Text Line\", number: \"Text HOME to 741741\", available: \"24/7\"},\r\n          {type: \"support\", name: \"Mental Health America\", website: \"mhanational.org\", description: \"Resources and screening tools\"},\r\n          {type: \"support\", name: \"iCall Psychosocial Helpline\", number: \"+91-9152987821\", available: \"Mon-Sat, 10AM-8PM\", description: \"Free mental health support for India\"}\r\n        ];\r\n        setResources(sampleResources);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error loading resources:\", error);\r\n    }\r\n  };\r\n\r\n  const loadMoodTribes = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('http://localhost:5000/api/moodtribes', {\r\n        headers: token ? {'Authorization': `Bearer ${token}`} : {}\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setMoodTribes(data.tribes);\r\n        \r\n        // Update user tribes\r\n        const userTribeIds = data.tribes.filter(t => t.isMember).map(t => t.id);\r\n        setUserTribes(userTribeIds);\r\n        localStorage.setItem('userTribes', JSON.stringify(userTribeIds));\r\n      } else {\r\n        // Fallback to sample data\r\n        const sampleMoodTribes = [\r\n          {id: 1, name: \"Positivity Tribe\", description: \"For those seeking positivity and joy\", member_count: 245, isMember: false},\r\n          {id: 2, name: \"Calm Collective\", description: \"Find your inner peace together\", member_count: 189, isMember: false},\r\n          {id: 3, name: \"Anxiety Allies\", description: \"Support for those dealing with anxiety\", member_count: 312, isMember: false},\r\n          {id: 4, name: \"Mindfulness Masters\", description: \"Practice mindfulness together\", member_count: 156, isMember: false},\r\n          {id: 5, name: \"Breakup Recovery\", description: \"Healing after relationship endings\", member_count: 128, isMember: false},\r\n          {id: 6, name: \"Career Stress\", description: \"Managing work-related stress\", member_count: 201, isMember: false},\r\n          {id: 7, name: \"Student Support\", description: \"Academic pressure and study stress\", member_count: 178, isMember: false}\r\n        ];\r\n        setMoodTribes(sampleMoodTribes);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error loading mood tribes:\", error);\r\n    }\r\n  };\r\n\r\n  const loadShopItems = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('http://localhost:5000/api/shop', {\r\n        headers: token ? {'Authorization': `Bearer ${token}`} : {}\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setShopItems(data.items);\r\n      } else {\r\n        // Fallback to sample data\r\n        const sampleShopItems = [\r\n          {id: 1, name: \"Sunset Theme\", description: \"Warm orange and purple theme\", price: 50, category: \"theme\"},\r\n          {id: 2, name: \"Ocean Theme\", description: \"Calming blue theme\", price: 50, category: \"theme\"},\r\n          {id: 3, name: \"Forest Theme\", description: \"Green nature-inspired theme\", price: 50, category: \"theme\"},\r\n          {id: 4, name: \"Neon Theme\", description: \"Vibrant neon colors\", price: 75, category: \"theme\"},\r\n          {id: 5, name: \"Glass Theme\", description: \"Modern glassmorphism design\", price: 100, category: \"theme\"},\r\n          {id: 6, name: \"Exclusive Avatar\", description: \"Special avatar frame\", price: 100, category: \"cosmetic\"},\r\n          {id: 7, name: \"Meditation Pack\", description: \"Exclusive meditation guides\", price: 75, category: \"content\"},\r\n          {id: 8, name: \"Second Chance Token\", description: \"Save your streak if you miss a day\", price: 30, category: \"utility\"},\r\n          {id: 9, name: \"Custom Voice\", description: \"Personalized AI voice\", price: 150, category: \"feature\"}\r\n        ];\r\n        setShopItems(sampleShopItems);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error loading shop items:\", error);\r\n    }\r\n  };\r\n\r\n  const loadAchievements = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      if (!token) return;\r\n      \r\n      const response = await fetch('http://localhost:5000/api/profile', {\r\n        headers: {'Authorization': `Bearer ${token}`}\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setAchievements(data.achievements || []);\r\n        localStorage.setItem('achievements', JSON.stringify(data.achievements || []));\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error loading achievements:\", error);\r\n    }\r\n  };\r\n\r\n  const loadJournalEntries = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('http://localhost:5000/api/journal', {\r\n        headers: {'Authorization': `Bearer ${token}`}\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setJournalEntries(data.entries);\r\n      } else {\r\n        // Fallback to sample data\r\n        const sampleEntries = [\r\n          {id: 1, text: \"Today was a good day. I felt productive and happy.\", summary: \"Positive day with productivity\", mood: \"happy\", date: new Date().toISOString().split('T')[0], shared: false},\r\n          {id: 2, text: \"Feeling a bit anxious about the upcoming presentation. Need to practice more.\", summary: \"Anxious about presentation\", mood: \"anxious\", date: \"2023-10-24\", shared: true},\r\n          {id: 3, text: \"Had a great conversation with my friend. It felt good to open up.\", summary: \"Positive social interaction\", mood: \"happy\", date: \"2023-10-23\", shared: false}\r\n        ];\r\n        setJournalEntries(sampleEntries);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error loading journal entries:\", error);\r\n    }\r\n  };\r\n\r\n  const loadMoodWall = async () => {\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/moodwall');\r\n      \r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setMoodWall(data.posts);\r\n      } else {\r\n        // Fallback to sample data\r\n        const samplePosts = [\r\n          {id: 1, text: \"Today I finally managed to meditate for 10 minutes straight! Feeling proud of myself.\", mood: \"happy\", likes: 12, timestamp: new Date(Date.now() - 2*60*60*1000).toISOString(), anonymous: true, userName: \"Anonymous\"},\r\n          {id: 2, text: \"Struggling with anxiety today. Anyone else feeling this way?\", mood: \"anxious\", likes: 8, timestamp: new Date(Date.now() - 5*60*60*1000).toISOString(), anonymous: true, userName: \"Anonymous\"},\r\n          {id: 3, text: \"Grateful for this community. Reading your stories gives me hope.\", mood: \"grateful\", likes: 25, timestamp: new Date(Date.now() - 8*60*60*1000).toISOString(), anonymous: false, userName: \"HappyUser123\"}\r\n        ];\r\n        setMoodWall(samplePosts);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error loading mood wall:\", error);\r\n    }\r\n  };\r\n\r\n  const updateStreakAndCoins = (userObj) => {\r\n    const lastLogin = localStorage.getItem('lastLogin');\r\n    const today = new Date().toDateString();\r\n    \r\n    if (lastLogin !== today) {\r\n      // Check if user has a second chance token\r\n      const hasSecondChance = localStorage.getItem('secondChanceToken') === 'true';\r\n      \r\n      if (hasSecondChance) {\r\n        // Use second chance token\r\n        localStorage.removeItem('secondChanceToken');\r\n        alert(\"You used a Second Chance Token to keep your streak! ðŸ”¥\");\r\n      } else {\r\n        // Update streak based on consecutive login\r\n        const yesterday = new Date();\r\n        yesterday.setDate(yesterday.getDate() - 1);\r\n        \r\n        if (lastLogin === yesterday.toDateString()) {\r\n          // Consecutive login - increase streak\r\n          const newStreak = (userObj.streak || 0) + 1;\r\n          const updatedUser = {...userObj, streak: newStreak};\r\n          setUser(updatedUser);\r\n          localStorage.setItem('user', JSON.stringify(updatedUser));\r\n          \r\n          // Award coins based on streak length\r\n          const coinsEarned = Math.min(5 + Math.floor(newStreak / 7), 20);\r\n          const newCoins = (userObj.coins || 0) + coinsEarned;\r\n          const updatedUserWithCoins = {...updatedUser, coins: newCoins};\r\n          setUser(updatedUserWithCoins);\r\n          localStorage.setItem('user', JSON.stringify(updatedUserWithCoins));\r\n          \r\n          // Check for achievement unlocks\r\n          checkAchievements(newStreak);\r\n        } else if (lastLogin && lastLogin !== today) {\r\n          // Broken streak\r\n          alert(`You broke your ${userObj.streak || 0}-day streak. Start a new one today!`);\r\n          const updatedUser = {...userObj, streak: 1};\r\n          setUser(updatedUser);\r\n          localStorage.setItem('user', JSON.stringify(updatedUser));\r\n        }\r\n      }\r\n    }\r\n    \r\n    localStorage.setItem('lastLogin', today);\r\n  };\r\n\r\n  const checkAchievements = (streak) => {\r\n    const newAchievements = [...achievements];\r\n    let updated = false;\r\n    \r\n    // Check streak-based achievements\r\n    const achievement7 = newAchievements.find(a => a.name === \"7-Day Warrior\");\r\n    const achievement30 = newAchievements.find(a => a.name === \"30-Day Calm Seeker\");\r\n    const achievement365 = newAchievements.find(a => a.name === \"365-Day Legend\");\r\n    \r\n    if (streak >= 7 && achievement7 && !achievement7.earned) {\r\n      achievement7.earned = true;\r\n      updated = true;\r\n      alert(\"ðŸŽ‰ Achievement Unlocked: 7-Day Warrior!\");\r\n    }\r\n    \r\n    if (streak >= 30 && achievement30 && !achievement30.earned) {\r\n      achievement30.earned = true;\r\n      updated = true;\r\n      alert(\"ðŸŽ‰ Achievement Unlocked: 30-Day Calm Seeker!\");\r\n    }\r\n    \r\n    if (streak >= 365 && achievement365 && !achievement365.earned) {\r\n      achievement365.earned = true;\r\n      updated = true;\r\n      alert(\"ðŸŽ‰ Achievement Unlocked: 365-Day Legend!\");\r\n    }\r\n    \r\n    if (updated) {\r\n      setAchievements(newAchievements);\r\n      localStorage.setItem('achievements', JSON.stringify(newAchievements));\r\n    }\r\n  };\r\n\r\n  // Simulate typing animation\r\n  const simulateTyping = async () => {\r\n    const typingPhrases = [\"Thinking\", \"Thinking.\", \"Thinking..\", \"Thinking...\"];\r\n    for (let i = 0; i < 6; i++) {\r\n      setTypingIndicator(typingPhrases[i % 4]);\r\n      await new Promise(resolve => setTimeout(resolve, 300));\r\n    }\r\n    setTypingIndicator(\"\");\r\n  };\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    setLoginError(\"\");\r\n    const formData = new FormData(e.target);\r\n    const credentials = {\r\n      email: formData.get('email'),\r\n      password: formData.get('password')\r\n    };\r\n\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/login', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(credentials)\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        localStorage.setItem('token', data.token);\r\n        localStorage.setItem('user', JSON.stringify(data.user));\r\n        localStorage.setItem('lastLogin', new Date().toDateString());\r\n        setUser(data.user);\r\n        setIsLoggedIn(true);\r\n        setShowLogin(false);\r\n        loadInitialData();\r\n      } else {\r\n        setLoginError(data.error || \"Login failed\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Login error:\", error);\r\n      setLoginError(\"Network error. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const handleRegister = async (e) => {\r\n    e.preventDefault();\r\n    setRegisterError(\"\");\r\n    const formData = new FormData(e.target);\r\n    const userData = {\r\n      email: formData.get('email'),\r\n      password: formData.get('password'),\r\n      name: formData.get('name'),\r\n      confirmPassword: formData.get('confirmPassword')\r\n    };\r\n\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/register', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(userData)\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        localStorage.setItem('token', data.token);\r\n        localStorage.setItem('user', JSON.stringify(data.user));\r\n        localStorage.setItem('lastLogin', new Date().toDateString());\r\n        setUser(data.user);\r\n        setIsLoggedIn(true);\r\n        setShowRegister(false);\r\n        setShowLogin(false);\r\n        loadInitialData();\r\n      } else {\r\n        setRegisterError(data.error || \"Registration failed\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Registration error:\", error);\r\n      setRegisterError(\"Network error. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const handleForgotPassword = async (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData(e.target);\r\n    const email = formData.get('email');\r\n    \r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/forgot-password', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ email })\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        alert(data.message);\r\n        setShowForgotPassword(false);\r\n        setShowLogin(true);\r\n      } else {\r\n        alert(data.error || \"Failed to send reset instructions\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Forgot password error:\", error);\r\n      alert(\"Network error. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('user');\r\n    localStorage.removeItem('lastLogin');\r\n    setUser(null);\r\n    setIsLoggedIn(false);\r\n    setShowLogin(true);\r\n    setMessages([]);\r\n    setSidebarOpen(false);\r\n  };\r\n\r\n  const startNewChat = () => {\r\n    setMessages([{\r\n      text: \"Hello! I'm MoodMate, your mental health companion. How are you feeling today?\",\r\n      sender: \"bot\"\r\n    }]);\r\n    setShowNewChatModal(false);\r\n  };\r\n\r\n  const sendMessage = async () => {\r\n    if (!input.trim() || !isLoggedIn) return;\r\n\r\n    const userMsg = { text: input, sender: \"user\" };\r\n    setMessages(prev => [...prev, userMsg]);\r\n    setInput(\"\");\r\n    setIsTyping(true);\r\n    \r\n    // Check for emergency keywords\r\n    const emergencyKeywords = ['suicide', 'kill myself', 'end it all', 'want to die', 'self harm', 'hurt myself'];\r\n    const hasEmergency = emergencyKeywords.some(keyword => \r\n      input.toLowerCase().includes(keyword)\r\n    );\r\n    \r\n    if (hasEmergency) {\r\n      setShowEmergencyModal(true);\r\n      setIsTyping(false);\r\n      return;\r\n    }\r\n    \r\n    // Simulate typing animation\r\n    simulateTyping();\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('http://localhost:5000/api/chat', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ message: input })\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        const botMsg = { \r\n          text: data.reply, \r\n          sender: \"bot\",\r\n          mood: data.mood,\r\n          moodEmoji: data.moodEmoji,\r\n          phrase: data.phrase\r\n        };\r\n        setMessages(prev => [...prev, botMsg]);\r\n\r\n        // Update user data if coins were earned\r\n        if (data.coinsEarned > 0) {\r\n          const updatedUser = {...user, coins: data.coins, streak: data.streak};\r\n          setUser(updatedUser);\r\n          localStorage.setItem('user', JSON.stringify(updatedUser));\r\n        }\r\n\r\n        // Play audio if available and enabled\r\n        if (data.audioUrl && audioEnabled) {\r\n          const audio = new Audio(`http://localhost:5000${data.audioUrl}`);\r\n          audio.play().catch(e => console.log(\"Audio play failed:\", e));\r\n        }\r\n      } else {\r\n        // Fallback response\r\n        const botMsg = { \r\n          text: \"I'm having trouble connecting right now. Please check your internet connection.\", \r\n          sender: \"bot\" \r\n        };\r\n        setMessages(prev => [...prev, botMsg]);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Chat error:\", error);\r\n      const botMsg = { \r\n        text: \"I'm having trouble connecting right now. Please check your internet connection.\", \r\n        sender: \"bot\" \r\n      };\r\n      setMessages(prev => [...prev, botMsg]);\r\n    }\r\n\r\n    setIsTyping(false);\r\n    setTypingIndicator(\"\");\r\n  };\r\n\r\n  const addJournalEntry = async () => {\r\n    const entryText = prompt(\"What's on your mind today?\");\r\n    if (!entryText) return;\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('http://localhost:5000/api/journal', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ text: entryText })\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        setJournalEntries(prev => [data.entry, ...prev]);\r\n        const newCoins = user.coins + data.coinsEarned;\r\n        const updatedUser = {...user, coins: newCoins};\r\n        setUser(updatedUser);\r\n        localStorage.setItem('user', JSON.stringify(updatedUser));\r\n        \r\n        alert(\"Journal entry saved! +3 coins earned!\");\r\n      } else {\r\n        alert(\"Failed to save journal entry. Please try again.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Journal error:\", error);\r\n      alert(\"Failed to save journal entry. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const shareJournalEntry = async (entryId) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`http://localhost:5000/api/journal/${entryId}/share`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        const updatedEntries = journalEntries.map(e => \r\n          e.id === entryId ? {...e, shared: true} : e\r\n        );\r\n        setJournalEntries(updatedEntries);\r\n        alert(data.message);\r\n      } else {\r\n        alert(\"Failed to share journal entry. Please try again.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Share journal error:\", error);\r\n      alert(\"Failed to share journal entry. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const addMoodWallPost = async () => {\r\n    const postText = prompt(\"Share your feelings with the community (anonymous):\");\r\n    if (!postText) return;\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('http://localhost:5000/api/moodwall', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ text: postText, anonymous: true })\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        const newPost = {\r\n          id: data.post_id,\r\n          text: postText,\r\n          mood: \"neutral\",\r\n          likes: 0,\r\n          timestamp: new Date().toISOString(),\r\n          anonymous: true\r\n        };\r\n        setMoodWall(prev => [newPost, ...prev]);\r\n        alert(\"Posted to mood wall!\");\r\n      } else {\r\n        alert(\"Failed to post to mood wall. Please try again.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Mood wall error:\", error);\r\n      alert(\"Failed to post to mood wall. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const joinTribe = async (tribeId) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`http://localhost:5000/api/moodtribes/${tribeId}/join`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        const tribe = moodTribes.find(t => t.id === tribeId);\r\n        if (tribe) {\r\n          const updatedTribes = moodTribes.map(t => \r\n            t.id === tribeId ? {...t, isMember: true, member_count: t.member_count + 1} : t\r\n          );\r\n          setMoodTribes(updatedTribes);\r\n          setUserTribes(prev => [...prev, tribe]);\r\n          localStorage.setItem('userTribes', JSON.stringify([...userTribes, tribe]));\r\n          \r\n          alert(`ðŸŽ‰ You've joined the ${tribe.name}!`);\r\n        }\r\n      } else {\r\n        alert(data.error || \"Failed to join tribe. Please try again.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Join tribe error:\", error);\r\n      alert(\"Failed to join tribe. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const playBreathingExercise = () => {\r\n    setMessages(prev => [...prev, {\r\n      text: \"Let's do a quick breathing exercise. Breathe in for 4 seconds, hold for 4 seconds, exhale for 6 seconds. Repeat 5 times. I'll guide you through it...\",\r\n      sender: \"bot\",\r\n      isExercise: true\r\n    }]);\r\n  };\r\n\r\n  const buyItem = async (item) => {\r\n    if (user.coins < item.price) {\r\n      alert(\"Not enough coins!\");\r\n      return;\r\n    }\r\n    \r\n    if (window.confirm(`Buy ${item.name} for ${item.price} coins?`)) {\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        const response = await fetch(`http://localhost:5000/api/shop/${item.id}/purchase`, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`\r\n          }\r\n        });\r\n\r\n        const data = await response.json();\r\n\r\n        if (response.ok) {\r\n          const newCoins = user.coins - item.price;\r\n          const updatedUser = {...user, coins: newCoins};\r\n          setUser(updatedUser);\r\n          localStorage.setItem('user', JSON.stringify(updatedUser));\r\n          \r\n          if (item.category === \"theme\") {\r\n            setCurrentTheme(item.name.toLowerCase().replace(' theme', ''));\r\n            localStorage.setItem('theme', item.name.toLowerCase().replace(' theme', ''));\r\n            alert(`Theme applied! You're now using the ${item.name}.`);\r\n          } else if (item.name === \"Second Chance Token\") {\r\n            localStorage.setItem('secondChanceToken', 'true');\r\n            alert(\"Second Chance Token purchased! This will save your streak if you miss a day.\");\r\n          } else {\r\n            alert(`Purchased ${item.name}!`);\r\n          }\r\n        } else {\r\n          alert(data.error || \"Failed to purchase item. Please try again.\");\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Purchase error:\", error);\r\n        alert(\"Failed to purchase item. Please try again.\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const applyTheme = (themeName) => {\r\n    setCurrentTheme(themeName);\r\n    localStorage.setItem('theme', themeName);\r\n  };\r\n\r\n  const toggleAudio = async () => {\r\n    const newAudioEnabled = !audioEnabled;\r\n    setAudioEnabled(newAudioEnabled);\r\n    localStorage.setItem('audioEnabled', newAudioEnabled);\r\n    \r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      await fetch('http://localhost:5000/api/audio/enable', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ enable_voice: newAudioEnabled })\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error updating audio settings:\", error);\r\n    }\r\n  };\r\n\r\n  const toggleMusic = async () => {\r\n    const newMusicEnabled = !musicEnabled;\r\n    setMusicEnabled(newMusicEnabled);\r\n    localStorage.setItem('musicEnabled', newMusicEnabled);\r\n    \r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      await fetch('http://localhost:5000/api/audio/enable', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ enable_music: newMusicEnabled })\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error updating music settings:\", error);\r\n    }\r\n  };\r\n\r\n  const switchAiProvider = async (provider) => {\r\n    setAiProvider(provider);\r\n    localStorage.setItem('aiProvider', provider);\r\n    \r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      await fetch('http://localhost:5000/api/ai/switch', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ provider })\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error switching AI provider:\", error);\r\n    }\r\n  };\r\n\r\n  const handleCrisisSafe = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      await fetch('http://localhost:5000/api/crisis/safe', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      setShowEmergencyModal(false);\r\n    } catch (error) {\r\n      console.error(\"Error handling crisis:\", error);\r\n    }\r\n  };\r\n\r\n  const handleCrisisHelp = async (type) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('http://localhost:5000/api/crisis/help', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ type })\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      if (response.ok) {\r\n        if (type === 'call') {\r\n          window.open(`tel:${data.emergency_number}`);\r\n        }\r\n        alert(data.message);\r\n      } else {\r\n        alert(\"Failed to get help. Please try again.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error getting crisis help:\", error);\r\n    }\r\n  };\r\n\r\n  const EmergencyModal = () => {\r\n    if (!showEmergencyModal) return null;\r\n    \r\n    return (\r\n      <div className=\"emergency-modal\">\r\n        <div className=\"emergency-content\">\r\n          <h2>âš ï¸ We're concerned about you</h2>\r\n          <p>Please choose an option below. Your safety matters ðŸ’™</p>\r\n          \r\n          <div className=\"emergency-buttons\">\r\n            <button \r\n              className=\"emergency-call\" \r\n              onClick={() => handleCrisisHelp('call')}\r\n            >\r\n              Call for Help ðŸ”´\r\n            </button>\r\n            \r\n            <button \r\n              className=\"emergency-resources\" \r\n              onClick={() => handleCrisisHelp('resources')}\r\n            >\r\n              Show Resources ðŸ“‹\r\n            </button>\r\n            \r\n            <button \r\n              className=\"emergency-ok\" \r\n              onClick={handleCrisisSafe}\r\n            >\r\n              I'm Fine Now âœ…\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const NewChatModal = () => {\r\n    if (!showNewChatModal) return null;\r\n    \r\n    return (\r\n      <div className=\"modal-overlay\">\r\n        <div className=\"modal-content\">\r\n          <h2>Start New Chat</h2>\r\n          <p>Are you sure you want to start a new chat? Your current conversation will be cleared.</p>\r\n          <div className=\"modal-buttons\">\r\n            <button onClick={startNewChat} className=\"btn-primary\">Yes, Start New Chat</button>\r\n            <button onClick={() => setShowNewChatModal(false)} className=\"btn-secondary\">Cancel</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const TribeCommunity = () => {\r\n    if (!activeTribe) return null;\r\n    \r\n    return (\r\n      <div className=\"tribe-community\">\r\n        <div className=\"tribe-header\">\r\n          <button onClick={() => setActiveTab(\"community\")} className=\"back-btn\">\r\n            â† Back to Communities\r\n          </button>\r\n          <h2>{activeTribe.name} Community</h2>\r\n          <p>{activeTribe.description}</p>\r\n          <div className=\"tribe-stats\">\r\n            <span>ðŸ‘¥ {activeTribe.member_count} members</span>\r\n            <span>ðŸ’¬ 24 active now</span>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"tribe-content\">\r\n          <div className=\"tribe-chat\">\r\n            <h3>Community Chat</h3>\r\n            <div className=\"tribe-messages\">\r\n              <div className=\"tribe-message\">\r\n                <div className=\"message-avatar\">A</div>\r\n                <div className=\"message-content\">\r\n                  <span className=\"message-sender\">Anonymous User</span>\r\n                  <p>Hello everyone! How are you all feeling today?</p>\r\n                  <span className=\"message-time\">2 hours ago</span>\r\n                </div>\r\n              </div>\r\n              <div className=\"tribe-message\">\r\n                <div className=\"message-avatar\">B</div>\r\n                <div className=\"message-content\">\r\n                  <span className=\"message-sender\">Anonymous User</span>\r\n                  <p>I've been practicing mindfulness and it's really helping with my anxiety ðŸ˜Š</p>\r\n                  <span className=\"message-time\">1 hour ago</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"tribe-input\">\r\n              <input type=\"text\" placeholder=\"Share something with the community...\" />\r\n              <button>Send</button>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"tribe-resources\">\r\n            <h3>Community Resources</h3>\r\n            <div className=\"resource-list\">\r\n              <div className=\"resource-item\">\r\n                <h4>Mindfulness Exercises</h4>\r\n                <p>Guided meditation for beginners</p>\r\n                <button>View</button>\r\n              </div>\r\n              <div className=\"resource-item\">\r\n                <h4>Support Threads</h4>\r\n                <p>Connect with others who understand</p>\r\n                <button>Explore</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const Sidebar = () => {\r\n    if (!sidebarOpen) return null;\r\n    \r\n    return (\r\n      <div className=\"sidebar-overlay\" onClick={() => setSidebarOpen(false)}>\r\n        <div className=\"sidebar\" onClick={(e) => e.stopPropagation()}>\r\n          <div className=\"sidebar-header\">\r\n            <h2>MoodMate</h2>\r\n            <button onClick={() => setSidebarOpen(false)} className=\"close-btn\">Ã—</button>\r\n          </div>\r\n          \r\n          <div className=\"sidebar-content\">\r\n            <div className=\"sidebar-section\">\r\n              <h3>Navigation</h3>\r\n              <button \r\n                onClick={() => { setActiveTab(\"chat\"); setSidebarOpen(false); }} \r\n                className={`sidebar-btn ${activeTab === \"chat\" ? \"active\" : \"\"}`}\r\n              >\r\n                ðŸ’¬ Chat\r\n              </button>\r\n              <button \r\n                onClick={() => { setActiveTab(\"journal\"); setSidebarOpen(false); loadJournalEntries(); }} \r\n                className={`sidebar-btn ${activeTab === \"journal\" ? \"active\" : \"\"}`}\r\n              >\r\n                ðŸ““ Journal\r\n              </button>\r\n              <button \r\n                onClick={() => { setActiveTab(\"therapy\"); setSidebarOpen(false); }} \r\n                className={`sidebar-btn ${activeTab === \"therapy\" ? \"active\" : \"\"}`}\r\n              >\r\n                ðŸ‘¨â€âš•ï¸ Therapy\r\n              </button>\r\n              <button \r\n                onClick={() => { setActiveTab(\"community\"); setSidebarOpen(false); }} \r\n                className={`sidebar-btn ${activeTab === \"community\" ? \"active\" : \"\"}`}\r\n              >\r\n                ðŸŒ Community\r\n              </button>\r\n              <button \r\n                onClick={() => { setActiveTab(\"profile\"); setSidebarOpen(false); }} \r\n                className={`sidebar-btn ${activeTab === \"profile\" ? \"active\" : \"\"}`}\r\n              >\r\n                ðŸ‘¤ Profile\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"sidebar-section\">\r\n              <h3>Quick Actions</h3>\r\n              <button onClick={() => { setShowNewChatModal(true); setSidebarOpen(false); }} className=\"sidebar-btn\">\r\n                New Chat\r\n              </button>\r\n              <button onClick={() => { playBreathingExercise(); setSidebarOpen(false); }} className=\"sidebar-btn\">\r\n                Breathing Exercise\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"sidebar-section\">\r\n              <h3>Settings</h3>\r\n              <div className=\"setting-item\">\r\n                <span>Voice Responses</span>\r\n                <label className=\"switch\">\r\n                  <input type=\"checkbox\" checked={audioEnabled} onChange={toggleAudio} />\r\n                  <span className=\"slider\"></span>\r\n                </label>\r\n              </div>\r\n              <div className=\"setting-item\">\r\n                <span>Background Music</span>\r\n                <label className=\"switch\">\r\n                  <input type=\"checkbox\" checked={musicEnabled} onChange={toggleMusic} />\r\n                  <span className=\"slider\"></span>\r\n                </label>\r\n              </div>\r\n              <div className=\"setting-item\">\r\n                <span>AI Provider</span>\r\n                <select value={aiProvider} onChange={(e) => switchAiProvider(e.target.value)}>\r\n                  <option value=\"gemini\">Gemini AI</option>\r\n                  <option value=\"fallback\">Fallback Mode</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"sidebar-section\">\r\n              <h3>Themes</h3>\r\n              <div className=\"theme-options\">\r\n                <div \r\n                  className={`theme-option ${currentTheme === 'default' ? 'active' : ''}`}\r\n                  onClick={() => applyTheme('default')}\r\n                >\r\n                  <div className=\"theme-preview default-theme\"></div>\r\n                  <span>Default</span>\r\n                </div>\r\n                <div \r\n                  className={`theme-option ${currentTheme === 'sunset' ? 'active' : ''}`}\r\n                  onClick={() => applyTheme('sunset')}\r\n                >\r\n                  <div className=\"theme-preview sunset-theme\"></div>\r\n                  <span>Sunset</span>\r\n                </div>\r\n                <div \r\n                  className={`theme-option ${currentTheme === 'ocean' ? 'active' : ''}`}\r\n                  onClick={() => applyTheme('ocean')}\r\n                >\r\n                  <div className=\"theme-preview ocean-theme\"></div>\r\n                  <span>Ocean</span>\r\n                </div>\r\n                <div \r\n                  className={`theme-option ${currentTheme === 'forest' ? 'active' : ''}`}\r\n                  onClick={() => applyTheme('forest')}\r\n                >\r\n                  <div className=\"theme-preview forest-theme\"></div>\r\n                  <span>Forest</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (!isLoggedIn) {\r\n    return (\r\n      <div className=\"app-container auth-container\">\r\n        <div className=\"auth-box\">\r\n          <h1>ðŸŒ™ MoodMate</h1>\r\n          <p>Your mental health companion</p>\r\n          \r\n          {showLogin && (\r\n            <form onSubmit={handleLogin} className=\"auth-form\">\r\n              <h2>Login</h2>\r\n              {loginError && <div className=\"error-message\">{loginError}</div>}\r\n              <input type=\"email\" name=\"email\" placeholder=\"Email\" required />\r\n              <input type=\"password\" name=\"password\" placeholder=\"Password\" required />\r\n              <button type=\"submit\">Login</button>\r\n              \r\n              <div className=\"auth-links\">\r\n                <span className=\"auth-link\" onClick={() => setShowRegister(true)}>\r\n                  Create Account\r\n                </span>\r\n                <span className=\"auth-link\" onClick={() => setShowForgotPassword(true)}>\r\n                  Forgot Password?\r\n                </span>\r\n              </div>\r\n            </form>\r\n          )}\r\n\r\n          {showRegister && (\r\n            <form onSubmit={handleRegister} className=\"auth-form\">\r\n              <h2>Register</h2>\r\n              {registerError && <div className=\"error-message\">{registerError}</div>}\r\n              <input type=\"text\" name=\"name\" placeholder=\"Full Name\" required />\r\n              <input type=\"email\" name=\"email\" placeholder=\"Email\" required />\r\n              <input type=\"password\" name=\"password\" placeholder=\"Password (min 8 chars)\" required />\r\n              <input type=\"password\" name=\"confirmPassword\" placeholder=\"Confirm Password\" required />\r\n              <button type=\"submit\">Register</button>\r\n              <p>\r\n                Already have an account?{\" \"}\r\n                <span className=\"auth-link\" onClick={() => setShowRegister(false)}>\r\n                  Login\r\n                </span>\r\n              </p>\r\n            </form>\r\n          )}\r\n\r\n          {showForgotPassword && (\r\n            <form onSubmit={handleForgotPassword} className=\"auth-form\">\r\n              <h2>Reset Password</h2>\r\n              <input type=\"email\" name=\"email\" placeholder=\"Your Email\" required />\r\n              <button type=\"submit\">Send Reset Instructions</button>\r\n              <p>\r\n                Remember your password?{\" \"}\r\n                <span className=\"auth-link\" onClick={() => setShowForgotPassword(false)}>\r\n                  Login\r\n                </span>\r\n              </p>\r\n            </form>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={`app-container ${currentTheme}-theme`}>\r\n      <EmergencyModal />\r\n      <NewChatModal />\r\n      <Sidebar />\r\n      \r\n      <header className=\"app-header\">\r\n        <div className=\"header-left\">\r\n          <button onClick={() => setSidebarOpen(true)} className=\"menu-btn\">â˜°</button>\r\n          <h1>ðŸŒ™ MoodMate</h1>\r\n          <div className=\"user-stats\">\r\n            <span className=\"streak-display\">ðŸ”¥ {user?.streak || 0} day streak</span>\r\n            <span>ðŸª™ {user?.coins || 0} coins</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"header-right\">\r\n          <span>Welcome, {user?.name}</span>\r\n          <button onClick={handleLogout} className=\"logout-btn\">Logout</button>\r\n        </div>\r\n      </header>\r\n\r\n      <nav className=\"app-nav\">\r\n        <button \r\n          className={activeTab === \"chat\" ? \"active\" : \"\"} \r\n          onClick={() => setActiveTab(\"chat\")}\r\n        >\r\n          ðŸ’¬ Chat\r\n        </button>\r\n        <button \r\n          className={activeTab === \"journal\" ? \"active\" : \"\"} \r\n          onClick={() => {\r\n            setActiveTab(\"journal\");\r\n            loadJournalEntries();\r\n          }}\r\n        >\r\n          ðŸ““ Journal\r\n        </button>\r\n        <button \r\n          className={activeTab === \"therapy\" ? \"active\" : \"\"} \r\n          onClick={() => setActiveTab(\"therapy\")}\r\n        >\r\n          ðŸ‘¨â€âš•ï¸ Therapy\r\n        </button>\r\n        <button \r\n          className={activeTab === \"community\" ? \"active\" : \"\"} \r\n          onClick={() => setActiveTab(\"community\")}\r\n        >\r\n          ðŸŒ Community\r\n        </button>\r\n        <button \r\n          className={activeTab === \"profile\" ? \"active\" : \"\"} \r\n          onClick={() => setActiveTab(\"profile\")}\r\n        >\r\n          ðŸ‘¤ Profile\r\n        </button>\r\n      </nav>\r\n\r\n      <main className=\"app-main\">\r\n        {activeTab === \"chat\" && (\r\n          <div className=\"chat-tab\">\r\n            <div className=\"chat-header\">\r\n              <h2>Chat with MoodMate</h2>\r\n              <button onClick={() => setShowNewChatModal(true)} className=\"new-chat-btn\">\r\n                + New Chat\r\n              </button>\r\n            </div>\r\n            <div className=\"chat-box\">\r\n              {messages.map((msg, i) => (\r\n                <div key={i} className={`chat-message ${msg.sender} ${msg.isReward ? 'reward' : ''} ${msg.isExercise ? 'exercise' : ''}`}>\r\n                  {msg.sender === \"bot\" && (\r\n                    <div className=\"avatar bot-avatar\">ðŸ¤–</div>\r\n                  )}\r\n                  {msg.sender === \"user\" && (\r\n                    <div className=\"avatar user-avatar\">ðŸ‘¤</div>\r\n                  )}\r\n                  <div className=\"bubble\">\r\n                    {msg.text}\r\n                    {msg.moodEmoji && (\r\n                      <div className=\"mood-indicator\">\r\n                        {msg.moodEmoji} {msg.phrase}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n\r\n              {isTyping && (\r\n                <div className=\"chat-message bot\">\r\n                  <div className=\"avatar bot-avatar\">ðŸ¤–</div>\r\n                  <div className=\"bubble typing\">\r\n                    {typingIndicator || \"...\"}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              <div ref={chatEndRef}></div>\r\n            </div>\r\n\r\n            <div className=\"input-area\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"How are you feeling today?\"\r\n                value={input}\r\n                onChange={(e) => setInput(e.target.value)}\r\n                onKeyDown={(e) => e.key === \"Enter\" && sendMessage()}\r\n              />\r\n              <button onClick={sendMessage} className=\"send-btn\">Send</button>\r\n              <button onClick={playBreathingExercise} className=\"exercise-btn\" title=\"Breathing Exercise\">ðŸ§˜â€â™‚ï¸</button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === \"journal\" && (\r\n          <div className=\"journal-tab\">\r\n            <div className=\"journal-header\">\r\n              <h2>Your Journal</h2>\r\n              <div className=\"journal-tabs\">\r\n                <button \r\n                  className={journalTab === \"personal\" ? \"active\" : \"\"}\r\n                  onClick={() => setJournalTab(\"personal\")}\r\n                >\r\n                  Personal Journal\r\n                </button>\r\n                <button \r\n                  className={journalTab === \"tribe\" ? \"active\" : \"\"}\r\n                  onClick={() => setJournalTab(\"tribe\")}\r\n                >\r\n                  Tribe Posts\r\n                </button>\r\n              </div>\r\n              <button onClick={addJournalEntry} className=\"add-entry-btn\">\r\n                + New Entry\r\n              </button>\r\n            </div>\r\n            \r\n            {journalTab === \"personal\" ? (\r\n              <div className=\"journal-entries\">\r\n                {journalEntries.length === 0 ? (\r\n                  <div className=\"empty-state\">\r\n                    <p>No journal entries yet. Write your first entry!</p>\r\n                    <button onClick={addJournalEntry}>Start Journaling</button>\r\n                  </div>\r\n                ) : (\r\n                  journalEntries.map((entry, index) => (\r\n                    <div key={`entry-${entry.id}-${index}`} className=\"journal-entry\">\r\n                      <div className=\"entry-header\">\r\n                        <div className=\"entry-date\">{entry.date}</div>\r\n                        {!entry.shared && userTribes.length > 0 && (\r\n                          <button \r\n                            onClick={() => shareJournalEntry(entry.id)}\r\n                            className=\"share-btn\"\r\n                            title=\"Share to your tribes\"\r\n                          >\r\n                            Share\r\n                          </button>\r\n                        )}\r\n                      </div>\r\n                      <div className=\"entry-text\">{entry.text}</div>\r\n                      {entry.summary && (\r\n                        <div className=\"entry-summary\">\r\n                          <strong>Summary:</strong> {entry.summary}\r\n                        </div>\r\n                      )}\r\n                      {entry.mood && (\r\n                        <div className=\"entry-mood\">\r\n                          <strong>Mood:</strong> {entry.mood}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  ))\r\n                )}\r\n              </div>\r\n            ) : (\r\n              <div className=\"tribe-posts\">\r\n                {moodWall.length === 0 ? (\r\n                  <div className=\"empty-state\">\r\n                    <p>No posts in your tribes yet. Share something or join more tribes!</p>\r\n                  </div>\r\n                ) : (\r\n                  moodWall.map((post, index) => (\r\n                    <div key={`post-${post.id}-${index}`} className=\"tribe-post\">\r\n                      <p>{post.text}</p>\r\n                      <div className=\"post-footer\">\r\n                        <div className=\"post-reactions\">\r\n                          <button>ðŸ’–</button>\r\n                          <button>ðŸ¤—</button>\r\n                          <button>ðŸ‘</button>\r\n                        </div>\r\n                        <span className=\"post-time\">{new Date(post.timestamp).toLocaleDateString()}</span>\r\n                      </div>\r\n                    </div>\r\n                  ))\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === \"therapy\" && (\r\n          <div className=\"therapy-tab\">\r\n            <div className=\"resources-section\">\r\n              <h3>ðŸ†˜ Crisis Resources</h3>\r\n              <div className=\"resources-grid\">\r\n                {resources.filter(r => r.type === 'crisis').map((resource, index) => (\r\n                  <div key={index} className=\"resource-card\">\r\n                    <h4>{resource.name}</h4>\r\n                    <p>{resource.number}</p>\r\n                    <small>{resource.available}</small>\r\n                    {resource.number && (\r\n                      <button \r\n                        className=\"call-btn\"\r\n                        onClick={() => window.open(`tel:${resource.number.replace(/\\D/g, '')}`)}\r\n                      >\r\n                        ðŸ“ž Call Now\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"therapists-section\">\r\n              <h3>ðŸ‘¨â€âš•ï¸ Professional Therapists</h3>\r\n              <div className=\"therapists-grid\">\r\n                {therapists.map((therapist) => (\r\n                  <div key={therapist.id} className=\"therapist-card\">\r\n                    <div className=\"therapist-avatar\">{therapist.avatar}</div>\r\n                    <h4>{therapist.name}</h4>\r\n                    <p>{therapist.specialization}</p>\r\n                    <p>â­ {therapist.rating} â€¢ {therapist.experience}</p>\r\n                    <p>ðŸª™ {therapist.price} coins/session</p>\r\n                    <button \r\n                      className=\"book-btn\"\r\n                      disabled={user?.coins < therapist.price}\r\n                    >\r\n                      {user?.coins >= therapist.price ? \"Book Session\" : \"Not Enough Coins\"}\r\n                    </button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === \"community\" && (\r\n          <div className=\"community-tab\">\r\n            <div className=\"mood-wall-section\">\r\n              <h3>ðŸŒ Community Mood Wall</h3>\r\n              <button onClick={addMoodWallPost} className=\"add-post-btn\">+ Share Your Feelings</button>\r\n              <div className=\"mood-wall\">\r\n                {moodWall.length === 0 ? (\r\n                  <div className=\"empty-state\">\r\n                    <p>Be the first to share your thoughts with the community!</p>\r\n                  </div>\r\n                ) : (\r\n                  moodWall.map((post, index) => (\r\n                    <div key={`post-${post.id}-${index}`} className=\"mood-post\">\r\n                      <p>{post.text}</p>\r\n                      <div className=\"post-footer\">\r\n                        <div className=\"post-reactions\">\r\n                          <button>ðŸ’–</button>\r\n                          <button>ðŸ¤—</button>\r\n                          <button>ðŸ‘</button>\r\n                        </div>\r\n                        <span className=\"post-time\">{new Date(post.timestamp).toLocaleDateString()}</span>\r\n                      </div>\r\n                    </div>\r\n                  ))\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"tribes-section\">\r\n              <h3>ðŸŽ¯ Mood Tribes</h3>\r\n              <div className=\"tribes-grid\">\r\n                {moodTribes.map((tribe) => (\r\n                  <div key={tribe.id} className=\"tribe-card\">\r\n                    <h4>{tribe.name}</h4>\r\n                    <p>{tribe.description}</p>\r\n                    <p className=\"member-count\">ðŸ‘¥ {tribe.member_count} members</p>\r\n                    <button \r\n                      onClick={() => joinTribe(tribe.id)}\r\n                      className={tribe.isMember ? \"joined-btn\" : \"join-btn\"}\r\n                    >\r\n                      {tribe.isMember ? \"Visit Community\" : \"Join Tribe\"}\r\n                    </button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === \"tribeCommunity\" && (\r\n          <TribeCommunity />\r\n        )}\r\n\r\n        {activeTab === \"profile\" && (\r\n          <div className=\"profile-tab\">\r\n            <div className=\"profile-header\">\r\n              <div className=\"profile-avatar\">\r\n                <div className=\"avatar-placeholder\">\r\n                  {user?.name?.charAt(0) || 'U'}\r\n                </div>\r\n                <div className=\"profile-badge\">\r\n                  <span>ðŸ”¥</span>\r\n                </div>\r\n              </div>\r\n              <div className=\"profile-info\">\r\n                <h2>{user?.name}</h2>\r\n                <p>Member since {new Date().toLocaleDateString()}</p>\r\n                \r\n                <div className=\"profile-stats\">\r\n                  <div className=\"stat\">\r\n                    <span className=\"stat-value\">{user?.streak || 0}</span>\r\n                    <span className=\"stat-label\">Day Streak</span>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <span className=\"stat-value\">{user?.coins || 0}</span>\r\n                    <span className=\"stat-label\">Mood Coins</span>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <span className=\"stat-value\">{userTribes.length}</span>\r\n                    <span className=\"stat-label\">Tribes Joined</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"profile-section\">\r\n              <h3>ðŸ”¥ Streak Progress</h3>\r\n              <div className=\"streak-progress\">\r\n                <div className=\"streak-days\">\r\n                  {[7, 30, 90, 180, 365].map(day => (\r\n                    <div key={day} className={`streak-milestone ${user?.streak >= day ? 'achieved' : ''}`}>\r\n                      <span className=\"milestone-day\">{day}</span>\r\n                      <span className=\"milestone-label\">{day} Days</span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                <div className=\"streak-bar\">\r\n                  <div \r\n                    className=\"streak-progress-bar\" \r\n                    style={{width: `${Math.min(100, (user?.streak / 365) * 100)}%`}}\r\n                  ></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"profile-section\">\r\n              <h3>ðŸ… Achievements & Badges</h3>\r\n              <div className=\"achievements-grid\">\r\n                {achievements.map(achievement => (\r\n                  <div key={achievement.id} className={`achievement ${achievement.earned ? 'earned' : 'locked'}`}>\r\n                    <span className=\"achievement-icon\">{achievement.icon}</span>\r\n                    <div className=\"achievement-info\">\r\n                      <h4>{achievement.name}</h4>\r\n                      <p>{achievement.description}</p>\r\n                    </div>\r\n                    <span className=\"achievement-status\">\r\n                      {achievement.earned ? 'âœ“' : 'ðŸ”’'}\r\n                    </span>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"profile-section\">\r\n              <h3>ðŸ›’ Shop Items</h3>\r\n              <div className=\"shop-items-grid\">\r\n                {shopItems.map(item => (\r\n                  <div key={item.id} className=\"shop-item\">\r\n                    <h4>{item.name}</h4>\r\n                    <p>{item.description}</p>\r\n                    <div className=\"item-price\">ðŸª™ {item.price} coins</div>\r\n                    <button \r\n                      onClick={() => buyItem(item)}\r\n                      disabled={user?.coins < item.price}\r\n                      className={user?.coins >= item.price ? \"buy-btn\" : \"disabled-btn\"}\r\n                    >\r\n                      {user?.coins >= item.price ? \"Buy Now\" : \"Not Enough Coins\"}\r\n                    </button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"profile-section\">\r\n              <h3>ðŸŽ¨ Themes & Customization</h3>\r\n              <div className=\"themes-grid\">\r\n                <div \r\n                  className={`theme-option ${currentTheme === 'default' ? 'active' : ''}`}\r\n                  onClick={() => applyTheme('default')}\r\n                >\r\n                  <div className=\"theme-preview default-theme\"></div>\r\n                  <span>Default Theme</span>\r\n                </div>\r\n                <div \r\n                  className={`theme-option ${currentTheme === 'sunset' ? 'active' : ''}`}\r\n                  onClick={() => applyTheme('sunset')}\r\n                >\r\n                  <div className=\"theme-preview sunset-theme\"></div>\r\n                  <span>Sunset Theme</span>\r\n                </div>\r\n                <div \r\n                  className={`theme-option ${currentTheme === 'ocean' ? 'active' : ''}`}\r\n                  onClick={() => applyTheme('ocean')}\r\n                >\r\n                  <div className=\"theme-preview ocean-theme\"></div>\r\n                  <span>Ocean Theme</span>\r\n                </div>\r\n                <div \r\n                  className={`theme-option ${currentTheme === 'forest' ? 'active' : ''}`}\r\n                  onClick={() => applyTheme('forest')}\r\n                >\r\n                  <div className=\"theme-preview forest-theme\"></div>\r\n                  <span>Forest Theme</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"profile-section\">\r\n              <h3>ðŸ‘¥ My Tribes</h3>\r\n              {userTribes.length === 0 ? (\r\n                <p>You haven't joined any tribes yet. Visit the Community tab to join one!</p>\r\n              ) : (\r\n                <div className=\"user-tribes\">\r\n                  {userTribes.map(tribe => (\r\n                    <div key={tribe.id} className=\"user-tribe\">\r\n                      <span>{tribe.name}</span>\r\n                      <button onClick={() => joinTribe(tribe.id)}>\r\n                        Visit\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}