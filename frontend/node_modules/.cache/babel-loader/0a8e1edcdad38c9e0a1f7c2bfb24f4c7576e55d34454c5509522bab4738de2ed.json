{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Prabhat singh\\\\Downloads\\\\Best_Project\\\\frontend\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\n// App.jsx - Complete Fixed Version\nimport React, { useState, useEffect, useRef } from \"react\";\nimport \"./app.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState(\"\");\n  const [isTyping, setIsTyping] = useState(false);\n  const [user, setUser] = useState(null);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [showLogin, setShowLogin] = useState(true);\n  const [showRegister, setShowRegister] = useState(false);\n  const [activeTab, setActiveTab] = useState(\"chat\");\n  const [journalEntries, setJournalEntries] = useState([]);\n  const [therapists, setTherapists] = useState([]);\n  const [resources, setResources] = useState([]);\n  const [moodWall, setMoodWall] = useState([]);\n  const [moodTribes, setMoodTribes] = useState([]);\n  const [shopItems, setShopItems] = useState([]);\n  const [currentMood, setCurrentMood] = useState(\"neutral\");\n  const [typingIndicator, setTypingIndicator] = useState(\"\");\n  const chatEndRef = useRef(null);\n  const audioRef = useRef(null);\n\n  // Mood-based theme colors\n  const moodThemes = {\n    happy: {\n      primary: \"#FFD700\",\n      secondary: \"#FF6B6B\",\n      bg: \"linear-gradient(135deg, #FFD700, #FF6B6B)\"\n    },\n    sad: {\n      primary: \"#5DADE2\",\n      secondary: \"#3498DB\",\n      bg: \"linear-gradient(135deg, #5DADE2, #3498DB)\"\n    },\n    angry: {\n      primary: \"#E74C3C\",\n      secondary: \"#C0392B\",\n      bg: \"linear-gradient(135deg, #E74C3C, #C0392B)\"\n    },\n    anxious: {\n      primary: \"#F39C12\",\n      secondary: \"#D35400\",\n      bg: \"linear-gradient(135deg, #F39C12, #D35400)\"\n    },\n    calm: {\n      primary: \"#48C9B0\",\n      secondary: \"#1ABC9C\",\n      bg: \"linear-gradient(135deg, #48C9B0, #1ABC9C)\"\n    },\n    neutral: {\n      primary: \"#9B59B6\",\n      secondary: \"#8E44AD\",\n      bg: \"linear-gradient(135deg, #9B59B6, #8E44AD)\"\n    }\n  };\n\n  // Load saved session\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    const userData = localStorage.getItem('user');\n    if (token && userData) {\n      setUser(JSON.parse(userData));\n      setIsLoggedIn(true);\n      setShowLogin(false);\n      loadInitialData();\n    }\n  }, []);\n\n  // Auto scroll and apply mood theme\n  useEffect(() => {\n    var _chatEndRef$current;\n    (_chatEndRef$current = chatEndRef.current) === null || _chatEndRef$current === void 0 ? void 0 : _chatEndRef$current.scrollIntoView({\n      behavior: \"smooth\"\n    });\n    applyMoodTheme();\n  }, [messages, currentMood]);\n\n  // Apply mood-based theme\n  const applyMoodTheme = () => {\n    document.documentElement.style.setProperty('--primary-color', moodThemes[currentMood].primary);\n    document.documentElement.style.setProperty('--secondary-color', moodThemes[currentMood].secondary);\n    document.documentElement.style.setProperty('--bg-gradient', moodThemes[currentMood].bg);\n  };\n  const loadInitialData = async () => {\n    setMessages([{\n      text: \"Hello! I'm MoodMate, your mental health companion. How are you feeling today?\",\n      sender: \"bot\"\n    }]);\n\n    // Load other data if user is logged in\n    if (isLoggedIn) {\n      await loadJournalEntries();\n      await loadMoodWall();\n      await loadMoodTribes();\n      await loadShopItems();\n    }\n  };\n  const loadJournalEntries = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(\"/api/journal\", {\n        method: \"GET\",\n        headers: {\n          \"Authorization\": `Bearer ${token}`\n        }\n      });\n      const data = await response.json();\n      if (data.success) {\n        setJournalEntries(data.entries || []);\n      }\n    } catch (error) {\n      console.error(\"Error loading journal entries:\", error);\n    }\n  };\n  const loadMoodWall = async () => {\n    try {\n      const response = await fetch(\"/api/moodwall\");\n      const data = await response.json();\n      if (data.success) {\n        setMoodWall(data.posts || []);\n      }\n    } catch (error) {\n      console.error(\"Error loading mood wall:\", error);\n    }\n  };\n  const loadMoodTribes = async () => {\n    try {\n      const response = await fetch(\"/api/moodtribes\");\n      const data = await response.json();\n      if (data.success) {\n        setMoodTribes(data.tribes || []);\n      }\n    } catch (error) {\n      console.error(\"Error loading mood tribes:\", error);\n    }\n  };\n  const loadShopItems = async () => {\n    try {\n      const response = await fetch(\"/api/shop\");\n      const data = await response.json();\n      if (data.success) {\n        setShopItems(data.items || []);\n      }\n    } catch (error) {\n      console.error(\"Error loading shop items:\", error);\n    }\n  };\n\n  // Simulate typing animation\n  const simulateTyping = async () => {\n    const typingPhrases = [\"Thinking\", \"Thinking.\", \"Thinking..\", \"Thinking...\"];\n    for (let i = 0; i < 8; i++) {\n      setTypingIndicator(typingPhrases[i % 4]);\n      await new Promise(resolve => setTimeout(resolve, 300));\n    }\n    setTypingIndicator(\"\");\n  };\n  const handleLogin = async e => {\n    e.preventDefault();\n    const formData = new FormData(e.target);\n    const credentials = {\n      email: formData.get('email'),\n      password: formData.get('password')\n    };\n    try {\n      const response = await fetch(\"/api/login\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(credentials)\n      });\n      const data = await response.json();\n      if (data.success) {\n        localStorage.setItem('token', data.token);\n        localStorage.setItem('user', JSON.stringify(data.user));\n        setUser(data.user);\n        setIsLoggedIn(true);\n        setShowLogin(false);\n        loadInitialData();\n      } else {\n        alert(data.error || \"Login failed\");\n      }\n    } catch (error) {\n      console.error(\"Login error:\", error);\n      alert(\"Login failed. Please check if the server is running.\");\n    }\n  };\n  const handleRegister = async e => {\n    e.preventDefault();\n    const formData = new FormData(e.target);\n    const userData = {\n      email: formData.get('email'),\n      password: formData.get('password'),\n      name: formData.get('name')\n    };\n    try {\n      const response = await fetch(\"/api/register\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(userData)\n      });\n      const data = await response.json();\n      if (data.success) {\n        alert(\"Registration successful! Please login.\");\n        setShowRegister(false);\n        setShowLogin(true);\n        e.target.reset();\n      } else {\n        alert(data.error || \"Registration failed. Please try again.\");\n      }\n    } catch (error) {\n      console.error(\"Registration error:\", error);\n      alert(\"Registration failed. Please check if the server is running.\");\n    }\n  };\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    setUser(null);\n    setIsLoggedIn(false);\n    setShowLogin(true);\n    setMessages([]);\n  };\n  const sendMessage = async () => {\n    if (!input.trim() || !isLoggedIn) return;\n    const userMsg = {\n      text: input,\n      sender: \"user\"\n    };\n    setMessages(prev => [...prev, userMsg]);\n    setInput(\"\");\n    setIsTyping(true);\n\n    // Simulate typing animation\n    simulateTyping();\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(\"/api/chat\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          message: input\n        })\n      });\n      const data = await response.json();\n      if (data.success) {\n        const botMsg = {\n          text: data.response,\n          sender: \"bot\",\n          mood: data.mood,\n          moodEmoji: data.moodEmoji,\n          phrase: data.phrase\n        };\n        setMessages(prev => [...prev, botMsg]);\n        setCurrentMood(data.mood || \"neutral\");\n\n        // Play audio if available\n        if (data.audioUrl) {\n          const audio = new Audio(`http://localhost:5000${data.audioUrl}`);\n          audio.play().catch(e => console.log(\"Audio play error:\", e));\n        }\n\n        // Random surprise reward (10% chance)\n        if (Math.random() < 0.1) {\n          const surpriseCoins = Math.floor(Math.random() * 10) + 5;\n          setUser(prev => ({\n            ...prev,\n            coins: prev.coins + surpriseCoins\n          }));\n          setMessages(prev => [...prev, {\n            text: `ðŸŽ‰ Surprise! You've earned ${surpriseCoins} bonus coins for engaging with your mental health!`,\n            sender: \"bot\",\n            isReward: true\n          }]);\n        }\n      } else {\n        // Fallback responses if API fails\n        const fallbackResponses = [\"I hear you. Would you like to talk more about that?\", \"Thank you for sharing. How does that make you feel?\", \"I'm here to listen. Tell me more about what's on your mind.\", \"That sounds challenging. How can I support you right now?\", \"Your feelings are completely valid. Would you like to explore this further?\"];\n        const randomResponse = fallbackResponses[Math.floor(Math.random() * fallbackResponses.length)];\n        const botMsg = {\n          text: randomResponse,\n          sender: \"bot\"\n        };\n        setMessages(prev => [...prev, botMsg]);\n      }\n    } catch (error) {\n      console.error(\"Chat error:\", error);\n      const botMsg = {\n        text: \"I'm having trouble connecting right now. Please check your internet connection.\",\n        sender: \"bot\"\n      };\n      setMessages(prev => [...prev, botMsg]);\n    }\n    setIsTyping(false);\n    setTypingIndicator(\"\");\n  };\n  const addJournalEntry = async () => {\n    const entryText = prompt(\"What's on your mind today?\");\n    if (!entryText) return;\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(\"/api/journal\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          text: entryText\n        })\n      });\n      const data = await response.json();\n      if (data.success) {\n        alert(\"Journal entry saved! +3 coins earned!\");\n        setUser(prev => ({\n          ...prev,\n          coins: data.totalCoins\n        }));\n        await loadJournalEntries();\n      } else {\n        alert(data.error || \"Failed to save journal entry\");\n      }\n    } catch (error) {\n      console.error(\"Journal error:\", error);\n      alert(\"Failed to save journal entry. Please try again.\");\n    }\n  };\n  const addMoodWallPost = async () => {\n    const postText = prompt(\"Share your feelings with the community (anonymous):\");\n    if (!postText) return;\n    try {\n      const response = await fetch(\"/api/moodwall\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          text: postText\n        })\n      });\n      const data = await response.json();\n      if (data.success) {\n        alert(\"Posted to mood wall!\");\n        await loadMoodWall();\n      }\n    } catch (error) {\n      console.error(\"Mood wall error:\", error);\n    }\n  };\n  const playBreathingExercise = () => {\n    setMessages(prev => [...prev, {\n      text: \"Let's do a quick breathing exercise. Breathe in for 4 seconds, hold for 4 seconds, exhale for 6 seconds. Repeat 5 times.\",\n      sender: \"bot\",\n      isExercise: true\n    }]);\n  };\n  const buyItem = (itemId, price) => {\n    if (user.coins < price) {\n      alert(\"Not enough coins!\");\n      return;\n    }\n    if (window.confirm(`Buy this item for ${price} coins?`)) {\n      setUser(prev => ({\n        ...prev,\n        coins: prev.coins - price\n      }));\n      alert(\"Item purchased!\");\n    }\n  };\n  if (!isLoggedIn) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-container auth-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-box glass\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\uD83C\\uDF19 MoodMate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Your mental health companion\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }, this), showLogin && /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleLogin,\n          className: \"auth-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            placeholder: \"Email\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"password\",\n            placeholder: \"Password\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"glow-btn\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Don't have an account?\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"auth-link\",\n              onClick: () => setShowRegister(true),\n              children: \"Register\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 13\n        }, this), showRegister && /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleRegister,\n          className: \"auth-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            placeholder: \"Full Name\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            placeholder: \"Email\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"password\",\n            placeholder: \"Password (min 6 chars)\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"glow-btn\",\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Already have an account?\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"auth-link\",\n              onClick: () => setShowRegister(false),\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"app-header glass\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\uD83C\\uDF19 MoodMate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-stats\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\uD83D\\uDD25 \", (user === null || user === void 0 ? void 0 : user.streak) || 0, \" day streak\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\uD83E\\uDE99 \", (user === null || user === void 0 ? void 0 : user.coins) || 0, \" coins\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-right\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Welcome, \", user === null || user === void 0 ? void 0 : user.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLogout,\n          className: \"logout-btn bounce\",\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"app-nav glass\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: activeTab === \"chat\" ? \"active\" : \"\",\n        onClick: () => setActiveTab(\"chat\"),\n        children: \"\\uD83D\\uDCAC Chat\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: activeTab === \"journal\" ? \"active\" : \"\",\n        onClick: () => setActiveTab(\"journal\"),\n        children: \"\\uD83D\\uDCD3 Journal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: activeTab === \"therapy\" ? \"active\" : \"\",\n        onClick: () => setActiveTab(\"therapy\"),\n        children: \"\\uD83D\\uDC68\\u200D\\u2695 Therapy\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: activeTab === \"community\" ? \"active\" : \"\",\n        onClick: () => {\n          setActiveTab(\"community\");\n          loadMoodWall();\n          loadMoodTribes();\n        },\n        children: \"\\uD83C\\uDF0D Community\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: activeTab === \"shop\" ? \"active\" : \"\",\n        onClick: () => {\n          setActiveTab(\"shop\");\n          loadShopItems();\n        },\n        children: \"\\uD83C\\uDFAE Rewards\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"app-main\",\n      children: [activeTab === \"chat\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-tab\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-box\",\n          children: [messages.map((msg, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `chat-message ${msg.sender} ${msg.isReward ? 'reward' : ''} ${msg.isExercise ? 'exercise' : ''}`,\n            children: [msg.sender === \"bot\" && /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"https://i.imgur.com/1XK5n.jpg\",\n              alt: \"MoodMate\",\n              className: \"avatar\",\n              onError: e => {\n                e.target.src = 'https://via.placeholder.com/40x40/4A90E2/FFFFFF?text=MM';\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 21\n            }, this), msg.sender === \"user\" && /*#__PURE__*/_jsxDEV(\"img\", {\n              src: `https://ui-avatars.com/api/?name=${(user === null || user === void 0 ? void 0 : user.name) || 'User'}&background=random`,\n              alt: \"You\",\n              className: \"avatar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bubble\",\n              children: [msg.text, msg.moodEmoji && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mood-indicator\",\n                children: [msg.moodEmoji, \" \", msg.phrase]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 19\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 17\n          }, this)), isTyping && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-message bot\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"https://i.imgur.com/1XK5n.jpg\",\n              alt: \"MoodMate\",\n              className: \"avatar\",\n              onError: e => {\n                e.target.src = 'https://via.placeholder.com/40x40/4A90E2/FFFFFF?text=MM';\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bubble typing\",\n              children: typingIndicator || \"...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 510,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: chatEndRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-area\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"How are you feeling today?\",\n            value: input,\n            onChange: e => setInput(e.target.value),\n            onKeyDown: e => e.key === \"Enter\" && sendMessage()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 520,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: sendMessage,\n            className: \"glow-btn\",\n            children: \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 527,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: playBreathingExercise,\n            className: \"exercise-btn\",\n            title: \"Breathing Exercise\",\n            children: \"\\uD83E\\uDDD8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 11\n      }, this), activeTab === \"community\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"community-tab\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mood-wall-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83C\\uDF0D Community Mood Wall\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: addMoodWallPost,\n            className: \"glow-btn\",\n            children: \"+ Share Your Feelings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 537,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mood-wall\",\n            children: moodWall.map((post, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mood-post glass\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: post.text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 541,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"post-reactions\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  children: \"\\uD83D\\uDC96\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 543,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  children: \"\\uD83E\\uDD17\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 544,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  children: \"\\uD83D\\uDC4D\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 545,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 535,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tribes-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83C\\uDFAF Mood Tribes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 553,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tribes-grid\",\n            children: moodTribes.map((tribe, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tribe-card glass\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: tribe.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 557,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: tribe.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 558,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"glow-btn\",\n                children: \"Join Tribe\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 559,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 556,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 552,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 11\n      }, this), activeTab === \"shop\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shop-tab\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83C\\uDFAE Reward Shop\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 569,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"shop-items\",\n          children: shopItems.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shop-item glass\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 573,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: item.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 574,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"price\",\n              children: [\"\\uD83E\\uDE99 \", item.price, \" coins\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 575,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => buyItem(item.id, item.price),\n              className: user.coins >= item.price ? \"glow-btn\" : \"disabled-btn\",\n              children: user.coins >= item.price ? \"Purchase\" : \"Not Enough Coins\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 576,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 572,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 570,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 568,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 411,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"qEWH7PmUnZPGyguzROvqcZFAb0I=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","App","_s","messages","setMessages","input","setInput","isTyping","setIsTyping","user","setUser","isLoggedIn","setIsLoggedIn","showLogin","setShowLogin","showRegister","setShowRegister","activeTab","setActiveTab","journalEntries","setJournalEntries","therapists","setTherapists","resources","setResources","moodWall","setMoodWall","moodTribes","setMoodTribes","shopItems","setShopItems","currentMood","setCurrentMood","typingIndicator","setTypingIndicator","chatEndRef","audioRef","moodThemes","happy","primary","secondary","bg","sad","angry","anxious","calm","neutral","token","localStorage","getItem","userData","JSON","parse","loadInitialData","_chatEndRef$current","current","scrollIntoView","behavior","applyMoodTheme","document","documentElement","style","setProperty","text","sender","loadJournalEntries","loadMoodWall","loadMoodTribes","loadShopItems","response","fetch","method","headers","data","json","success","entries","error","console","posts","tribes","items","simulateTyping","typingPhrases","i","Promise","resolve","setTimeout","handleLogin","e","preventDefault","formData","FormData","target","credentials","email","get","password","body","stringify","setItem","alert","handleRegister","name","reset","handleLogout","removeItem","sendMessage","trim","userMsg","prev","message","botMsg","mood","moodEmoji","phrase","audioUrl","audio","Audio","play","catch","log","Math","random","surpriseCoins","floor","coins","isReward","fallbackResponses","randomResponse","length","addJournalEntry","entryText","prompt","totalCoins","addMoodWallPost","postText","playBreathingExercise","isExercise","buyItem","itemId","price","window","confirm","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","required","onClick","streak","map","msg","src","alt","onError","ref","value","onChange","onKeyDown","key","title","post","index","tribe","description","item","id","_c","$RefreshReg$"],"sources":["C:/Users/Prabhat singh/Downloads/Best_Project/frontend/src/App.jsx"],"sourcesContent":["// App.jsx - Complete Fixed Version\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\nimport \"./app.css\";\r\n\r\nfunction App() {\r\n  const [messages, setMessages] = useState([]);\r\n  const [input, setInput] = useState(\"\");\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  const [user, setUser] = useState(null);\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [showLogin, setShowLogin] = useState(true);\r\n  const [showRegister, setShowRegister] = useState(false);\r\n  const [activeTab, setActiveTab] = useState(\"chat\");\r\n  const [journalEntries, setJournalEntries] = useState([]);\r\n  const [therapists, setTherapists] = useState([]);\r\n  const [resources, setResources] = useState([]);\r\n  const [moodWall, setMoodWall] = useState([]);\r\n  const [moodTribes, setMoodTribes] = useState([]);\r\n  const [shopItems, setShopItems] = useState([]);\r\n  const [currentMood, setCurrentMood] = useState(\"neutral\");\r\n  const [typingIndicator, setTypingIndicator] = useState(\"\");\r\n\r\n  const chatEndRef = useRef(null);\r\n  const audioRef = useRef(null);\r\n\r\n  // Mood-based theme colors\r\n  const moodThemes = {\r\n    happy: { primary: \"#FFD700\", secondary: \"#FF6B6B\", bg: \"linear-gradient(135deg, #FFD700, #FF6B6B)\" },\r\n    sad: { primary: \"#5DADE2\", secondary: \"#3498DB\", bg: \"linear-gradient(135deg, #5DADE2, #3498DB)\" },\r\n    angry: { primary: \"#E74C3C\", secondary: \"#C0392B\", bg: \"linear-gradient(135deg, #E74C3C, #C0392B)\" },\r\n    anxious: { primary: \"#F39C12\", secondary: \"#D35400\", bg: \"linear-gradient(135deg, #F39C12, #D35400)\" },\r\n    calm: { primary: \"#48C9B0\", secondary: \"#1ABC9C\", bg: \"linear-gradient(135deg, #48C9B0, #1ABC9C)\" },\r\n    neutral: { primary: \"#9B59B6\", secondary: \"#8E44AD\", bg: \"linear-gradient(135deg, #9B59B6, #8E44AD)\" }\r\n  };\r\n\r\n  // Load saved session\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    const userData = localStorage.getItem('user');\r\n    if (token && userData) {\r\n      setUser(JSON.parse(userData));\r\n      setIsLoggedIn(true);\r\n      setShowLogin(false);\r\n      loadInitialData();\r\n    }\r\n  }, []);\r\n\r\n  // Auto scroll and apply mood theme\r\n  useEffect(() => {\r\n    chatEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n    applyMoodTheme();\r\n  }, [messages, currentMood]);\r\n\r\n  // Apply mood-based theme\r\n  const applyMoodTheme = () => {\r\n    document.documentElement.style.setProperty('--primary-color', moodThemes[currentMood].primary);\r\n    document.documentElement.style.setProperty('--secondary-color', moodThemes[currentMood].secondary);\r\n    document.documentElement.style.setProperty('--bg-gradient', moodThemes[currentMood].bg);\r\n  };\r\n\r\n  const loadInitialData = async () => {\r\n    setMessages([{\r\n      text: \"Hello! I'm MoodMate, your mental health companion. How are you feeling today?\",\r\n      sender: \"bot\"\r\n    }]);\r\n    \r\n    // Load other data if user is logged in\r\n    if (isLoggedIn) {\r\n      await loadJournalEntries();\r\n      await loadMoodWall();\r\n      await loadMoodTribes();\r\n      await loadShopItems();\r\n    }\r\n  };\r\n\r\n  const loadJournalEntries = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(\"/api/journal\", {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Authorization\": `Bearer ${token}`\r\n        }\r\n      });\r\n      \r\n      const data = await response.json();\r\n      if (data.success) {\r\n        setJournalEntries(data.entries || []);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error loading journal entries:\", error);\r\n    }\r\n  };\r\n\r\n  const loadMoodWall = async () => {\r\n    try {\r\n      const response = await fetch(\"/api/moodwall\");\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        setMoodWall(data.posts || []);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error loading mood wall:\", error);\r\n    }\r\n  };\r\n\r\n  const loadMoodTribes = async () => {\r\n    try {\r\n      const response = await fetch(\"/api/moodtribes\");\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        setMoodTribes(data.tribes || []);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error loading mood tribes:\", error);\r\n    }\r\n  };\r\n\r\n  const loadShopItems = async () => {\r\n    try {\r\n      const response = await fetch(\"/api/shop\");\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        setShopItems(data.items || []);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error loading shop items:\", error);\r\n    }\r\n  };\r\n\r\n  // Simulate typing animation\r\n  const simulateTyping = async () => {\r\n    const typingPhrases = [\"Thinking\", \"Thinking.\", \"Thinking..\", \"Thinking...\"];\r\n    for (let i = 0; i < 8; i++) {\r\n      setTypingIndicator(typingPhrases[i % 4]);\r\n      await new Promise(resolve => setTimeout(resolve, 300));\r\n    }\r\n    setTypingIndicator(\"\");\r\n  };\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData(e.target);\r\n    const credentials = {\r\n      email: formData.get('email'),\r\n      password: formData.get('password')\r\n    };\r\n\r\n    try {\r\n      const response = await fetch(\"/api/login\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(credentials)\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        localStorage.setItem('token', data.token);\r\n        localStorage.setItem('user', JSON.stringify(data.user));\r\n        setUser(data.user);\r\n        setIsLoggedIn(true);\r\n        setShowLogin(false);\r\n        loadInitialData();\r\n      } else {\r\n        alert(data.error || \"Login failed\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Login error:\", error);\r\n      alert(\"Login failed. Please check if the server is running.\");\r\n    }\r\n  };\r\n\r\n  const handleRegister = async (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData(e.target);\r\n    const userData = {\r\n      email: formData.get('email'),\r\n      password: formData.get('password'),\r\n      name: formData.get('name')\r\n    };\r\n\r\n    try {\r\n      const response = await fetch(\"/api/register\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(userData)\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        alert(\"Registration successful! Please login.\");\r\n        setShowRegister(false);\r\n        setShowLogin(true);\r\n        e.target.reset();\r\n      } else {\r\n        alert(data.error || \"Registration failed. Please try again.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Registration error:\", error);\r\n      alert(\"Registration failed. Please check if the server is running.\");\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('user');\r\n    setUser(null);\r\n    setIsLoggedIn(false);\r\n    setShowLogin(true);\r\n    setMessages([]);\r\n  };\r\n\r\n  const sendMessage = async () => {\r\n    if (!input.trim() || !isLoggedIn) return;\r\n\r\n    const userMsg = { text: input, sender: \"user\" };\r\n    setMessages(prev => [...prev, userMsg]);\r\n    setInput(\"\");\r\n    setIsTyping(true);\r\n    \r\n    // Simulate typing animation\r\n    simulateTyping();\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(\"/api/chat\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"Authorization\": `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ message: input })\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        const botMsg = { \r\n          text: data.response, \r\n          sender: \"bot\",\r\n          mood: data.mood,\r\n          moodEmoji: data.moodEmoji,\r\n          phrase: data.phrase\r\n        };\r\n        setMessages(prev => [...prev, botMsg]);\r\n        setCurrentMood(data.mood || \"neutral\");\r\n\r\n        // Play audio if available\r\n        if (data.audioUrl) {\r\n          const audio = new Audio(`http://localhost:5000${data.audioUrl}`);\r\n          audio.play().catch(e => console.log(\"Audio play error:\", e));\r\n        }\r\n        \r\n        // Random surprise reward (10% chance)\r\n        if (Math.random() < 0.1) {\r\n          const surpriseCoins = Math.floor(Math.random() * 10) + 5;\r\n          setUser(prev => ({ ...prev, coins: prev.coins + surpriseCoins }));\r\n          setMessages(prev => [...prev, {\r\n            text: `ðŸŽ‰ Surprise! You've earned ${surpriseCoins} bonus coins for engaging with your mental health!`,\r\n            sender: \"bot\",\r\n            isReward: true\r\n          }]);\r\n        }\r\n      } else {\r\n        // Fallback responses if API fails\r\n        const fallbackResponses = [\r\n          \"I hear you. Would you like to talk more about that?\",\r\n          \"Thank you for sharing. How does that make you feel?\",\r\n          \"I'm here to listen. Tell me more about what's on your mind.\",\r\n          \"That sounds challenging. How can I support you right now?\",\r\n          \"Your feelings are completely valid. Would you like to explore this further?\"\r\n        ];\r\n        \r\n        const randomResponse = fallbackResponses[Math.floor(Math.random() * fallbackResponses.length)];\r\n        const botMsg = { \r\n          text: randomResponse, \r\n          sender: \"bot\"\r\n        };\r\n        setMessages(prev => [...prev, botMsg]);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Chat error:\", error);\r\n      const botMsg = { \r\n        text: \"I'm having trouble connecting right now. Please check your internet connection.\", \r\n        sender: \"bot\" \r\n      };\r\n      setMessages(prev => [...prev, botMsg]);\r\n    }\r\n\r\n    setIsTyping(false);\r\n    setTypingIndicator(\"\");\r\n  };\r\n\r\n  const addJournalEntry = async () => {\r\n    const entryText = prompt(\"What's on your mind today?\");\r\n    if (!entryText) return;\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(\"/api/journal\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"Authorization\": `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ text: entryText })\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        alert(\"Journal entry saved! +3 coins earned!\");\r\n        setUser(prev => ({ ...prev, coins: data.totalCoins }));\r\n        await loadJournalEntries();\r\n      } else {\r\n        alert(data.error || \"Failed to save journal entry\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Journal error:\", error);\r\n      alert(\"Failed to save journal entry. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const addMoodWallPost = async () => {\r\n    const postText = prompt(\"Share your feelings with the community (anonymous):\");\r\n    if (!postText) return;\r\n\r\n    try {\r\n      const response = await fetch(\"/api/moodwall\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({ text: postText })\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        alert(\"Posted to mood wall!\");\r\n        await loadMoodWall();\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Mood wall error:\", error);\r\n    }\r\n  };\r\n\r\n  const playBreathingExercise = () => {\r\n    setMessages(prev => [...prev, {\r\n      text: \"Let's do a quick breathing exercise. Breathe in for 4 seconds, hold for 4 seconds, exhale for 6 seconds. Repeat 5 times.\",\r\n      sender: \"bot\",\r\n      isExercise: true\r\n    }]);\r\n  };\r\n\r\n  const buyItem = (itemId, price) => {\r\n    if (user.coins < price) {\r\n      alert(\"Not enough coins!\");\r\n      return;\r\n    }\r\n    \r\n    if (window.confirm(`Buy this item for ${price} coins?`)) {\r\n      setUser(prev => ({ ...prev, coins: prev.coins - price }));\r\n      alert(\"Item purchased!\");\r\n    }\r\n  };\r\n\r\n  if (!isLoggedIn) {\r\n    return (\r\n      <div className=\"app-container auth-container\">\r\n        <div className=\"auth-box glass\">\r\n          <h1>ðŸŒ™ MoodMate</h1>\r\n          <p>Your mental health companion</p>\r\n          \r\n          {showLogin && (\r\n            <form onSubmit={handleLogin} className=\"auth-form\">\r\n              <h2>Login</h2>\r\n              <input type=\"email\" name=\"email\" placeholder=\"Email\" required />\r\n              <input type=\"password\" name=\"password\" placeholder=\"Password\" required />\r\n              <button type=\"submit\" className=\"glow-btn\">Login</button>\r\n              <p>\r\n                Don't have an account?{\" \"}\r\n                <span className=\"auth-link\" onClick={() => setShowRegister(true)}>\r\n                  Register\r\n                </span>\r\n              </p>\r\n            </form>\r\n          )}\r\n\r\n          {showRegister && (\r\n            <form onSubmit={handleRegister} className=\"auth-form\">\r\n              <h2>Register</h2>\r\n              <input type=\"text\" name=\"name\" placeholder=\"Full Name\" required />\r\n              <input type=\"email\" name=\"email\" placeholder=\"Email\" required />\r\n              <input type=\"password\" name=\"password\" placeholder=\"Password (min 6 chars)\" required />\r\n              <button type=\"submit\" className=\"glow-btn\">Register</button>\r\n              <p>\r\n                Already have an account?{\" \"}\r\n                <span className=\"auth-link\" onClick={() => setShowRegister(false)}>\r\n                  Login\r\n                </span>\r\n              </p>\r\n            </form>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"app-container\">\r\n      <header className=\"app-header glass\">\r\n        <div className=\"header-left\">\r\n          <h1>ðŸŒ™ MoodMate</h1>\r\n          <div className=\"user-stats\">\r\n            <span>ðŸ”¥ {user?.streak || 0} day streak</span>\r\n            <span>ðŸª™ {user?.coins || 0} coins</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"header-right\">\r\n          <span>Welcome, {user?.name}</span>\r\n          <button onClick={handleLogout} className=\"logout-btn bounce\">Logout</button>\r\n        </div>\r\n      </header>\r\n\r\n      <nav className=\"app-nav glass\">\r\n        <button \r\n          className={activeTab === \"chat\" ? \"active\" : \"\"} \r\n          onClick={() => setActiveTab(\"chat\")}\r\n        >\r\n          ðŸ’¬ Chat\r\n        </button>\r\n        <button \r\n          className={activeTab === \"journal\" ? \"active\" : \"\"} \r\n          onClick={() => setActiveTab(\"journal\")}\r\n        >\r\n          ðŸ““ Journal\r\n        </button>\r\n        <button \r\n          className={activeTab === \"therapy\" ? \"active\" : \"\"} \r\n          onClick={() => setActiveTab(\"therapy\")}\r\n        >\r\n          ðŸ‘¨â€âš• Therapy\r\n        </button>\r\n        <button \r\n          className={activeTab === \"community\" ? \"active\" : \"\"} \r\n          onClick={() => {\r\n            setActiveTab(\"community\");\r\n            loadMoodWall();\r\n            loadMoodTribes();\r\n          }}\r\n        >\r\n          ðŸŒ Community\r\n        </button>\r\n        <button \r\n          className={activeTab === \"shop\" ? \"active\" : \"\"} \r\n          onClick={() => {\r\n            setActiveTab(\"shop\");\r\n            loadShopItems();\r\n          }}\r\n        >\r\n          ðŸŽ® Rewards\r\n        </button>\r\n      </nav>\r\n\r\n      <main className=\"app-main\">\r\n        {activeTab === \"chat\" && (\r\n          <div className=\"chat-tab\">\r\n            <div className=\"chat-box\">\r\n              {messages.map((msg, i) => (\r\n                <div key={i} className={`chat-message ${msg.sender} ${msg.isReward ? 'reward' : ''} ${msg.isExercise ? 'exercise' : ''}`}>\r\n                  {msg.sender === \"bot\" && (\r\n                    <img\r\n                      src=\"https://i.imgur.com/1XK5n.jpg\"\r\n                      alt=\"MoodMate\"\r\n                      className=\"avatar\"\r\n                      onError={(e) => {\r\n                        e.target.src = 'https://via.placeholder.com/40x40/4A90E2/FFFFFF?text=MM';\r\n                      }}\r\n                    />\r\n                  )}\r\n                  {msg.sender === \"user\" && (\r\n                    <img\r\n                      src={`https://ui-avatars.com/api/?name=${user?.name || 'User'}&background=random`}\r\n                      alt=\"You\"\r\n                      className=\"avatar\"\r\n                    />\r\n                  )}\r\n                  <div className=\"bubble\">\r\n                    {msg.text}\r\n                    {msg.moodEmoji && (\r\n                      <div className=\"mood-indicator\">\r\n                        {msg.moodEmoji} {msg.phrase}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n\r\n              {isTyping && (\r\n                <div className=\"chat-message bot\">\r\n                  <img\r\n                    src=\"https://i.imgur.com/1XK5n.jpg\"\r\n                    alt=\"MoodMate\"\r\n                    className=\"avatar\"\r\n                    onError={(e) => {\r\n                      e.target.src = 'https://via.placeholder.com/40x40/4A90E2/FFFFFF?text=MM';\r\n                    }}\r\n                  />\r\n                  <div className=\"bubble typing\">\r\n                    {typingIndicator || \"...\"}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              <div ref={chatEndRef}></div>\r\n            </div>\r\n\r\n            <div className=\"input-area\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"How are you feeling today?\"\r\n                value={input}\r\n                onChange={(e) => setInput(e.target.value)}\r\n                onKeyDown={(e) => e.key === \"Enter\" && sendMessage()}\r\n              />\r\n              <button onClick={sendMessage} className=\"glow-btn\">Send</button>\r\n              <button onClick={playBreathingExercise} className=\"exercise-btn\" title=\"Breathing Exercise\">ðŸ§˜</button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === \"community\" && (\r\n          <div className=\"community-tab\">\r\n            <div className=\"mood-wall-section\">\r\n              <h3>ðŸŒ Community Mood Wall</h3>\r\n              <button onClick={addMoodWallPost} className=\"glow-btn\">+ Share Your Feelings</button>\r\n              <div className=\"mood-wall\">\r\n                {moodWall.map((post, index) => (\r\n                  <div key={index} className=\"mood-post glass\">\r\n                    <p>{post.text}</p>\r\n                    <div className=\"post-reactions\">\r\n                      <button>ðŸ’–</button>\r\n                      <button>ðŸ¤—</button>\r\n                      <button>ðŸ‘</button>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"tribes-section\">\r\n              <h3>ðŸŽ¯ Mood Tribes</h3>\r\n              <div className=\"tribes-grid\">\r\n                {moodTribes.map((tribe, index) => (\r\n                  <div key={index} className=\"tribe-card glass\">\r\n                    <h4>{tribe.name}</h4>\r\n                    <p>{tribe.description}</p>\r\n                    <button className=\"glow-btn\">Join Tribe</button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === \"shop\" && (\r\n          <div className=\"shop-tab\">\r\n            <h3>ðŸŽ® Reward Shop</h3>\r\n            <div className=\"shop-items\">\r\n              {shopItems.map((item, index) => (\r\n                <div key={index} className=\"shop-item glass\">\r\n                  <h4>{item.name}</h4>\r\n                  <p>{item.description}</p>\r\n                  <p className=\"price\">ðŸª™ {item.price} coins</p>\r\n                  <button \r\n                    onClick={() => buyItem(item.id, item.price)}\r\n                    className={user.coins >= item.price ? \"glow-btn\" : \"disabled-btn\"}\r\n                  >\r\n                    {user.coins >= item.price ? \"Purchase\" : \"Not Enough Coins\"}\r\n                  </button>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}