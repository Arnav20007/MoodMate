{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Prabhat singh\\\\Downloads\\\\Best_Project\\\\frontend\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport \"./app.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  var _user$name;\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState(\"\");\n  const [isTyping, setIsTyping] = useState(false);\n  const [user, setUser] = useState(null);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [showLogin, setShowLogin] = useState(true);\n  const [showRegister, setShowRegister] = useState(false);\n  const [showForgotPassword, setShowForgotPassword] = useState(false);\n  const [activeTab, setActiveTab] = useState(\"chat\");\n  const [journalEntries, setJournalEntries] = useState([]);\n  const [therapists, setTherapists] = useState([]);\n  const [resources, setResources] = useState([]);\n  const [moodWall, setMoodWall] = useState([]);\n  const [moodTribes, setMoodTribes] = useState([]);\n  const [shopItems, setShopItems] = useState([]);\n  const [userTribes, setUserTribes] = useState([]);\n  const [currentTheme, setCurrentTheme] = useState(\"default\");\n  const [typingIndicator, setTypingIndicator] = useState(\"\");\n  const [showEmergencyModal, setShowEmergencyModal] = useState(false);\n  const [achievements, setAchievements] = useState([]);\n  const [activeTribe, setActiveTribe] = useState(null);\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const [showNewChatModal, setShowNewChatModal] = useState(false);\n  const [loginError, setLoginError] = useState(\"\");\n  const [registerError, setRegisterError] = useState(\"\");\n  const [aiProvider, setAiProvider] = useState(\"gemini\");\n  const [audioEnabled, setAudioEnabled] = useState(true);\n  const [musicEnabled, setMusicEnabled] = useState(true);\n  const [tribeChatMessages, setTribeChatMessages] = useState({});\n  const [tribeInput, setTribeInput] = useState(\"\");\n  const [lastStreakUpdate, setLastStreakUpdate] = useState(\"\");\n  const [chatSessions, setChatSessions] = useState([]);\n  const [currentChatId, setCurrentChatId] = useState(null);\n  const [exercises, setExercises] = useState([]);\n  const [activeExercise, setActiveExercise] = useState(null);\n  const [exerciseProgress, setExerciseProgress] = useState(0);\n  const chatEndRef = useRef(null);\n  const audioRef = useRef(null);\n  const backgroundMusicRef = useRef(null);\n\n  // Breathing exercises data\n  const breathingExercises = [{\n    id: 1,\n    name: \"Box Breathing\",\n    description: \"4-4-4-4 technique for stress relief\",\n    duration: 5,\n    steps: [\"Breathe in for 4 seconds\", \"Hold your breath for 4 seconds\", \"Exhale slowly for 4 seconds\", \"Hold for 4 seconds\", \"Repeat\"],\n    icon: \"ðŸ§˜â€â™‚ï¸\"\n  }, {\n    id: 2,\n    name: \"4-7-8 Breathing\",\n    description: \"Calming technique for anxiety\",\n    duration: 7,\n    steps: [\"Breathe in for 4 seconds\", \"Hold your breath for 7 seconds\", \"Exhale completely for 8 seconds\", \"Repeat 4 times\"],\n    icon: \"ðŸŒ¬ï¸\"\n  }, {\n    id: 3,\n    name: \"Deep Belly Breathing\",\n    description: \"Diaphragmatic breathing for relaxation\",\n    duration: 10,\n    steps: [\"Place one hand on your chest, one on belly\", \"Breathe in deeply through nose (4 sec)\", \"Feel your belly expand\", \"Exhale slowly through mouth (6 sec)\", \"Repeat 5-10 times\"],\n    icon: \"ðŸ«\"\n  }, {\n    id: 4,\n    name: \"Alternate Nostril Breathing\",\n    description: \"Nadi Shodhana for balance\",\n    duration: 8,\n    steps: [\"Close right nostril with thumb\", \"Inhale through left nostril (4 sec)\", \"Close both nostrils (hold 4 sec)\", \"Open right, exhale through right (6 sec)\", \"Inhale through right, repeat cycle\"],\n    icon: \"ðŸ‘ƒ\"\n  }];\n\n  // Meditation exercises\n  const meditationExercises = [{\n    id: 5,\n    name: \"Body Scan Meditation\",\n    description: \"Progressive relaxation technique\",\n    duration: 15,\n    steps: [\"Lie down comfortably\", \"Focus attention on your toes\", \"Slowly move attention up through body\", \"Notice sensations without judgment\", \"Release tension in each area\"],\n    icon: \"ðŸ”\"\n  }, {\n    id: 6,\n    name: \"Mindfulness Meditation\",\n    description: \"Present moment awareness\",\n    duration: 10,\n    steps: [\"Sit comfortably with straight back\", \"Focus on your breath\", \"When mind wanders, gently return to breath\", \"Notice thoughts without judgment\", \"Expand awareness to sounds and sensations\"],\n    icon: \"ðŸŒ¿\"\n  }];\n\n  // Load saved session\n  useEffect(() => {\n    const token = localStorage.getItem('accessToken');\n    const refreshToken = localStorage.getItem('refreshToken');\n    const userData = localStorage.getItem('user');\n    const savedTheme = localStorage.getItem('theme') || 'default';\n    const savedTribes = JSON.parse(localStorage.getItem('userTribes') || '[]');\n    const savedAchievements = JSON.parse(localStorage.getItem('achievements') || '[]');\n    const savedAiProvider = localStorage.getItem('aiProvider') || 'gemini';\n    const savedAudio = localStorage.getItem('audioEnabled') !== 'false';\n    const savedMusic = localStorage.getItem('musicEnabled') !== 'false';\n    const savedLastStreakUpdate = localStorage.getItem('lastStreakUpdate') || '';\n    const savedChatSessions = JSON.parse(localStorage.getItem('chatSessions') || '[]');\n    const savedCurrentChatId = localStorage.getItem('currentChatId');\n    if (token && userData) {\n      const userObj = JSON.parse(userData);\n      setUser(userObj);\n      setIsLoggedIn(true);\n      setShowLogin(false);\n      setCurrentTheme(savedTheme);\n      setUserTribes(savedTribes);\n      setAchievements(savedAchievements);\n      setAiProvider(savedAiProvider);\n      setAudioEnabled(savedAudio);\n      setMusicEnabled(savedMusic);\n      setLastStreakUpdate(savedLastStreakUpdate);\n      setChatSessions(savedChatSessions);\n      setCurrentChatId(savedCurrentChatId);\n\n      // Load initial data\n      loadInitialData();\n\n      // Load current chat messages if exists\n      if (savedCurrentChatId) {\n        loadChatHistory(savedCurrentChatId);\n      }\n\n      // Update streak if it's a new day\n      updateStreakAndCoins(userObj);\n    }\n\n    // Set up exercises\n    setExercises([...breathingExercises, ...meditationExercises]);\n  }, []);\n\n  // Auto scroll\n  useEffect(() => {\n    var _chatEndRef$current;\n    (_chatEndRef$current = chatEndRef.current) === null || _chatEndRef$current === void 0 ? void 0 : _chatEndRef$current.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  }, [messages]);\n\n  // Handle audio settings\n  useEffect(() => {\n    if (audioRef.current) {\n      audioRef.current.volume = audioEnabled ? 0.7 : 0;\n    }\n    if (backgroundMusicRef.current) {\n      backgroundMusicRef.current.volume = musicEnabled ? 0.3 : 0;\n      if (musicEnabled && isLoggedIn) {\n        backgroundMusicRef.current.play().catch(() => {});\n      } else {\n        backgroundMusicRef.current.pause();\n      }\n    }\n  }, [audioEnabled, musicEnabled, isLoggedIn]);\n\n  // Check backend connectivity on app load\n  useEffect(() => {\n    checkBackendConnectivity();\n  }, []);\n  const checkBackendConnectivity = async () => {\n    try {\n      const response = await fetch('http://localhost:5000/api/health');\n      if (!response.ok) {\n        console.warn(\"Backend server might be down\");\n      }\n    } catch (error) {\n      console.warn(\"Cannot connect to backend server\", error);\n    }\n  };\n  const refreshToken = async () => {\n    try {\n      const refreshToken = localStorage.getItem('refreshToken');\n      if (!refreshToken) {\n        throw new Error(\"No refresh token available\");\n      }\n      const response = await fetch('http://localhost:5000/api/refresh', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          refreshToken\n        })\n      });\n      if (response.ok) {\n        const data = await response.json();\n        localStorage.setItem('accessToken', data.token);\n        return data.token;\n      } else {\n        throw new Error(\"Token refresh failed\");\n      }\n    } catch (error) {\n      console.error(\"Token refresh error:\", error);\n      handleLogout();\n      throw error;\n    }\n  };\n  const handleApiError = async (error, originalRequest = null) => {\n    console.error(\"API Error:\", error);\n\n    // Handle token expiration\n    if (error.message.includes(\"401\") || error.message.includes(\"authentication\")) {\n      try {\n        // Try to refresh the token\n        const newToken = await refreshToken();\n\n        // Retry the original request if provided\n        if (originalRequest) {\n          originalRequest.headers.Authorization = `Bearer ${newToken}`;\n          const retryResponse = await fetch(originalRequest.url, originalRequest);\n          return retryResponse;\n        }\n        return true;\n      } catch (refreshError) {\n        console.error(\"Token refresh failed:\", refreshError);\n        handleLogout();\n        alert(\"Session expired. Please login again.\");\n        return false;\n      }\n    }\n    return false;\n  };\n  const loadInitialData = async () => {\n    try {\n      const token = localStorage.getItem('accessToken');\n\n      // Load therapists\n      const therapistsResponse = await fetch('http://localhost:5000/api/therapists', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (therapistsResponse.ok) {\n        const therapistsData = await therapistsResponse.json();\n        setTherapists(therapistsData.therapists || []);\n      }\n\n      // Load resources\n      const resourcesResponse = await fetch('http://localhost:5000/api/resources', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (resourcesResponse.ok) {\n        const resourcesData = await resourcesResponse.json();\n        setResources(resourcesData.resources || []);\n      }\n\n      // Load mood tribes\n      const tribesResponse = await fetch('http://localhost:5000/api/moodtribes', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (tribesResponse.ok) {\n        const tribesData = await tribesResponse.json();\n        setMoodTribes(tribesData.tribes || []);\n      }\n\n      // Load shop items\n      const shopResponse = await fetch('http://localhost:5000/api/shop', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (shopResponse.ok) {\n        const shopData = await shopResponse.json();\n        setShopItems(shopData.items || []);\n      }\n\n      // Load mood wall\n      const moodWallResponse = await fetch('http://localhost:5000/api/moodwall', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (moodWallResponse.ok) {\n        const moodWallData = await moodWallResponse.json();\n        setMoodWall(moodWallData.posts || []);\n      }\n\n      // Load journal entries\n      const journalResponse = await fetch('http://localhost:5000/api/journal', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (journalResponse.ok) {\n        const journalData = await journalResponse.json();\n        setJournalEntries(journalData.entries || []);\n      }\n\n      // Load profile and achievements\n      const profileResponse = await fetch('http://localhost:5000/api/profile', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (profileResponse.ok) {\n        const profileData = await profileResponse.json();\n        setAchievements(profileData.achievements || []);\n        setUserTribes(profileData.tribes || []);\n      }\n\n      // If no current chat, start a new one\n      if (!currentChatId && messages.length === 0) {\n        setMessages([{\n          text: \"Hello! I'm MoodMate, your mental health companion. How are you feeling today?\",\n          sender: \"bot\"\n        }]);\n      }\n    } catch (error) {\n      console.error(\"Error loading initial data:\", error);\n      // Fallback to sample data if backend is unavailable\n      setMessages([{\n        text: \"Hello! I'm MoodMate, your mental health companion. How are you feeling today?\",\n        sender: \"bot\"\n      }]);\n    }\n  };\n  const loadChatHistory = async chatId => {\n    try {\n      const token = localStorage.getItem('accessToken');\n      const response = await fetch(`http://localhost:5000/api/chat/history?limit=50`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        const formattedMessages = data.history.map(msg => ({\n          text: msg.content,\n          sender: msg.role === 'user' ? 'user' : 'bot',\n          timestamp: msg.timestamp\n        })).reverse();\n        setMessages(formattedMessages);\n      }\n    } catch (error) {\n      console.error(\"Error loading chat history:\", error);\n    }\n  };\n  const updateStreakAndCoins = async userObj => {\n    const today = new Date().toDateString();\n\n    // If we've already updated today, don't do anything\n    if (lastStreakUpdate === today) return;\n    try {\n      const token = localStorage.getItem('accessToken');\n      const response = await fetch('http://localhost:5000/api/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          message: \"Daily check-in\"\n        })\n      });\n      if (response.ok) {\n        const data = await response.json();\n        // Update user data with new streak and coins\n        const updatedUser = {\n          ...userObj,\n          streak: data.streak,\n          coins: data.coins,\n          mentalFitness: data.mentalFitness\n        };\n        setUser(updatedUser);\n        localStorage.setItem('user', JSON.stringify(updatedUser));\n\n        // Update last streak update date\n        setLastStreakUpdate(today);\n        localStorage.setItem('lastStreakUpdate', today);\n      }\n    } catch (error) {\n      console.error(\"Error updating streak:\", error);\n    }\n  };\n\n  // Simulate typing animation\n  const simulateTyping = async () => {\n    const typingPhrases = [\"Thinking\", \"Thinking.\", \"Thinking..\", \"Thinking...\"];\n    for (let i = 0; i < 6; i++) {\n      setTypingIndicator(typingPhrases[i % 4]);\n      await new Promise(resolve => setTimeout(resolve, 300));\n    }\n    setTypingIndicator(\"\");\n  };\n  const handleLogin = async e => {\n    e.preventDefault();\n    setLoginError(\"\");\n    const formData = new FormData(e.target);\n    const credentials = {\n      email: formData.get('email'),\n      password: formData.get('password')\n    };\n    try {\n      const response = await fetch('http://localhost:5000/api/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(credentials)\n      });\n      const data = await response.json();\n      if (response.ok) {\n        // Store both access and refresh tokens\n        localStorage.setItem('accessToken', data.token);\n        localStorage.setItem('refreshToken', data.refreshToken);\n\n        // Store user data\n        localStorage.setItem('user', JSON.stringify(data.user));\n        localStorage.setItem('lastStreakUpdate', new Date().toDateString());\n        setUser(data.user);\n        setIsLoggedIn(true);\n        setShowLogin(false);\n        loadInitialData();\n      } else {\n        setLoginError(data.error || \"Login failed\");\n      }\n    } catch (error) {\n      console.error(\"Login error:\", error);\n      setLoginError(\"Connection error. Please try again.\");\n    }\n  };\n  const handleRegister = async e => {\n    e.preventDefault();\n    setRegisterError(\"\");\n    const formData = new FormData(e.target);\n    const userData = {\n      name: formData.get('name'),\n      email: formData.get('email'),\n      password: formData.get('password'),\n      confirmPassword: formData.get('confirmPassword')\n    };\n    try {\n      const response = await fetch('http://localhost:5000/api/register', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(userData)\n      });\n      const data = await response.json();\n      if (response.ok) {\n        // Store both access and refresh tokens\n        localStorage.setItem('accessToken', data.token);\n        localStorage.setItem('refreshToken', data.refreshToken);\n\n        // Store user data\n        localStorage.setItem('user', JSON.stringify(data.user));\n        localStorage.setItem('lastStreakUpdate', new Date().toDateString());\n        setUser(data.user);\n        setIsLoggedIn(true);\n        setShowRegister(false);\n        setShowLogin(false);\n        loadInitialData();\n      } else {\n        setRegisterError(data.error || \"Registration failed\");\n      }\n    } catch (error) {\n      console.error(\"Registration error:\", error);\n      setRegisterError(\"Connection error. Please try again.\");\n    }\n  };\n  const handleForgotPassword = async e => {\n    e.preventDefault();\n    const formData = new FormData(e.target);\n    const email = formData.get('email');\n    try {\n      const response = await fetch('http://localhost:5000/api/forgot-password', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email\n        })\n      });\n      const data = await response.json();\n      if (response.ok) {\n        alert(data.message);\n        setShowForgotPassword(false);\n        setShowLogin(true);\n      } else {\n        alert(data.error || \"Failed to send reset instructions\");\n      }\n    } catch (error) {\n      console.error(\"Forgot password error:\", error);\n      alert(\"Password reset feature is not available right now.\");\n    }\n  };\n  const handleLogout = () => {\n    localStorage.removeItem('accessToken');\n    localStorage.removeItem('refreshToken');\n    localStorage.removeItem('user');\n    localStorage.removeItem('lastStreakUpdate');\n    localStorage.removeItem('chatSessions');\n    localStorage.removeItem('currentChatId');\n    setUser(null);\n    setIsLoggedIn(false);\n    setShowLogin(true);\n    setMessages([]);\n    setSidebarOpen(false);\n    setCurrentChatId(null);\n    setChatSessions([]);\n  };\n  const startNewChat = async () => {\n    try {\n      const token = localStorage.getItem('accessToken');\n      const response = await fetch('http://localhost:5000/api/chat/new', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        const newChatId = Date.now().toString();\n        const newChatSession = {\n          id: newChatId,\n          title: \"New Chat\",\n          timestamp: new Date().toISOString(),\n          preview: \"New conversation started\"\n        };\n        const updatedSessions = [newChatSession, ...chatSessions];\n        setChatSessions(updatedSessions);\n        localStorage.setItem('chatSessions', JSON.stringify(updatedSessions));\n        setCurrentChatId(newChatId);\n        localStorage.setItem('currentChatId', newChatId);\n        setMessages([{\n          text: \"Hello! I'm MoodMate, your mental health companion. How are you feeling today?\",\n          sender: \"bot\"\n        }]);\n        setShowNewChatModal(false);\n      }\n    } catch (error) {\n      console.error(\"Error starting new chat:\", error);\n      // Fallback to local new chat\n      const newChatId = Date.now().toString();\n      const newChatSession = {\n        id: newChatId,\n        title: \"New Chat\",\n        timestamp: new Date().toISOString(),\n        preview: \"New conversation started\"\n      };\n      const updatedSessions = [newChatSession, ...chatSessions];\n      setChatSessions(updatedSessions);\n      localStorage.setItem('chatSessions', JSON.stringify(updatedSessions));\n      setCurrentChatId(newChatId);\n      localStorage.setItem('currentChatId', newChatId);\n      setMessages([{\n        text: \"Hello! I'm MoodMate, your mental health companion. How are you feeling today?\",\n        sender: \"bot\"\n      }]);\n      setShowNewChatModal(false);\n    }\n  };\n  const switchToChat = chatId => {\n    setCurrentChatId(chatId);\n    localStorage.setItem('currentChatId', chatId);\n    loadChatHistory(chatId);\n  };\n  const sendMessage = async () => {\n    if (!input.trim() || !isLoggedIn) return;\n    const userMsg = {\n      text: input,\n      sender: \"user\"\n    };\n    setMessages(prev => [...prev, userMsg]);\n    setInput(\"\");\n    setIsTyping(true);\n\n    // Check for emergency keywords\n    const emergencyKeywords = ['suicide', 'kill myself', 'end it all', 'want to die', 'self harm', 'hurt myself'];\n    const hasEmergency = emergencyKeywords.some(keyword => input.toLowerCase().includes(keyword));\n    if (hasEmergency) {\n      setShowEmergencyModal(true);\n      setIsTyping(false);\n      return;\n    }\n\n    // Simulate typing animation\n    simulateTyping();\n    try {\n      let token = localStorage.getItem('accessToken');\n      // Check if token exists and is valid\n      if (!token) {\n        throw new Error(\"No authentication token\");\n      }\n      const requestOptions = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          message: input\n        })\n      };\n      let response = await fetch('http://localhost:5000/api/chat', requestOptions);\n\n      // Handle 401 specifically - try to refresh token\n      if (response.status === 401) {\n        token = await refreshToken();\n        requestOptions.headers.Authorization = `Bearer ${token}`;\n        response = await fetch('http://localhost:5000/api/chat', requestOptions);\n      }\n      if (!response.ok) {\n        throw new Error(\"API error\");\n      }\n      const data = await response.json();\n      handleChatResponse(data);\n    } catch (error) {\n      console.log(\"Chat error:\", error);\n      // Fallback response\n      const botMsg = {\n        text: \"I'm here for you. Would you like to talk more about how you're feeling?\",\n        sender: \"bot\"\n      };\n      setMessages(prev => [...prev, botMsg]);\n    }\n    setIsTyping(false);\n    setTypingIndicator(\"\");\n  };\n  const handleChatResponse = data => {\n    const botMsg = {\n      text: data.reply,\n      sender: \"bot\",\n      mood: data.mood,\n      moodEmoji: data.moodEmoji,\n      phrase: data.phrase,\n      audioUrl: data.audioUrl\n    };\n    setMessages(prev => [...prev, botMsg]);\n\n    // Update user data if coins were earned\n    if (data.coinsEarned > 0) {\n      const newCoins = ((user === null || user === void 0 ? void 0 : user.coins) || 0) + data.coinsEarned;\n      const updatedUser = {\n        ...user,\n        coins: newCoins,\n        streak: data.streak\n      };\n      setUser(updatedUser);\n      localStorage.setItem('user', JSON.stringify(updatedUser));\n    }\n\n    // Play audio if available and enabled\n    if (data.audioUrl && audioEnabled) {\n      if (audioRef.current) {\n        audioRef.current.src = `http://localhost:5000${data.audioUrl}`;\n        audioRef.current.play().catch(e => console.log(\"Audio play error:\", e));\n      }\n    }\n\n    // Update current chat session preview\n    if (currentChatId && chatSessions.length > 0) {\n      const updatedSessions = chatSessions.map(session => {\n        if (session.id === currentChatId) {\n          return {\n            ...session,\n            preview: input.substring(0, 30) + (input.length > 30 ? \"...\" : \"\"),\n            timestamp: new Date().toISOString()\n          };\n        }\n        return session;\n      });\n      setChatSessions(updatedSessions);\n      localStorage.setItem('chatSessions', JSON.stringify(updatedSessions));\n    }\n  };\n  const addJournalEntry = async () => {\n    const entryText = prompt(\"What's on your mind today?\");\n    if (!entryText) return;\n    try {\n      const token = localStorage.getItem('accessToken');\n      const response = await fetch('http://localhost:5000/api/journal', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          text: entryText\n        })\n      });\n      if (response.ok) {\n        const data = await response.json();\n\n        // Reload journal entries\n        const journalResponse = await fetch('http://localhost:5000/api/journal', {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        if (journalResponse.ok) {\n          const journalData = await journalResponse.json();\n          setJournalEntries(journalData.entries || []);\n        }\n\n        // Update user coins\n        const updatedUser = {\n          ...user,\n          coins: ((user === null || user === void 0 ? void 0 : user.coins) || 0) + data.coinsEarned\n        };\n        setUser(updatedUser);\n        localStorage.setItem('user', JSON.stringify(updatedUser));\n        alert(\"Journal entry saved! +3 coins earned!\");\n      } else {\n        alert(\"Failed to save journal entry\");\n      }\n    } catch (error) {\n      console.error(\"Error adding journal entry:\", error);\n      alert(\"Failed to save journal entry\");\n    }\n  };\n  const shareJournalEntry = async entryId => {\n    try {\n      const token = localStorage.getItem('accessToken');\n      const response = await fetch('http://localhost:5000/api/journal', {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          id: entryId,\n          shared: true\n        })\n      });\n      if (response.ok) {\n        // Reload journal entries\n        const journalResponse = await fetch('http://localhost:5000/api/journal', {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        if (journalResponse.ok) {\n          const journalData = await journalResponse.json();\n          setJournalEntries(journalData.entries || []);\n        }\n        alert(\"Journal entry shared to your tribes!\");\n      } else {\n        alert(\"Failed to share journal entry\");\n      }\n    } catch (error) {\n      console.error(\"Error sharing journal entry:\", error);\n      alert(\"Failed to share journal entry\");\n    }\n  };\n  const addMoodWallPost = async () => {\n    const postText = prompt(\"Share your feelings with the community (anonymous):\");\n    if (!postText) return;\n    try {\n      const token = localStorage.getItem('accessToken');\n      const response = await fetch('http://localhost:5000/api/moodwall', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          text: postText,\n          anonymous: true\n        })\n      });\n      if (response.ok) {\n        // Reload mood wall\n        const moodWallResponse = await fetch('http://localhost:5000/api/moodwall', {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        if (moodWallResponse.ok) {\n          const moodWallData = await moodWallResponse.json();\n          setMoodWall(moodWallData.posts || []);\n        }\n        alert(\"Posted to mood wall!\");\n      } else {\n        alert(\"Failed to post to mood wall\");\n      }\n    } catch (error) {\n      console.error(\"Error adding mood wall post:\", error);\n      alert(\"Failed to post to mood wall\");\n    }\n  };\n  const joinTribe = async tribeId => {\n    try {\n      const token = localStorage.getItem('accessToken');\n      const response = await fetch('http://localhost:5000/api/moodtribes/join', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          tribe_id: tribeId\n        })\n      });\n      if (response.ok) {\n        // Reload tribes\n        const tribesResponse = await fetch('http://localhost:5000/api/moodtribes', {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        if (tribesResponse.ok) {\n          const tribesData = await tribesResponse.json();\n          setMoodTribes(tribesData.tribes || []);\n        }\n\n        // Reload profile to get updated tribes\n        const profileResponse = await fetch('http://localhost:5000/api/profile', {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        if (profileResponse.ok) {\n          const profileData = await profileResponse.json();\n          setUserTribes(profileData.tribes || []);\n        }\n        alert(\"ðŸŽ‰ You've joined the tribe!\");\n      } else {\n        alert(\"Failed to join tribe\");\n      }\n    } catch (error) {\n      console.error(\"Error joining tribe:\", error);\n      alert(\"Failed to join tribe\");\n    }\n  };\n  const sendTribeMessage = async tribeId => {\n    if (!tribeInput.trim()) return;\n    try {\n      const token = localStorage.getItem('accessToken');\n      const response = await fetch(`http://localhost:5000/api/tribes/${tribeId}/chat`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          message: tribeInput\n        })\n      });\n      if (response.ok) {\n        const newMessage = {\n          id: Date.now(),\n          message: tribeInput,\n          user_name: \"You\",\n          timestamp: new Date().toISOString()\n        };\n        setTribeChatMessages(prev => ({\n          ...prev,\n          [tribeId]: [...(prev[tribeId] || []), newMessage]\n        }));\n        setTribeInput(\"\");\n      } else {\n        alert(\"Failed to send message\");\n      }\n    } catch (error) {\n      console.error(\"Error sending tribe message:\", error);\n      alert(\"Failed to send message\");\n    }\n  };\n  const startExercise = exercise => {\n    setActiveExercise(exercise);\n    setExerciseProgress(0);\n\n    // Start exercise timer\n    const interval = setInterval(() => {\n      setExerciseProgress(prev => {\n        if (prev >= 100) {\n          clearInterval(interval);\n          return 100;\n        }\n        return prev + 100 / (exercise.duration * 10);\n      });\n    }, 100);\n  };\n  const buyItem = async item => {\n    if (user.coins < item.price) {\n      alert(\"Not enough coins!\");\n      return;\n    }\n    if (window.confirm(`Buy ${item.name} for ${item.price} coins?`)) {\n      try {\n        const token = localStorage.getItem('accessToken');\n        const response = await fetch('http://localhost:5000/api/shop/purchase', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n          },\n          body: JSON.stringify({\n            item_id: item.id\n          })\n        });\n        if (response.ok) {\n          const data = await response.json();\n\n          // Update user coins\n          const updatedUser = {\n            ...user,\n            coins: data.remainingCoins\n          };\n          setUser(updatedUser);\n          localStorage.setItem('user', JSON.stringify(updatedUser));\n          if (item.category === \"theme\") {\n            setCurrentTheme(item.name.toLowerCase().replace(' theme', ''));\n            localStorage.setItem('theme', item.name.toLowerCase().replace(' theme', ''));\n            alert(`Theme applied! You're now using the ${item.name}.`);\n          } else if (item.name === \"Second Chance Token\") {\n            localStorage.setItem('secondChanceToken', 'true');\n            alert(\"Second Chance Token purchased! This will save your streak if you miss a day.\");\n          } else if (item.name === \"Custom Voice\") {\n            alert(\"Custom Voice purchased! Your AI companion will now use a personalized voice.\");\n          } else if (item.name === \"Meditation Pack\") {\n            alert(\"Meditation Pack purchased! You now have access to exclusive meditation content.\");\n          } else {\n            alert(`Purchased ${item.name}!`);\n          }\n        } else {\n          alert(\"Purchase failed\");\n        }\n      } catch (error) {\n        console.error(\"Error purchasing item:\", error);\n        alert(\"Purchase failed\");\n      }\n    }\n  };\n  const applyTheme = themeName => {\n    setCurrentTheme(themeName);\n    localStorage.setItem('theme', themeName);\n  };\n  const toggleAudio = async () => {\n    const newAudioEnabled = !audioEnabled;\n    setAudioEnabled(newAudioEnabled);\n    localStorage.setItem('audioEnabled', newAudioEnabled);\n    try {\n      const token = localStorage.getItem('accessToken');\n      await fetch('http://localhost:5000/api/audio/enable', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          enable_voice: newAudioEnabled\n        })\n      });\n    } catch (error) {\n      console.error(\"Error updating audio settings:\", error);\n    }\n  };\n  const toggleMusic = async () => {\n    const newMusicEnabled = !musicEnabled;\n    setMusicEnabled(newMusicEnabled);\n    localStorage.setItem('musicEnabled', newMusicEnabled);\n    try {\n      const token = localStorage.getItem('accessToken');\n      await fetch('http://localhost:5000/api/audio/enable', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          enable_music: newMusicEnabled\n        })\n      });\n    } catch (error) {\n      console.error(\"Error updating music settings:\", error);\n    }\n  };\n  const switchAiProvider = async provider => {\n    setAiProvider(provider);\n    localStorage.setItem('aiProvider', provider);\n    try {\n      const token = localStorage.getItem('accessToken');\n      await fetch('http://localhost:5000/api/ai/switch', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          provider\n        })\n      });\n    } catch (error) {\n      console.error(\"Error switching AI provider:\", error);\n    }\n  };\n  const EmergencyModal = () => {\n    if (!showEmergencyModal) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"emergency-modal\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"emergency-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u26A0\\uFE0F We're concerned about you\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1097,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Please choose an option below. Your safety matters \\uD83D\\uDC99\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1098,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"emergency-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"emergency-call\",\n            onClick: () => {\n              window.open('tel:1-800-273-8255');\n              setShowEmergencyModal(false);\n            },\n            children: \"Call for Help \\uD83D\\uDD34\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1101,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"emergency-resources\",\n            onClick: () => {\n              alert(\"Crisis Resources:\\n\\n1. National Suicide Prevention Lifeline: 1-800-273-8255\\n2. Crisis Text Line: Text HOME to 741741\\n3. iCall India: +91-9152987821\");\n              setShowEmergencyModal(false);\n            },\n            children: \"Show Resources \\uD83D\\uDCCB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1111,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"emergency-ok\",\n            onClick: () => setShowEmergencyModal(false),\n            children: \"I'm Fine Now \\u2705\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1121,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1100,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1096,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1095,\n      columnNumber: 7\n    }, this);\n  };\n  const NewChatModal = () => {\n    if (!showNewChatModal) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Start New Chat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1139,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Are you sure you want to start a new chat? Your current conversation will be cleared.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: startNewChat,\n            className: \"btn-primary\",\n            children: \"Yes, Start New Chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1142,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowNewChatModal(false),\n            className: \"btn-secondary\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1143,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1141,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1138,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1137,\n      columnNumber: 7\n    }, this);\n  };\n  const ExerciseModal = () => {\n    if (!activeExercise) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content exercise-modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [activeExercise.icon, \" \", activeExercise.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: activeExercise.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1157,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"exercise-progress\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress-bar\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"progress-fill\",\n              style: {\n                width: `${exerciseProgress}%`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1161,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1160,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [Math.round(exerciseProgress), \"% Complete\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1166,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1159,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"exercise-steps\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Steps:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1170,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n            children: activeExercise.steps.map((step, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: step\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1173,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1171,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1169,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveExercise(null),\n          className: \"btn-primary\",\n          children: \"Finish Exercise\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1178,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1155,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1154,\n      columnNumber: 7\n    }, this);\n  };\n  const TribeCommunity = () => {\n    if (!activeTribe) return null;\n    const tribeChat = tribeChatMessages[activeTribe.id] || [];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tribe-community\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tribe-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveTribe(null),\n          className: \"back-btn\",\n          children: \"\\u2190 Back to Communities\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1197,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [activeTribe.name, \" Community\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: activeTribe.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1201,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tribe-stats\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\uD83D\\uDC65 \", activeTribe.member_count, \" members\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1203,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\uD83D\\uDCAC \", tribeChat.length, \" messages\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1204,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1202,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1196,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tribe-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tribe-chat\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Community Chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1210,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tribe-messages\",\n            children: tribeChat.map(msg => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tribe-message\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-avatar\",\n                children: msg.user_name.charAt(0)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1214,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"message-sender\",\n                  children: msg.user_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1216,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: msg.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1217,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"message-time\",\n                  children: new Date(msg.timestamp).toLocaleTimeString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1218,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1215,\n                columnNumber: 19\n              }, this)]\n            }, `tribe-msg-${msg.id}-${Date.now()}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1213,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1211,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tribe-input\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Share something with the community...\",\n              value: tribeInput,\n              onChange: e => setTribeInput(e.target.value),\n              onKeyDown: e => e.key === \"Enter\" && sendTribeMessage(activeTribe.id)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1225,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => sendTribeMessage(activeTribe.id),\n              children: \"Send\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1232,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1224,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tribe-resources\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Community Resources\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1237,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"resource-list\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"resource-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Mindfulness Exercises\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1240,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Guided meditation for beginners\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1241,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                children: \"View\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1242,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1239,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"resource-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Support Threads\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1245,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Connect with others who understand\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1246,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                children: \"Explore\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1247,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1244,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"resource-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Weekly Challenges\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1250,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Join community wellness challenges\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1251,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                children: \"Participate\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1252,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1249,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1238,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1236,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1208,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1195,\n      columnNumber: 7\n    }, this);\n  };\n  const Sidebar = () => {\n    if (!sidebarOpen) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar-overlay\",\n      onClick: () => setSidebarOpen(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sidebar-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"MoodMate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1268,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setSidebarOpen(false),\n            className: \"close-btn\",\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1269,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1267,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sidebar-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sidebar-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Chat Sessions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1274,\n              columnNumber: 15\n            }, this), chatSessions.map(session => /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                switchToChat(session.id);\n                setSidebarOpen(false);\n              },\n              className: `sidebar-btn ${currentChatId === session.id ? \"active\" : \"\"}`,\n              children: [\"\\uD83D\\uDCAC \", session.title]\n            }, session.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1276,\n              columnNumber: 17\n            }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowNewChatModal(true);\n                setSidebarOpen(false);\n              },\n              className: \"sidebar-btn new-chat-btn\",\n              children: \"+ New Chat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1284,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1273,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sidebar-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Navigation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1293,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setActiveTab(\"chat\");\n                setSidebarOpen(false);\n              },\n              className: `sidebar-btn ${activeTab === \"chat\" ? \"active\" : \"\"}`,\n              children: \"\\uD83D\\uDCAC Chat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1294,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setActiveTab(\"exercises\");\n                setSidebarOpen(false);\n              },\n              className: `sidebar-btn ${activeTab === \"exercises\" ? \"active\" : \"\"}`,\n              children: \"\\uD83E\\uDDD8\\u200D\\u2642\\uFE0F Exercises\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1300,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setActiveTab(\"journal\");\n                setSidebarOpen(false);\n              },\n              className: `sidebar-btn ${activeTab === \"journal\" ? \"active\" : \"\"}`,\n              children: \"\\uD83D\\uDCD3 Journal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1306,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setActiveTab(\"therapy\");\n                setSidebarOpen(false);\n              },\n              className: `sidebar-btn ${activeTab === \"therapy\" ? \"active\" : \"\"}`,\n              children: \"\\uD83D\\uDC68\\u200D\\u2695\\uFE0F Therapy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1312,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setActiveTab(\"community\");\n                setSidebarOpen(false);\n              },\n              className: `sidebar-btn ${activeTab === \"community\" ? \"active\" : \"\"}`,\n              children: \"\\uD83C\\uDF0D Community\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1318,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setActiveTab(\"shop\");\n                setSidebarOpen(false);\n              },\n              className: `sidebar-btn ${activeTab === \"shop\" ? \"active\" : \"\"}`,\n              children: \"\\uD83D\\uDED2 Shop\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1324,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setActiveTab(\"profile\");\n                setSidebarOpen(false);\n              },\n              className: `sidebar-btn ${activeTab === \"profile\" ? \"active\" : \"\"}`,\n              children: \"\\uD83D\\uDC64 Profile\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1330,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1292,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sidebar-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Settings\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1339,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Voice Responses\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1341,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"switch\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: audioEnabled,\n                  onChange: toggleAudio\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1343,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"slider\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1344,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1342,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1340,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Background Music\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1348,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"switch\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: musicEnabled,\n                  onChange: toggleMusic\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1350,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"slider\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1351,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1349,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1347,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"AI Provider\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1355,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: aiProvider,\n                onChange: e => switchAiProvider(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"gemini\",\n                  children: \"Gemini AI\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1357,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"fallback\",\n                  children: \"Fallback Mode\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1358,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1356,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1354,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1338,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1272,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1266,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1265,\n      columnNumber: 7\n    }, this);\n  };\n  if (!isLoggedIn) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-container auth-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\uD83C\\uDF19 MoodMate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1372,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Your mental health companion\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1373,\n          columnNumber: 11\n        }, this), showLogin && /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleLogin,\n          className: \"auth-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1377,\n            columnNumber: 15\n          }, this), loginError && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-message\",\n            children: loginError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1378,\n            columnNumber: 30\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            placeholder: \"Email\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1379,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"password\",\n            placeholder: \"Password\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1380,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1381,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"auth-links\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"auth-link\",\n              onClick: () => setShowRegister(true),\n              children: \"Create Account\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1384,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"auth-link\",\n              onClick: () => setShowForgotPassword(true),\n              children: \"Forgot Password?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1387,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1383,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1376,\n          columnNumber: 13\n        }, this), showRegister && /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleRegister,\n          className: \"auth-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1396,\n            columnNumber: 15\n          }, this), registerError && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-message\",\n            children: registerError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1397,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            placeholder: \"Full Name\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1398,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            placeholder: \"Email\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1399,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"password\",\n            placeholder: \"Password (min 8 chars)\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1400,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"confirmPassword\",\n            placeholder: \"Confirm Password\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1401,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1402,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Already have an account?\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"auth-link\",\n              onClick: () => setShowRegister(false),\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1405,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1403,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1395,\n          columnNumber: 13\n        }, this), showForgotPassword && /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleForgotPassword,\n          className: \"auth-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Reset Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1414,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            placeholder: \"Your Email\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1415,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Send Reset Instructions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1416,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Remember your password?\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"auth-link\",\n              onClick: () => setShowForgotPassword(false),\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1419,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1417,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1413,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1371,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1370,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `app-container ${currentTheme}-theme`,\n    children: [/*#__PURE__*/_jsxDEV(\"audio\", {\n      ref: audioRef,\n      style: {\n        display: 'none'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1432,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n      ref: backgroundMusicRef,\n      loop: true,\n      style: {\n        display: 'none'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"source\", {\n        src: \"/calm-background-music.mp3\",\n        type: \"audio/mpeg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1434,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1433,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(EmergencyModal, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1437,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NewChatModal, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1438,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ExerciseModal, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1439,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1440,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"app-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setSidebarOpen(true),\n          className: \"menu-btn\",\n          children: \"\\u2630\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1444,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\uD83C\\uDF19 MoodMate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1445,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-stats\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"streak-display\",\n            children: [\"\\uD83D\\uDD25 \", (user === null || user === void 0 ? void 0 : user.streak) || 0, \" day streak\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1447,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\uD83E\\uDE99 \", (user === null || user === void 0 ? void 0 : user.coins) || 0, \" coins\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1448,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1446,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1443,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-right\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"user-name\",\n            children: user === null || user === void 0 ? void 0 : user.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1453,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"user-status\",\n            children: \"Online\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1454,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1452,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLogout,\n          className: \"logout-btn\",\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1456,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1451,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1442,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"app-nav\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: activeTab === \"chat\" ? \"active\" : \"\",\n        onClick: () => setActiveTab(\"chat\"),\n        children: \"\\uD83D\\uDCAC Chat\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1461,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: activeTab === \"exercises\" ? \"active\" : \"\",\n        onClick: () => setActiveTab(\"exercises\"),\n        children: \"\\uD83E\\uDDD8\\u200D\\u2642\\uFE0F Exercises\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1467,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: activeTab === \"journal\" ? \"active\" : \"\",\n        onClick: () => setActiveTab(\"journal\"),\n        children: \"\\uD83D\\uDCD3 Journal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1473,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: activeTab === \"therapy\" ? \"active\" : \"\",\n        onClick: () => setActiveTab(\"therapy\"),\n        children: \"\\uD83D\\uDC68\\u200D\\u2695\\uFE0F Therapy\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1479,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: activeTab === \"community\" ? \"active\" : \"\",\n        onClick: () => setActiveTab(\"community\"),\n        children: \"\\uD83C\\uDF0D Community\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1485,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: activeTab === \"shop\" ? \"active\" : \"\",\n        onClick: () => setActiveTab(\"shop\"),\n        children: \"\\uD83D\\uDED2 Shop\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1491,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: activeTab === \"profile\" ? \"active\" : \"\",\n        onClick: () => setActiveTab(\"profile\"),\n        children: \"\\uD83D\\uDC64 Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1497,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1460,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"app-main\",\n      children: [activeTab === \"chat\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-tab\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Chat with MoodMate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1509,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowNewChatModal(true),\n            className: \"new-chat-btn\",\n            children: \"+ New Chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1510,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1508,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-box\",\n          children: [messages.map((msg, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `chat-message ${msg.sender} ${msg.isReward ? 'reward' : ''} ${msg.isExercise ? 'exercise' : ''}`,\n            children: [msg.sender === \"bot\" && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"avatar bot-avatar\",\n              children: \"\\uD83E\\uDD16\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1518,\n              columnNumber: 21\n            }, this), msg.sender === \"user\" && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"avatar user-avatar\",\n              children: \"\\uD83D\\uDC64\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1521,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bubble\",\n              children: [msg.text, msg.moodEmoji && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mood-indicator\",\n                children: [msg.moodEmoji, \" \", msg.phrase]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1526,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1523,\n              columnNumber: 19\n            }, this)]\n          }, `msg-${i}-${msg.timestamp || Date.now()}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1516,\n            columnNumber: 17\n          }, this)), isTyping && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-message bot\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"avatar bot-avatar\",\n              children: \"\\uD83E\\uDD16\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1536,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bubble typing\",\n              children: typingIndicator || \"...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1537,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1535,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: chatEndRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1543,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1514,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-area\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"How are you feeling today?\",\n            value: input,\n            onChange: e => setInput(e.target.value),\n            onKeyDown: e => e.key === \"Enter\" && sendMessage()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1547,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: sendMessage,\n            className: \"send-btn\",\n            children: \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1554,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1546,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1507,\n        columnNumber: 11\n      }, this), activeTab === \"exercises\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"exercises-tab\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"exercises-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\uD83E\\uDDD8\\u200D\\u2642\\uFE0F Wellness Exercises\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1562,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Practice these exercises to improve your mental wellbeing\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1563,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1561,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"exercises-categories\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"category-btn active\",\n            children: \"All Exercises\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1567,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"category-btn\",\n            children: \"Breathing\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1568,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"category-btn\",\n            children: \"Meditation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1569,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"category-btn\",\n            children: \"Mindfulness\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1570,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1566,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"exercises-grid\",\n          children: exercises.map(exercise => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"exercise-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"exercise-icon\",\n              children: exercise.icon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1576,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"exercise-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: exercise.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1578,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: exercise.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1579,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"exercise-meta\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"\\u23F1\\uFE0F \", exercise.duration, \" min\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1581,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u2B50 Beginner\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1582,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1580,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1577,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => startExercise(exercise),\n              className: \"start-exercise-btn\",\n              children: \"Start\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1585,\n              columnNumber: 19\n            }, this)]\n          }, `exercise-${exercise.id}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1575,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1573,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1560,\n        columnNumber: 11\n      }, this), activeTab === \"journal\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"journal-tab\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"journal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Your Journal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1600,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: addJournalEntry,\n            className: \"add-entry-btn\",\n            children: \"+ New Entry\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1601,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1599,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"journal-entries\",\n          children: journalEntries.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-state\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"No journal entries yet. Write your first entry!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1609,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: addJournalEntry,\n              children: \"Start Journaling\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1610,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1608,\n            columnNumber: 17\n          }, this) : journalEntries.map((entry, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"journal-entry\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"entry-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"entry-date\",\n                children: entry.date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1616,\n                columnNumber: 23\n              }, this), !entry.shared && userTribes.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => shareJournalEntry(entry.id),\n                className: \"share-btn\",\n                title: \"Share to your tribes\",\n                children: \"Share\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1618,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1615,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"entry-text\",\n              children: entry.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1627,\n              columnNumber: 21\n            }, this), entry.summary && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"entry-summary\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Summary:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1630,\n                columnNumber: 25\n              }, this), \" \", entry.summary]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1629,\n              columnNumber: 23\n            }, this), entry.mood && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"entry-mood\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Mood:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1635,\n                columnNumber: 25\n              }, this), \" \", entry.mood]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1634,\n              columnNumber: 23\n            }, this)]\n          }, `entry-${entry.id}-${index}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1614,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1606,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1598,\n        columnNumber: 11\n      }, this), activeTab === \"therapy\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"therapy-tab\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"resources-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83C\\uDD98 Crisis Resources\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1648,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"resources-grid\",\n            children: resources.filter(r => r.type === 'crisis').map((resource, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"resource-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: resource.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1652,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: resource.number\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1653,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                children: resource.available\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1654,\n                columnNumber: 21\n              }, this), resource.number && /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"call-btn\",\n                onClick: () => window.open(`tel:${resource.number.replace(/\\D/g, '')}`),\n                children: \"\\uD83D\\uDCDE Call Now\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1656,\n                columnNumber: 23\n              }, this)]\n            }, `resource-${index}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1651,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1649,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1647,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"therapists-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83D\\uDC68\\u200D\\u2695\\uFE0F Professional Therapists\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1669,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"therapists-grid\",\n            children: therapists.map(therapist => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"therapist-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"therapist-avatar\",\n                children: therapist.avatar\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1673,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: therapist.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1674,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: therapist.specialization\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1675,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\u2B50 \", therapist.rating, \" \\u2022 \", therapist.experience]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1676,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\uD83E\\uDE99 \", therapist.price, \" coins/session\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1677,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"book-btn\",\n                disabled: (user === null || user === void 0 ? void 0 : user.coins) < therapist.price,\n                children: (user === null || user === void 0 ? void 0 : user.coins) >= therapist.price ? \"Book Session\" : \"Not Enough Coins\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1678,\n                columnNumber: 21\n              }, this)]\n            }, `therapist-${therapist.id}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1672,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1670,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1668,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1646,\n        columnNumber: 11\n      }, this), activeTab === \"community\" && activeTribe ? /*#__PURE__*/_jsxDEV(TribeCommunity, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1692,\n        columnNumber: 11\n      }, this) : activeTab === \"community\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"community-tab\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"community-layout\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mood-wall-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\uD83C\\uDF0D Community Mood Wall\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1697,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: addMoodWallPost,\n              className: \"add-post-btn\",\n              children: \"+ Share Your Feelings\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1698,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mood-wall\",\n              children: moodWall.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"empty-state\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Be the first to share your thoughts with the community!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1702,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1701,\n                columnNumber: 21\n              }, this) : moodWall.slice(0, 3).map((post, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mood-post\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: post.text\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1707,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"post-footer\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"post-reactions\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      children: \"\\uD83D\\uDC96\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1710,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      children: \"\\uD83E\\uDD17\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1711,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      children: \"\\uD83D\\uDC4D\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1712,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1709,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"post-time\",\n                    children: new Date(post.timestamp).toLocaleDateString()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1714,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1708,\n                  columnNumber: 25\n                }, this)]\n              }, `post-${post.id}-${index}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1706,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1699,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1696,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tribes-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\uD83C\\uDFAF Mood Tribes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1723,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tribes-grid\",\n              children: moodTribes.map(tribe => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"tribe-card\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: tribe.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1727,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: tribe.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1728,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"member-count\",\n                  children: [\"\\uD83D\\uDC65 \", tribe.member_count, \" members\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1729,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => tribe.is_member ? setActiveTribe(tribe) : joinTribe(tribe.id),\n                  className: tribe.is_member ? \"joined-btn\" : \"join-btn\",\n                  children: tribe.is_member ? \"Visit Community\" : \"Join Tribe\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1730,\n                  columnNumber: 23\n                }, this)]\n              }, `tribe-${tribe.id}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1726,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1724,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1722,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1695,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1694,\n        columnNumber: 11\n      }, this) : null, activeTab === \"shop\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shop-tab\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD83D\\uDED2 MoodMate Shop\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1746,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Use your Mood Coins to unlock special features and customization options!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1747,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"shop-categories\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"category-btn active\",\n            children: \"All Items\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1750,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"category-btn\",\n            children: \"Themes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1751,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"category-btn\",\n            children: \"Cosmetics\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1752,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"category-btn\",\n            children: \"Content\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1753,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"category-btn\",\n            children: \"Utilities\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1754,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1749,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"shop-grid\",\n          children: shopItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shop-item-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item-image\",\n              children: [item.category === \"theme\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `theme-preview ${item.name.toLowerCase().replace(' theme', '')}-theme`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1761,\n                columnNumber: 51\n              }, this), item.category === \"cosmetic\" && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"item-icon\",\n                children: \"\\uD83C\\uDFA8\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1762,\n                columnNumber: 54\n              }, this), item.category === \"content\" && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"item-icon\",\n                children: \"\\uD83D\\uDCDA\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1763,\n                columnNumber: 53\n              }, this), item.category === \"utility\" && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"item-icon\",\n                children: \"\\u26A1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1764,\n                columnNumber: 53\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1760,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1767,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: item.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1768,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-price\",\n                children: [\"\\uD83E\\uDE99 \", item.price, \" coins\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1769,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => buyItem(item),\n                disabled: (user === null || user === void 0 ? void 0 : user.coins) < item.price,\n                className: (user === null || user === void 0 ? void 0 : user.coins) >= item.price ? \"buy-btn\" : \"disabled-btn\",\n                children: (user === null || user === void 0 ? void 0 : user.coins) >= item.price ? \"Purchase\" : \"Not Enough Coins\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1770,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1766,\n              columnNumber: 19\n            }, this)]\n          }, `shop-item-${item.id}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1759,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1757,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1745,\n        columnNumber: 11\n      }, this), activeTab === \"profile\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-tab\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-avatar\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"avatar-image\",\n              children: (user === null || user === void 0 ? void 0 : (_user$name = user.name) === null || _user$name === void 0 ? void 0 : _user$name.charAt(0)) || 'U'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1788,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-badge\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\uD83D\\uDD25 \", (user === null || user === void 0 ? void 0 : user.streak) || 0]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1792,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1791,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1787,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: user === null || user === void 0 ? void 0 : user.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1796,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"member-since\",\n              children: \"Active Member\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1797,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-stats\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: (user === null || user === void 0 ? void 0 : user.streak) || 0\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1801,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Day Streak\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1802,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1800,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: (user === null || user === void 0 ? void 0 : user.coins) || 0\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1805,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Mood Coins\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1806,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1804,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: userTribes.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1809,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Tribes Joined\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1810,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1808,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: journalEntries.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1813,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Journal Entries\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1814,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1812,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1799,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1795,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1786,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83D\\uDD25 Streak Progress\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1821,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"streak-progress\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"streak-days\",\n              children: [7, 30, 90, 180, 365].map(day => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `streak-milestone ${(user === null || user === void 0 ? void 0 : user.streak) >= day ? 'achieved' : ''}`,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"milestone-day\",\n                  children: day\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1826,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"milestone-label\",\n                  children: [day, \" Days\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1827,\n                  columnNumber: 23\n                }, this)]\n              }, `milestone-${day}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1825,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1823,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"streak-bar\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"streak-progress-bar\",\n                style: {\n                  width: `${Math.min(100, (user === null || user === void 0 ? void 0 : user.streak) / 365 * 100)}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1832,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1831,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"current-streak\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Current Streak: \", (user === null || user === void 0 ? void 0 : user.streak) || 0, \" days\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1838,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Next milestone: \", (user === null || user === void 0 ? void 0 : user.streak) < 7 ? 7 : (user === null || user === void 0 ? void 0 : user.streak) < 30 ? 30 : (user === null || user === void 0 ? void 0 : user.streak) < 90 ? 90 : (user === null || user === void 0 ? void 0 : user.streak) < 180 ? 180 : 365, \" days\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1839,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1837,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1822,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1820,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83C\\uDFC5 Achievements & Badges\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1845,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"achievements-grid\",\n            children: achievements.map(achievement => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `achievement ${achievement.earned ? 'earned' : 'locked'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"achievement-icon\",\n                children: achievement.icon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1849,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"achievement-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: achievement.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1851,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: achievement.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1852,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1850,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"achievement-status\",\n                children: achievement.earned ? 'âœ“' : 'ðŸ”’'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1854,\n                columnNumber: 21\n              }, this)]\n            }, `achievement-${achievement.id}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1848,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1846,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1844,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83D\\uDC65 My Tribes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1863,\n            columnNumber: 15\n          }, this), userTribes.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"You haven't joined any tribes yet. Visit the Community tab to join one!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1865,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-tribes\",\n            children: userTribes.map(tribe => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-tribe\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: tribe.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1870,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setActiveTribe(tribe),\n                children: \"Visit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1871,\n                columnNumber: 23\n              }, this)]\n            }, `user-tribe-${tribe.id}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1869,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1867,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1862,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u2699\\uFE0F Settings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1881,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"settings-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Voice Responses\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1884,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"switch\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: audioEnabled,\n                  onChange: toggleAudio\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1886,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"slider\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1887,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1885,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1883,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Background Music\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1891,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"switch\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: musicEnabled,\n                  onChange: toggleMusic\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1893,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"slider\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1894,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1892,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1890,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"AI Provider\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1898,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: aiProvider,\n                onChange: e => switchAiProvider(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"gemini\",\n                  children: \"Gemini AI\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1900,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"fallback\",\n                  children: \"Fallback Mode\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1901,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1899,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1897,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1882,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1880,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1785,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1505,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1431,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"LWWtRFl2hF+9StNgwqRWfc+wlRQ=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","App","_s","_user$name","messages","setMessages","input","setInput","isTyping","setIsTyping","user","setUser","isLoggedIn","setIsLoggedIn","showLogin","setShowLogin","showRegister","setShowRegister","showForgotPassword","setShowForgotPassword","activeTab","setActiveTab","journalEntries","setJournalEntries","therapists","setTherapists","resources","setResources","moodWall","setMoodWall","moodTribes","setMoodTribes","shopItems","setShopItems","userTribes","setUserTribes","currentTheme","setCurrentTheme","typingIndicator","setTypingIndicator","showEmergencyModal","setShowEmergencyModal","achievements","setAchievements","activeTribe","setActiveTribe","sidebarOpen","setSidebarOpen","showNewChatModal","setShowNewChatModal","loginError","setLoginError","registerError","setRegisterError","aiProvider","setAiProvider","audioEnabled","setAudioEnabled","musicEnabled","setMusicEnabled","tribeChatMessages","setTribeChatMessages","tribeInput","setTribeInput","lastStreakUpdate","setLastStreakUpdate","chatSessions","setChatSessions","currentChatId","setCurrentChatId","exercises","setExercises","activeExercise","setActiveExercise","exerciseProgress","setExerciseProgress","chatEndRef","audioRef","backgroundMusicRef","breathingExercises","id","name","description","duration","steps","icon","meditationExercises","token","localStorage","getItem","refreshToken","userData","savedTheme","savedTribes","JSON","parse","savedAchievements","savedAiProvider","savedAudio","savedMusic","savedLastStreakUpdate","savedChatSessions","savedCurrentChatId","userObj","loadInitialData","loadChatHistory","updateStreakAndCoins","_chatEndRef$current","current","scrollIntoView","behavior","volume","play","catch","pause","checkBackendConnectivity","response","fetch","ok","console","warn","error","Error","method","headers","body","stringify","data","json","setItem","handleLogout","handleApiError","originalRequest","message","includes","newToken","Authorization","retryResponse","url","refreshError","alert","therapistsResponse","therapistsData","resourcesResponse","resourcesData","tribesResponse","tribesData","tribes","shopResponse","shopData","items","moodWallResponse","moodWallData","posts","journalResponse","journalData","entries","profileResponse","profileData","length","text","sender","chatId","formattedMessages","history","map","msg","content","role","timestamp","reverse","today","Date","toDateString","updatedUser","streak","coins","mentalFitness","simulateTyping","typingPhrases","i","Promise","resolve","setTimeout","handleLogin","e","preventDefault","formData","FormData","target","credentials","email","get","password","handleRegister","confirmPassword","handleForgotPassword","removeItem","startNewChat","newChatId","now","toString","newChatSession","title","toISOString","preview","updatedSessions","switchToChat","sendMessage","trim","userMsg","prev","emergencyKeywords","hasEmergency","some","keyword","toLowerCase","requestOptions","status","handleChatResponse","log","botMsg","reply","mood","moodEmoji","phrase","audioUrl","coinsEarned","newCoins","src","session","substring","addJournalEntry","entryText","prompt","shareJournalEntry","entryId","shared","addMoodWallPost","postText","anonymous","joinTribe","tribeId","tribe_id","sendTribeMessage","newMessage","user_name","startExercise","exercise","interval","setInterval","clearInterval","buyItem","item","price","window","confirm","item_id","remainingCoins","category","replace","applyTheme","themeName","toggleAudio","newAudioEnabled","enable_voice","toggleMusic","newMusicEnabled","enable_music","switchAiProvider","provider","EmergencyModal","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","open","NewChatModal","ExerciseModal","style","width","Math","round","step","index","TribeCommunity","tribeChat","member_count","charAt","toLocaleTimeString","type","placeholder","value","onChange","onKeyDown","key","Sidebar","stopPropagation","checked","onSubmit","required","ref","display","loop","isReward","isExercise","entry","date","summary","filter","r","resource","number","available","therapist","avatar","specialization","rating","experience","disabled","slice","post","toLocaleDateString","tribe","is_member","day","min","achievement","earned","_c","$RefreshReg$"],"sources":["C:/Users/Prabhat singh/Downloads/Best_Project/frontend/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport \"./app.css\";\r\n\r\nfunction App() {\r\n  const [messages, setMessages] = useState([]);\r\n  const [input, setInput] = useState(\"\");\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  const [user, setUser] = useState(null);\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [showLogin, setShowLogin] = useState(true);\r\n  const [showRegister, setShowRegister] = useState(false);\r\n  const [showForgotPassword, setShowForgotPassword] = useState(false);\r\n  const [activeTab, setActiveTab] = useState(\"chat\");\r\n  const [journalEntries, setJournalEntries] = useState([]);\r\n  const [therapists, setTherapists] = useState([]);\r\n  const [resources, setResources] = useState([]);\r\n  const [moodWall, setMoodWall] = useState([]);\r\n  const [moodTribes, setMoodTribes] = useState([]);\r\n  const [shopItems, setShopItems] = useState([]);\r\n  const [userTribes, setUserTribes] = useState([]);\r\n  const [currentTheme, setCurrentTheme] = useState(\"default\");\r\n  const [typingIndicator, setTypingIndicator] = useState(\"\");\r\n  const [showEmergencyModal, setShowEmergencyModal] = useState(false);\r\n  const [achievements, setAchievements] = useState([]);\r\n  const [activeTribe, setActiveTribe] = useState(null);\r\n  const [sidebarOpen, setSidebarOpen] = useState(false);\r\n  const [showNewChatModal, setShowNewChatModal] = useState(false);\r\n  const [loginError, setLoginError] = useState(\"\");\r\n  const [registerError, setRegisterError] = useState(\"\");\r\n  const [aiProvider, setAiProvider] = useState(\"gemini\");\r\n  const [audioEnabled, setAudioEnabled] = useState(true);\r\n  const [musicEnabled, setMusicEnabled] = useState(true);\r\n  const [tribeChatMessages, setTribeChatMessages] = useState({});\r\n  const [tribeInput, setTribeInput] = useState(\"\");\r\n  const [lastStreakUpdate, setLastStreakUpdate] = useState(\"\");\r\n  const [chatSessions, setChatSessions] = useState([]);\r\n  const [currentChatId, setCurrentChatId] = useState(null);\r\n  const [exercises, setExercises] = useState([]);\r\n  const [activeExercise, setActiveExercise] = useState(null);\r\n  const [exerciseProgress, setExerciseProgress] = useState(0);\r\n\r\n  const chatEndRef = useRef(null);\r\n  const audioRef = useRef(null);\r\n  const backgroundMusicRef = useRef(null);\r\n\r\n  // Breathing exercises data\r\n  const breathingExercises = [\r\n    {\r\n      id: 1,\r\n      name: \"Box Breathing\",\r\n      description: \"4-4-4-4 technique for stress relief\",\r\n      duration: 5,\r\n      steps: [\r\n        \"Breathe in for 4 seconds\",\r\n        \"Hold your breath for 4 seconds\",\r\n        \"Exhale slowly for 4 seconds\",\r\n        \"Hold for 4 seconds\",\r\n        \"Repeat\"\r\n      ],\r\n      icon: \"ðŸ§˜â€â™‚ï¸\"\r\n    },\r\n    {\r\n      id: 2,\r\n      name: \"4-7-8 Breathing\",\r\n      description: \"Calming technique for anxiety\",\r\n      duration: 7,\r\n      steps: [\r\n        \"Breathe in for 4 seconds\",\r\n        \"Hold your breath for 7 seconds\",\r\n        \"Exhale completely for 8 seconds\",\r\n        \"Repeat 4 times\"\r\n      ],\r\n      icon: \"ðŸŒ¬ï¸\"\r\n    },\r\n    {\r\n      id: 3,\r\n      name: \"Deep Belly Breathing\",\r\n      description: \"Diaphragmatic breathing for relaxation\",\r\n      duration: 10,\r\n      steps: [\r\n        \"Place one hand on your chest, one on belly\",\r\n        \"Breathe in deeply through nose (4 sec)\",\r\n        \"Feel your belly expand\",\r\n        \"Exhale slowly through mouth (6 sec)\",\r\n        \"Repeat 5-10 times\"\r\n      ],\r\n      icon: \"ðŸ«\"\r\n    },\r\n    {\r\n      id: 4,\r\n      name: \"Alternate Nostril Breathing\",\r\n      description: \"Nadi Shodhana for balance\",\r\n      duration: 8,\r\n      steps: [\r\n        \"Close right nostril with thumb\",\r\n        \"Inhale through left nostril (4 sec)\",\r\n        \"Close both nostrils (hold 4 sec)\",\r\n        \"Open right, exhale through right (6 sec)\",\r\n        \"Inhale through right, repeat cycle\"\r\n      ],\r\n      icon: \"ðŸ‘ƒ\"\r\n    }\r\n  ];\r\n\r\n  // Meditation exercises\r\n  const meditationExercises = [\r\n    {\r\n      id: 5,\r\n      name: \"Body Scan Meditation\",\r\n      description: \"Progressive relaxation technique\",\r\n      duration: 15,\r\n      steps: [\r\n        \"Lie down comfortably\",\r\n        \"Focus attention on your toes\",\r\n        \"Slowly move attention up through body\",\r\n        \"Notice sensations without judgment\",\r\n        \"Release tension in each area\"\r\n      ],\r\n      icon: \"ðŸ”\"\r\n    },\r\n    {\r\n      id: 6,\r\n      name: \"Mindfulness Meditation\",\r\n      description: \"Present moment awareness\",\r\n      duration: 10,\r\n      steps: [\r\n        \"Sit comfortably with straight back\",\r\n        \"Focus on your breath\",\r\n        \"When mind wanders, gently return to breath\",\r\n        \"Notice thoughts without judgment\",\r\n        \"Expand awareness to sounds and sensations\"\r\n      ],\r\n      icon: \"ðŸŒ¿\"\r\n    }\r\n  ];\r\n\r\n  // Load saved session\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('accessToken');\r\n    const refreshToken = localStorage.getItem('refreshToken');\r\n    const userData = localStorage.getItem('user');\r\n    const savedTheme = localStorage.getItem('theme') || 'default';\r\n    const savedTribes = JSON.parse(localStorage.getItem('userTribes') || '[]');\r\n    const savedAchievements = JSON.parse(localStorage.getItem('achievements') || '[]');\r\n    const savedAiProvider = localStorage.getItem('aiProvider') || 'gemini';\r\n    const savedAudio = localStorage.getItem('audioEnabled') !== 'false';\r\n    const savedMusic = localStorage.getItem('musicEnabled') !== 'false';\r\n    const savedLastStreakUpdate = localStorage.getItem('lastStreakUpdate') || '';\r\n    const savedChatSessions = JSON.parse(localStorage.getItem('chatSessions') || '[]');\r\n    const savedCurrentChatId = localStorage.getItem('currentChatId');\r\n    \r\n    if (token && userData) {\r\n      const userObj = JSON.parse(userData);\r\n      setUser(userObj);\r\n      setIsLoggedIn(true);\r\n      setShowLogin(false);\r\n      setCurrentTheme(savedTheme);\r\n      setUserTribes(savedTribes);\r\n      setAchievements(savedAchievements);\r\n      setAiProvider(savedAiProvider);\r\n      setAudioEnabled(savedAudio);\r\n      setMusicEnabled(savedMusic);\r\n      setLastStreakUpdate(savedLastStreakUpdate);\r\n      setChatSessions(savedChatSessions);\r\n      setCurrentChatId(savedCurrentChatId);\r\n      \r\n      // Load initial data\r\n      loadInitialData();\r\n      \r\n      // Load current chat messages if exists\r\n      if (savedCurrentChatId) {\r\n        loadChatHistory(savedCurrentChatId);\r\n      }\r\n      \r\n      // Update streak if it's a new day\r\n      updateStreakAndCoins(userObj);\r\n    }\r\n\r\n    // Set up exercises\r\n    setExercises([...breathingExercises, ...meditationExercises]);\r\n  }, []);\r\n\r\n  // Auto scroll\r\n  useEffect(() => {\r\n    chatEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  }, [messages]);\r\n\r\n  // Handle audio settings\r\n  useEffect(() => {\r\n    if (audioRef.current) {\r\n      audioRef.current.volume = audioEnabled ? 0.7 : 0;\r\n    }\r\n    if (backgroundMusicRef.current) {\r\n      backgroundMusicRef.current.volume = musicEnabled ? 0.3 : 0;\r\n      if (musicEnabled && isLoggedIn) {\r\n        backgroundMusicRef.current.play().catch(() => {});\r\n      } else {\r\n        backgroundMusicRef.current.pause();\r\n      }\r\n    }\r\n  }, [audioEnabled, musicEnabled, isLoggedIn]);\r\n\r\n  // Check backend connectivity on app load\r\n  useEffect(() => {\r\n    checkBackendConnectivity();\r\n  }, []);\r\n\r\n  const checkBackendConnectivity = async () => {\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/health');\r\n      if (!response.ok) {\r\n        console.warn(\"Backend server might be down\");\r\n      }\r\n    } catch (error) {\r\n      console.warn(\"Cannot connect to backend server\", error);\r\n    }\r\n  };\r\n\r\n  const refreshToken = async () => {\r\n    try {\r\n      const refreshToken = localStorage.getItem('refreshToken');\r\n      if (!refreshToken) {\r\n        throw new Error(\"No refresh token available\");\r\n      }\r\n\r\n      const response = await fetch('http://localhost:5000/api/refresh', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ refreshToken })\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        localStorage.setItem('accessToken', data.token);\r\n        return data.token;\r\n      } else {\r\n        throw new Error(\"Token refresh failed\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Token refresh error:\", error);\r\n      handleLogout();\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const handleApiError = async (error, originalRequest = null) => {\r\n    console.error(\"API Error:\", error);\r\n    \r\n    // Handle token expiration\r\n    if (error.message.includes(\"401\") || error.message.includes(\"authentication\")) {\r\n      try {\r\n        // Try to refresh the token\r\n        const newToken = await refreshToken();\r\n        \r\n        // Retry the original request if provided\r\n        if (originalRequest) {\r\n          originalRequest.headers.Authorization = `Bearer ${newToken}`;\r\n          const retryResponse = await fetch(originalRequest.url, originalRequest);\r\n          return retryResponse;\r\n        }\r\n        \r\n        return true;\r\n      } catch (refreshError) {\r\n        console.error(\"Token refresh failed:\", refreshError);\r\n        handleLogout();\r\n        alert(\"Session expired. Please login again.\");\r\n        return false;\r\n      }\r\n    }\r\n    \r\n    return false;\r\n  };\r\n\r\n  const loadInitialData = async () => {\r\n    try {\r\n      const token = localStorage.getItem('accessToken');\r\n      \r\n      // Load therapists\r\n      const therapistsResponse = await fetch('http://localhost:5000/api/therapists', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      if (therapistsResponse.ok) {\r\n        const therapistsData = await therapistsResponse.json();\r\n        setTherapists(therapistsData.therapists || []);\r\n      }\r\n\r\n      // Load resources\r\n      const resourcesResponse = await fetch('http://localhost:5000/api/resources', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      if (resourcesResponse.ok) {\r\n        const resourcesData = await resourcesResponse.json();\r\n        setResources(resourcesData.resources || []);\r\n      }\r\n\r\n      // Load mood tribes\r\n      const tribesResponse = await fetch('http://localhost:5000/api/moodtribes', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      if (tribesResponse.ok) {\r\n        const tribesData = await tribesResponse.json();\r\n        setMoodTribes(tribesData.tribes || []);\r\n      }\r\n\r\n      // Load shop items\r\n      const shopResponse = await fetch('http://localhost:5000/api/shop', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      if (shopResponse.ok) {\r\n        const shopData = await shopResponse.json();\r\n        setShopItems(shopData.items || []);\r\n      }\r\n\r\n      // Load mood wall\r\n      const moodWallResponse = await fetch('http://localhost:5000/api/moodwall', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      if (moodWallResponse.ok) {\r\n        const moodWallData = await moodWallResponse.json();\r\n        setMoodWall(moodWallData.posts || []);\r\n      }\r\n\r\n      // Load journal entries\r\n      const journalResponse = await fetch('http://localhost:5000/api/journal', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      if (journalResponse.ok) {\r\n        const journalData = await journalResponse.json();\r\n        setJournalEntries(journalData.entries || []);\r\n      }\r\n\r\n      // Load profile and achievements\r\n      const profileResponse = await fetch('http://localhost:5000/api/profile', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      if (profileResponse.ok) {\r\n        const profileData = await profileResponse.json();\r\n        setAchievements(profileData.achievements || []);\r\n        setUserTribes(profileData.tribes || []);\r\n      }\r\n\r\n      // If no current chat, start a new one\r\n      if (!currentChatId && messages.length === 0) {\r\n        setMessages([{\r\n          text: \"Hello! I'm MoodMate, your mental health companion. How are you feeling today?\",\r\n          sender: \"bot\"\r\n        }]);\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error(\"Error loading initial data:\", error);\r\n      // Fallback to sample data if backend is unavailable\r\n      setMessages([{\r\n        text: \"Hello! I'm MoodMate, your mental health companion. How are you feeling today?\",\r\n        sender: \"bot\"\r\n      }]);\r\n    }\r\n  };\r\n\r\n  const loadChatHistory = async (chatId) => {\r\n    try {\r\n      const token = localStorage.getItem('accessToken');\r\n      const response = await fetch(`http://localhost:5000/api/chat/history?limit=50`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        const formattedMessages = data.history.map(msg => ({\r\n          text: msg.content,\r\n          sender: msg.role === 'user' ? 'user' : 'bot',\r\n          timestamp: msg.timestamp\r\n        })).reverse();\r\n        \r\n        setMessages(formattedMessages);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error loading chat history:\", error);\r\n    }\r\n  };\r\n  \r\n  const updateStreakAndCoins = async (userObj) => {\r\n    const today = new Date().toDateString();\r\n    \r\n    // If we've already updated today, don't do anything\r\n    if (lastStreakUpdate === today) return;\r\n    \r\n    try {\r\n      const token = localStorage.getItem('accessToken');\r\n      const response = await fetch('http://localhost:5000/api/chat', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ message: \"Daily check-in\" })\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        // Update user data with new streak and coins\r\n        const updatedUser = {\r\n          ...userObj,\r\n          streak: data.streak,\r\n          coins: data.coins,\r\n          mentalFitness: data.mentalFitness\r\n        };\r\n        setUser(updatedUser);\r\n        localStorage.setItem('user', JSON.stringify(updatedUser));\r\n        \r\n        // Update last streak update date\r\n        setLastStreakUpdate(today);\r\n        localStorage.setItem('lastStreakUpdate', today);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error updating streak:\", error);\r\n    }\r\n  };\r\n\r\n  // Simulate typing animation\r\n  const simulateTyping = async () => {\r\n    const typingPhrases = [\"Thinking\", \"Thinking.\", \"Thinking..\", \"Thinking...\"];\r\n    for (let i = 0; i < 6; i++) {\r\n      setTypingIndicator(typingPhrases[i % 4]);\r\n      await new Promise(resolve => setTimeout(resolve, 300));\r\n    }\r\n    setTypingIndicator(\"\");\r\n  };\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    setLoginError(\"\");\r\n    const formData = new FormData(e.target);\r\n    const credentials = {\r\n      email: formData.get('email'),\r\n      password: formData.get('password')\r\n    };\r\n\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/login', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(credentials)\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        // Store both access and refresh tokens\r\n        localStorage.setItem('accessToken', data.token);\r\n        localStorage.setItem('refreshToken', data.refreshToken);\r\n        \r\n        // Store user data\r\n        localStorage.setItem('user', JSON.stringify(data.user));\r\n        localStorage.setItem('lastStreakUpdate', new Date().toDateString());\r\n        \r\n        setUser(data.user);\r\n        setIsLoggedIn(true);\r\n        setShowLogin(false);\r\n        loadInitialData();\r\n      } else {\r\n        setLoginError(data.error || \"Login failed\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Login error:\", error);\r\n      setLoginError(\"Connection error. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const handleRegister = async (e) => {\r\n    e.preventDefault();\r\n    setRegisterError(\"\");\r\n    const formData = new FormData(e.target);\r\n    const userData = {\r\n      name: formData.get('name'),\r\n      email: formData.get('email'),\r\n      password: formData.get('password'),\r\n      confirmPassword: formData.get('confirmPassword')\r\n    };\r\n\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/register', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(userData)\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        // Store both access and refresh tokens\r\n        localStorage.setItem('accessToken', data.token);\r\n        localStorage.setItem('refreshToken', data.refreshToken);\r\n        \r\n        // Store user data\r\n        localStorage.setItem('user', JSON.stringify(data.user));\r\n        localStorage.setItem('lastStreakUpdate', new Date().toDateString());\r\n        \r\n        setUser(data.user);\r\n        setIsLoggedIn(true);\r\n        setShowRegister(false);\r\n        setShowLogin(false);\r\n        loadInitialData();\r\n      } else {\r\n        setRegisterError(data.error || \"Registration failed\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Registration error:\", error);\r\n      setRegisterError(\"Connection error. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const handleForgotPassword = async (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData(e.target);\r\n    const email = formData.get('email');\r\n    \r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/forgot-password', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ email })\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        alert(data.message);\r\n        setShowForgotPassword(false);\r\n        setShowLogin(true);\r\n      } else {\r\n        alert(data.error || \"Failed to send reset instructions\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Forgot password error:\", error);\r\n      alert(\"Password reset feature is not available right now.\");\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('accessToken');\r\n    localStorage.removeItem('refreshToken');\r\n    localStorage.removeItem('user');\r\n    localStorage.removeItem('lastStreakUpdate');\r\n    localStorage.removeItem('chatSessions');\r\n    localStorage.removeItem('currentChatId');\r\n    setUser(null);\r\n    setIsLoggedIn(false);\r\n    setShowLogin(true);\r\n    setMessages([]);\r\n    setSidebarOpen(false);\r\n    setCurrentChatId(null);\r\n    setChatSessions([]);\r\n  };\r\n\r\n  const startNewChat = async () => {\r\n    try {\r\n      const token = localStorage.getItem('accessToken');\r\n      const response = await fetch('http://localhost:5000/api/chat/new', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const newChatId = Date.now().toString();\r\n        const newChatSession = {\r\n          id: newChatId,\r\n          title: \"New Chat\",\r\n          timestamp: new Date().toISOString(),\r\n          preview: \"New conversation started\"\r\n        };\r\n        \r\n        const updatedSessions = [newChatSession, ...chatSessions];\r\n        setChatSessions(updatedSessions);\r\n        localStorage.setItem('chatSessions', JSON.stringify(updatedSessions));\r\n        \r\n        setCurrentChatId(newChatId);\r\n        localStorage.setItem('currentChatId', newChatId);\r\n        \r\n        setMessages([{\r\n          text: \"Hello! I'm MoodMate, your mental health companion. How are you feeling today?\",\r\n          sender: \"bot\"\r\n        }]);\r\n        \r\n        setShowNewChatModal(false);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error starting new chat:\", error);\r\n      // Fallback to local new chat\r\n      const newChatId = Date.now().toString();\r\n      const newChatSession = {\r\n        id: newChatId,\r\n        title: \"New Chat\",\r\n        timestamp: new Date().toISOString(),\r\n        preview: \"New conversation started\"\r\n      };\r\n      \r\n      const updatedSessions = [newChatSession, ...chatSessions];\r\n      setChatSessions(updatedSessions);\r\n      localStorage.setItem('chatSessions', JSON.stringify(updatedSessions));\r\n      \r\n      setCurrentChatId(newChatId);\r\n      localStorage.setItem('currentChatId', newChatId);\r\n      \r\n      setMessages([{\r\n        text: \"Hello! I'm MoodMate, your mental health companion. How are you feeling today?\",\r\n        sender: \"bot\"\r\n      }]);\r\n      \r\n      setShowNewChatModal(false);\r\n    }\r\n  };\r\n\r\n  const switchToChat = (chatId) => {\r\n    setCurrentChatId(chatId);\r\n    localStorage.setItem('currentChatId', chatId);\r\n    loadChatHistory(chatId);\r\n  };\r\n\r\n  const sendMessage = async () => {\r\n    if (!input.trim() || !isLoggedIn) return;\r\n\r\n    const userMsg = { text: input, sender: \"user\" };\r\n    setMessages(prev => [...prev, userMsg]);\r\n    setInput(\"\");\r\n    setIsTyping(true);\r\n    \r\n    // Check for emergency keywords\r\n    const emergencyKeywords = ['suicide', 'kill myself', 'end it all', 'want to die', 'self harm', 'hurt myself'];\r\n    const hasEmergency = emergencyKeywords.some(keyword => \r\n      input.toLowerCase().includes(keyword)\r\n    );\r\n    \r\n    if (hasEmergency) {\r\n      setShowEmergencyModal(true);\r\n      setIsTyping(false);\r\n      return;\r\n    }\r\n    \r\n    // Simulate typing animation\r\n    simulateTyping();\r\n\r\n    try {\r\n      let token = localStorage.getItem('accessToken');\r\n      // Check if token exists and is valid\r\n      if (!token) {\r\n        throw new Error(\"No authentication token\");\r\n      }\r\n\r\n      const requestOptions = {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ message: input })\r\n      };\r\n\r\n      let response = await fetch('http://localhost:5000/api/chat', requestOptions);\r\n\r\n      // Handle 401 specifically - try to refresh token\r\n      if (response.status === 401) {\r\n        token = await refreshToken();\r\n        requestOptions.headers.Authorization = `Bearer ${token}`;\r\n        response = await fetch('http://localhost:5000/api/chat', requestOptions);\r\n      }\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"API error\");\r\n      }\r\n\r\n      const data = await response.json();\r\n      handleChatResponse(data);\r\n\r\n    } catch (error) {\r\n      console.log(\"Chat error:\", error);\r\n      // Fallback response\r\n      const botMsg = { \r\n        text: \"I'm here for you. Would you like to talk more about how you're feeling?\", \r\n        sender: \"bot\"\r\n      };\r\n      setMessages(prev => [...prev, botMsg]);\r\n    }\r\n\r\n    setIsTyping(false);\r\n    setTypingIndicator(\"\");\r\n  };\r\n\r\n  const handleChatResponse = (data) => {\r\n    const botMsg = { \r\n      text: data.reply, \r\n      sender: \"bot\",\r\n      mood: data.mood,\r\n      moodEmoji: data.moodEmoji,\r\n      phrase: data.phrase,\r\n      audioUrl: data.audioUrl\r\n    };\r\n    setMessages(prev => [...prev, botMsg]);\r\n\r\n    // Update user data if coins were earned\r\n    if (data.coinsEarned > 0) {\r\n      const newCoins = (user?.coins || 0) + data.coinsEarned;\r\n      const updatedUser = {...user, coins: newCoins, streak: data.streak};\r\n      setUser(updatedUser);\r\n      localStorage.setItem('user', JSON.stringify(updatedUser));\r\n    }\r\n\r\n    // Play audio if available and enabled\r\n    if (data.audioUrl && audioEnabled) {\r\n      if (audioRef.current) {\r\n        audioRef.current.src = `http://localhost:5000${data.audioUrl}`;\r\n        audioRef.current.play().catch(e => console.log(\"Audio play error:\", e));\r\n      }\r\n    }\r\n\r\n    // Update current chat session preview\r\n    if (currentChatId && chatSessions.length > 0) {\r\n      const updatedSessions = chatSessions.map(session => {\r\n        if (session.id === currentChatId) {\r\n          return {\r\n            ...session,\r\n            preview: input.substring(0, 30) + (input.length > 30 ? \"...\" : \"\"),\r\n            timestamp: new Date().toISOString()\r\n          };\r\n        }\r\n        return session;\r\n      });\r\n      setChatSessions(updatedSessions);\r\n      localStorage.setItem('chatSessions', JSON.stringify(updatedSessions));\r\n    }\r\n  };\r\n\r\n  const addJournalEntry = async () => {\r\n    const entryText = prompt(\"What's on your mind today?\");\r\n    if (!entryText) return;\r\n\r\n    try {\r\n      const token = localStorage.getItem('accessToken');\r\n      const response = await fetch('http://localhost:5000/api/journal', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ text: entryText })\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        \r\n        // Reload journal entries\r\n        const journalResponse = await fetch('http://localhost:5000/api/journal', {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`\r\n          }\r\n        });\r\n        \r\n        if (journalResponse.ok) {\r\n          const journalData = await journalResponse.json();\r\n          setJournalEntries(journalData.entries || []);\r\n        }\r\n        \r\n        // Update user coins\r\n        const updatedUser = {...user, coins: (user?.coins || 0) + data.coinsEarned};\r\n        setUser(updatedUser);\r\n        localStorage.setItem('user', JSON.stringify(updatedUser));\r\n        \r\n        alert(\"Journal entry saved! +3 coins earned!\");\r\n      } else {\r\n        alert(\"Failed to save journal entry\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error adding journal entry:\", error);\r\n      alert(\"Failed to save journal entry\");\r\n    }\r\n  };\r\n\r\n  const shareJournalEntry = async (entryId) => {\r\n    try {\r\n      const token = localStorage.getItem('accessToken');\r\n      const response = await fetch('http://localhost:5000/api/journal', {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ id: entryId, shared: true })\r\n      });\r\n\r\n      if (response.ok) {\r\n        // Reload journal entries\r\n        const journalResponse = await fetch('http://localhost:5000/api/journal', {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`\r\n          }\r\n        });\r\n        \r\n        if (journalResponse.ok) {\r\n          const journalData = await journalResponse.json();\r\n          setJournalEntries(journalData.entries || []);\r\n        }\r\n        \r\n        alert(\"Journal entry shared to your tribes!\");\r\n      } else {\r\n        alert(\"Failed to share journal entry\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error sharing journal entry:\", error);\r\n      alert(\"Failed to share journal entry\");\r\n    }\r\n  };\r\n\r\n  const addMoodWallPost = async () => {\r\n    const postText = prompt(\"Share your feelings with the community (anonymous):\");\r\n    if (!postText) return;\r\n\r\n    try {\r\n      const token = localStorage.getItem('accessToken');\r\n      const response = await fetch('http://localhost:5000/api/moodwall', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ text: postText, anonymous: true })\r\n      });\r\n\r\n      if (response.ok) {\r\n        // Reload mood wall\r\n        const moodWallResponse = await fetch('http://localhost:5000/api/moodwall', {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`\r\n          }\r\n        });\r\n        \r\n        if (moodWallResponse.ok) {\r\n          const moodWallData = await moodWallResponse.json();\r\n          setMoodWall(moodWallData.posts || []);\r\n        }\r\n        \r\n        alert(\"Posted to mood wall!\");\r\n      } else {\r\n        alert(\"Failed to post to mood wall\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error adding mood wall post:\", error);\r\n      alert(\"Failed to post to mood wall\");\r\n    }\r\n  };\r\n\r\n  const joinTribe = async (tribeId) => {\r\n    try {\r\n      const token = localStorage.getItem('accessToken');\r\n      const response = await fetch('http://localhost:5000/api/moodtribes/join', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ tribe_id: tribeId })\r\n      });\r\n\r\n      if (response.ok) {\r\n        // Reload tribes\r\n        const tribesResponse = await fetch('http://localhost:5000/api/moodtribes', {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`\r\n          }\r\n        });\r\n        \r\n        if (tribesResponse.ok) {\r\n          const tribesData = await tribesResponse.json();\r\n          setMoodTribes(tribesData.tribes || []);\r\n        }\r\n        \r\n        // Reload profile to get updated tribes\r\n        const profileResponse = await fetch('http://localhost:5000/api/profile', {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`\r\n          }\r\n        });\r\n        \r\n        if (profileResponse.ok) {\r\n          const profileData = await profileResponse.json();\r\n          setUserTribes(profileData.tribes || []);\r\n        }\r\n        \r\n        alert(\"ðŸŽ‰ You've joined the tribe!\");\r\n      } else {\r\n        alert(\"Failed to join tribe\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error joining tribe:\", error);\r\n      alert(\"Failed to join tribe\");\r\n    }\r\n  };\r\n\r\n  const sendTribeMessage = async (tribeId) => {\r\n    if (!tribeInput.trim()) return;\r\n    \r\n    try {\r\n      const token = localStorage.getItem('accessToken');\r\n      const response = await fetch(`http://localhost:5000/api/tribes/${tribeId}/chat`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ message: tribeInput })\r\n      });\r\n\r\n      if (response.ok) {\r\n        const newMessage = {\r\n          id: Date.now(),\r\n          message: tribeInput,\r\n          user_name: \"You\",\r\n          timestamp: new Date().toISOString()\r\n        };\r\n        \r\n        setTribeChatMessages(prev => ({\r\n          ...prev,\r\n          [tribeId]: [...(prev[tribeId] || []), newMessage]\r\n        }));\r\n        \r\n        setTribeInput(\"\");\r\n      } else {\r\n        alert(\"Failed to send message\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error sending tribe message:\", error);\r\n      alert(\"Failed to send message\");\r\n    }\r\n  };\r\n\r\n  const startExercise = (exercise) => {\r\n    setActiveExercise(exercise);\r\n    setExerciseProgress(0);\r\n    \r\n    // Start exercise timer\r\n    const interval = setInterval(() => {\r\n      setExerciseProgress(prev => {\r\n        if (prev >= 100) {\r\n          clearInterval(interval);\r\n          return 100;\r\n        }\r\n        return prev + (100 / (exercise.duration * 10));\r\n      });\r\n    }, 100);\r\n  };\r\n\r\n  const buyItem = async (item) => {\r\n    if (user.coins < item.price) {\r\n      alert(\"Not enough coins!\");\r\n      return;\r\n    }\r\n    \r\n    if (window.confirm(`Buy ${item.name} for ${item.price} coins?`)) {\r\n      try {\r\n        const token = localStorage.getItem('accessToken');\r\n        const response = await fetch('http://localhost:5000/api/shop/purchase', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token}`\r\n          },\r\n          body: JSON.stringify({ item_id: item.id })\r\n        });\r\n\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          \r\n          // Update user coins\r\n          const updatedUser = {...user, coins: data.remainingCoins};\r\n          setUser(updatedUser);\r\n          localStorage.setItem('user', JSON.stringify(updatedUser));\r\n          \r\n          if (item.category === \"theme\") {\r\n            setCurrentTheme(item.name.toLowerCase().replace(' theme', ''));\r\n            localStorage.setItem('theme', item.name.toLowerCase().replace(' theme', ''));\r\n            alert(`Theme applied! You're now using the ${item.name}.`);\r\n          } else if (item.name === \"Second Chance Token\") {\r\n            localStorage.setItem('secondChanceToken', 'true');\r\n            alert(\"Second Chance Token purchased! This will save your streak if you miss a day.\");\r\n          } else if (item.name === \"Custom Voice\") {\r\n            alert(\"Custom Voice purchased! Your AI companion will now use a personalized voice.\");\r\n          } else if (item.name === \"Meditation Pack\") {\r\n            alert(\"Meditation Pack purchased! You now have access to exclusive meditation content.\");\r\n          } else {\r\n            alert(`Purchased ${item.name}!`);\r\n          }\r\n        } else {\r\n          alert(\"Purchase failed\");\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error purchasing item:\", error);\r\n        alert(\"Purchase failed\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const applyTheme = (themeName) => {\r\n    setCurrentTheme(themeName);\r\n    localStorage.setItem('theme', themeName);\r\n  };\r\n\r\n  const toggleAudio = async () => {\r\n    const newAudioEnabled = !audioEnabled;\r\n    setAudioEnabled(newAudioEnabled);\r\n    localStorage.setItem('audioEnabled', newAudioEnabled);\r\n    \r\n    try {\r\n      const token = localStorage.getItem('accessToken');\r\n      await fetch('http://localhost:5000/api/audio/enable', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ enable_voice: newAudioEnabled })\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error updating audio settings:\", error);\r\n    }\r\n  };\r\n\r\n  const toggleMusic = async () => {\r\n    const newMusicEnabled = !musicEnabled;\r\n    setMusicEnabled(newMusicEnabled);\r\n    localStorage.setItem('musicEnabled', newMusicEnabled);\r\n    \r\n    try {\r\n      const token = localStorage.getItem('accessToken');\r\n      await fetch('http://localhost:5000/api/audio/enable', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ enable_music: newMusicEnabled })\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error updating music settings:\", error);\r\n    }\r\n  };\r\n\r\n  const switchAiProvider = async (provider) => {\r\n    setAiProvider(provider);\r\n    localStorage.setItem('aiProvider', provider);\r\n    \r\n    try {\r\n      const token = localStorage.getItem('accessToken');\r\n      await fetch('http://localhost:5000/api/ai/switch', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ provider })\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error switching AI provider:\", error);\r\n    }\r\n  };\r\n\r\n  const EmergencyModal = () => {\r\n    if (!showEmergencyModal) return null;\r\n    \r\n    return (\r\n      <div className=\"emergency-modal\">\r\n        <div className=\"emergency-content\">\r\n          <h2>âš ï¸ We're concerned about you</h2>\r\n          <p>Please choose an option below. Your safety matters ðŸ’™</p>\r\n          \r\n          <div className=\"emergency-buttons\">\r\n            <button \r\n              className=\"emergency-call\" \r\n              onClick={() => {\r\n                window.open('tel:1-800-273-8255');\r\n                setShowEmergencyModal(false);\r\n              }}\r\n            >\r\n              Call for Help ðŸ”´\r\n            </button>\r\n            \r\n            <button \r\n              className=\"emergency-resources\" \r\n              onClick={() => {\r\n                alert(\"Crisis Resources:\\n\\n1. National Suicide Prevention Lifeline: 1-800-273-8255\\n2. Crisis Text Line: Text HOME to 741741\\n3. iCall India: +91-9152987821\");\r\n                setShowEmergencyModal(false);\r\n              }}\r\n            >\r\n              Show Resources ðŸ“‹\r\n            </button>\r\n            \r\n            <button \r\n              className=\"emergency-ok\" \r\n              onClick={() => setShowEmergencyModal(false)}\r\n            >\r\n              I'm Fine Now âœ…\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const NewChatModal = () => {\r\n    if (!showNewChatModal) return null;\r\n    \r\n    return (\r\n      <div className=\"modal-overlay\">\r\n        <div className=\"modal-content\">\r\n          <h2>Start New Chat</h2>\r\n          <p>Are you sure you want to start a new chat? Your current conversation will be cleared.</p>\r\n          <div className=\"modal-buttons\">\r\n            <button onClick={startNewChat} className=\"btn-primary\">Yes, Start New Chat</button>\r\n            <button onClick={() => setShowNewChatModal(false)} className=\"btn-secondary\">Cancel</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const ExerciseModal = () => {\r\n    if (!activeExercise) return null;\r\n    \r\n    return (\r\n      <div className=\"modal-overlay\">\r\n        <div className=\"modal-content exercise-modal\">\r\n          <h2>{activeExercise.icon} {activeExercise.name}</h2>\r\n          <p>{activeExercise.description}</p>\r\n          \r\n          <div className=\"exercise-progress\">\r\n            <div className=\"progress-bar\">\r\n              <div \r\n                className=\"progress-fill\" \r\n                style={{width: `${exerciseProgress}%`}}\r\n              ></div>\r\n            </div>\r\n            <span>{Math.round(exerciseProgress)}% Complete</span>\r\n          </div>\r\n          \r\n          <div className=\"exercise-steps\">\r\n            <h3>Steps:</h3>\r\n            <ol>\r\n              {activeExercise.steps.map((step, index) => (\r\n                <li key={index}>{step}</li>\r\n              ))}\r\n            </ol>\r\n          </div>\r\n          \r\n          <button \r\n            onClick={() => setActiveExercise(null)} \r\n            className=\"btn-primary\"\r\n          >\r\n            Finish Exercise\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const TribeCommunity = () => {\r\n    if (!activeTribe) return null;\r\n    \r\n    const tribeChat = tribeChatMessages[activeTribe.id] || [];\r\n    \r\n    return (\r\n      <div className=\"tribe-community\">\r\n        <div className=\"tribe-header\">\r\n          <button onClick={() => setActiveTribe(null)} className=\"back-btn\">\r\n            â† Back to Communities\r\n          </button>\r\n          <h2>{activeTribe.name} Community</h2>\r\n          <p>{activeTribe.description}</p>\r\n          <div className=\"tribe-stats\">\r\n            <span>ðŸ‘¥ {activeTribe.member_count} members</span>\r\n            <span>ðŸ’¬ {tribeChat.length} messages</span>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"tribe-content\">\r\n          <div className=\"tribe-chat\">\r\n            <h3>Community Chat</h3>\r\n            <div className=\"tribe-messages\">\r\n              {tribeChat.map((msg) => (\r\n                <div key={`tribe-msg-${msg.id}-${Date.now()}`} className=\"tribe-message\">\r\n                  <div className=\"message-avatar\">{msg.user_name.charAt(0)}</div>\r\n                  <div className=\"message-content\">\r\n                    <span className=\"message-sender\">{msg.user_name}</span>\r\n                    <p>{msg.message}</p>\r\n                    <span className=\"message-time\">{new Date(msg.timestamp).toLocaleTimeString()}</span>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            \r\n            <div className=\"tribe-input\">\r\n              <input \r\n                type=\"text\" \r\n                placeholder=\"Share something with the community...\" \r\n                value={tribeInput}\r\n                onChange={(e) => setTribeInput(e.target.value)}\r\n                onKeyDown={(e) => e.key === \"Enter\" && sendTribeMessage(activeTribe.id)}\r\n              />\r\n              <button onClick={() => sendTribeMessage(activeTribe.id)}>Send</button>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"tribe-resources\">\r\n            <h3>Community Resources</h3>\r\n            <div className=\"resource-list\">\r\n              <div className=\"resource-item\">\r\n                <h4>Mindfulness Exercises</h4>\r\n                <p>Guided meditation for beginners</p>\r\n                <button>View</button>\r\n              </div>\r\n              <div className=\"resource-item\">\r\n                <h4>Support Threads</h4>\r\n                <p>Connect with others who understand</p>\r\n                <button>Explore</button>\r\n              </div>\r\n              <div className=\"resource-item\">\r\n                <h4>Weekly Challenges</h4>\r\n                <p>Join community wellness challenges</p>\r\n                <button>Participate</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const Sidebar = () => {\r\n    if (!sidebarOpen) return null;\r\n    \r\n    return (\r\n      <div className=\"sidebar-overlay\" onClick={() => setSidebarOpen(false)}>\r\n        <div className=\"sidebar\" onClick={(e) => e.stopPropagation()}>\r\n          <div className=\"sidebar-header\">\r\n            <h2>MoodMate</h2>\r\n            <button onClick={() => setSidebarOpen(false)} className=\"close-btn\">Ã—</button>\r\n          </div>\r\n          \r\n          <div className=\"sidebar-content\">\r\n            <div className=\"sidebar-section\">\r\n              <h3>Chat Sessions</h3>\r\n              {chatSessions.map(session => (\r\n                <button \r\n                  key={session.id}\r\n                  onClick={() => { switchToChat(session.id); setSidebarOpen(false); }} \r\n                  className={`sidebar-btn ${currentChatId === session.id ? \"active\" : \"\"}`}\r\n                >\r\n                  ðŸ’¬ {session.title}\r\n                </button>\r\n              ))}\r\n              <button \r\n                onClick={() => { setShowNewChatModal(true); setSidebarOpen(false); }} \r\n                className=\"sidebar-btn new-chat-btn\"\r\n              >\r\n                + New Chat\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"sidebar-section\">\r\n              <h3>Navigation</h3>\r\n              <button \r\n                onClick={() => { setActiveTab(\"chat\"); setSidebarOpen(false); }} \r\n                className={`sidebar-btn ${activeTab === \"chat\" ? \"active\" : \"\"}`}\r\n              >\r\n                ðŸ’¬ Chat\r\n              </button>\r\n              <button \r\n                onClick={() => { setActiveTab(\"exercises\"); setSidebarOpen(false); }} \r\n                className={`sidebar-btn ${activeTab === \"exercises\" ? \"active\" : \"\"}`}\r\n              >\r\n                ðŸ§˜â€â™‚ï¸ Exercises\r\n              </button>\r\n              <button \r\n                onClick={() => { setActiveTab(\"journal\"); setSidebarOpen(false); }} \r\n                className={`sidebar-btn ${activeTab === \"journal\" ? \"active\" : \"\"}`}\r\n              >\r\n                ðŸ““ Journal\r\n              </button>\r\n              <button \r\n                onClick={() => { setActiveTab(\"therapy\"); setSidebarOpen(false); }} \r\n                className={`sidebar-btn ${activeTab === \"therapy\" ? \"active\" : \"\"}`}\r\n              >\r\n                ðŸ‘¨â€âš•ï¸ Therapy\r\n              </button>\r\n              <button \r\n                onClick={() => { setActiveTab(\"community\"); setSidebarOpen(false); }} \r\n                className={`sidebar-btn ${activeTab === \"community\" ? \"active\" : \"\"}`}\r\n              >\r\n                ðŸŒ Community\r\n              </button>\r\n              <button \r\n                onClick={() => { setActiveTab(\"shop\"); setSidebarOpen(false); }} \r\n                className={`sidebar-btn ${activeTab === \"shop\" ? \"active\" : \"\"}`}\r\n              >\r\n                ðŸ›’ Shop\r\n              </button>\r\n              <button \r\n                onClick={() => { setActiveTab(\"profile\"); setSidebarOpen(false); }} \r\n                className={`sidebar-btn ${activeTab === \"profile\" ? \"active\" : \"\"}`}\r\n              >\r\n                ðŸ‘¤ Profile\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"sidebar-section\">\r\n              <h3>Settings</h3>\r\n              <div className=\"setting-item\">\r\n                <span>Voice Responses</span>\r\n                <label className=\"switch\">\r\n                  <input type=\"checkbox\" checked={audioEnabled} onChange={toggleAudio} />\r\n                  <span className=\"slider\"></span>\r\n                </label>\r\n              </div>\r\n              <div className=\"setting-item\">\r\n                <span>Background Music</span>\r\n                <label className=\"switch\">\r\n                  <input type=\"checkbox\" checked={musicEnabled} onChange={toggleMusic} />\r\n                  <span className=\"slider\"></span>\r\n                </label>\r\n              </div>\r\n              <div className=\"setting-item\">\r\n                <span>AI Provider</span>\r\n                <select value={aiProvider} onChange={(e) => switchAiProvider(e.target.value)}>\r\n                  <option value=\"gemini\">Gemini AI</option>\r\n                  <option value=\"fallback\">Fallback Mode</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (!isLoggedIn) {\r\n    return (\r\n      <div className=\"app-container auth-container\">\r\n        <div className=\"auth-box\">\r\n          <h1>ðŸŒ™ MoodMate</h1>\r\n          <p>Your mental health companion</p>\r\n          \r\n          {showLogin && (\r\n            <form onSubmit={handleLogin} className=\"auth-form\">\r\n              <h2>Login</h2>\r\n              {loginError && <div className=\"error-message\">{loginError}</div>}\r\n              <input type=\"email\" name=\"email\" placeholder=\"Email\" required />\r\n              <input type=\"password\" name=\"password\" placeholder=\"Password\" required />\r\n              <button type=\"submit\">Login</button>\r\n              \r\n              <div className=\"auth-links\">\r\n                <span className=\"auth-link\" onClick={() => setShowRegister(true)}>\r\n                  Create Account\r\n                </span>\r\n                <span className=\"auth-link\" onClick={() => setShowForgotPassword(true)}>\r\n                  Forgot Password?\r\n                </span>\r\n              </div>\r\n            </form>\r\n          )}\r\n\r\n          {showRegister && (\r\n            <form onSubmit={handleRegister} className=\"auth-form\">\r\n              <h2>Register</h2>\r\n              {registerError && <div className=\"error-message\">{registerError}</div>}\r\n              <input type=\"text\" name=\"name\" placeholder=\"Full Name\" required />\r\n              <input type=\"email\" name=\"email\" placeholder=\"Email\" required />\r\n              <input type=\"password\" name=\"password\" placeholder=\"Password (min 8 chars)\" required />\r\n              <input type=\"password\" name=\"confirmPassword\" placeholder=\"Confirm Password\" required />\r\n              <button type=\"submit\">Register</button>\r\n              <p>\r\n                Already have an account?{\" \"}\r\n                <span className=\"auth-link\" onClick={() => setShowRegister(false)}>\r\n                  Login\r\n                </span>\r\n              </p>\r\n            </form>\r\n          )}\r\n\r\n          {showForgotPassword && (\r\n            <form onSubmit={handleForgotPassword} className=\"auth-form\">\r\n              <h2>Reset Password</h2>\r\n              <input type=\"email\" name=\"email\" placeholder=\"Your Email\" required />\r\n              <button type=\"submit\">Send Reset Instructions</button>\r\n              <p>\r\n                Remember your password?{\" \"}\r\n                <span className=\"auth-link\" onClick={() => setShowForgotPassword(false)}>\r\n                  Login\r\n                </span>\r\n              </p>\r\n            </form>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={`app-container ${currentTheme}-theme`}>\r\n      <audio ref={audioRef} style={{display: 'none'}} />\r\n      <audio ref={backgroundMusicRef} loop style={{display: 'none'}}>\r\n        <source src=\"/calm-background-music.mp3\" type=\"audio/mpeg\" />\r\n      </audio>\r\n      \r\n      <EmergencyModal />\r\n      <NewChatModal />\r\n      <ExerciseModal />\r\n      <Sidebar />\r\n      \r\n      <header className=\"app-header\">\r\n        <div className=\"header-left\">\r\n          <button onClick={() => setSidebarOpen(true)} className=\"menu-btn\">â˜°</button>\r\n          <h1>ðŸŒ™ MoodMate</h1>\r\n          <div className=\"user-stats\">\r\n            <span className=\"streak-display\">ðŸ”¥ {user?.streak || 0} day streak</span>\r\n            <span>ðŸª™ {user?.coins || 0} coins</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"header-right\">\r\n          <div className=\"user-info\">\r\n            <span className=\"user-name\">{user?.name}</span>\r\n            <span className=\"user-status\">Online</span>\r\n          </div>\r\n          <button onClick={handleLogout} className=\"logout-btn\">Logout</button>\r\n        </div>\r\n      </header>\r\n\r\n      <nav className=\"app-nav\">\r\n        <button \r\n          className={activeTab === \"chat\" ? \"active\" : \"\"} \r\n          onClick={() => setActiveTab(\"chat\")}\r\n        >\r\n          ðŸ’¬ Chat\r\n        </button>\r\n        <button \r\n          className={activeTab === \"exercises\" ? \"active\" : \"\"} \r\n          onClick={() => setActiveTab(\"exercises\")}\r\n        >\r\n          ðŸ§˜â€â™‚ï¸ Exercises\r\n        </button>\r\n        <button \r\n          className={activeTab === \"journal\" ? \"active\" : \"\"} \r\n          onClick={() => setActiveTab(\"journal\")}\r\n        >\r\n          ðŸ““ Journal\r\n        </button>\r\n        <button \r\n          className={activeTab === \"therapy\" ? \"active\" : \"\"} \r\n          onClick={() => setActiveTab(\"therapy\")}\r\n        >\r\n          ðŸ‘¨â€âš•ï¸ Therapy\r\n        </button>\r\n        <button \r\n          className={activeTab === \"community\" ? \"active\" : \"\"} \r\n          onClick={() => setActiveTab(\"community\")}\r\n        >\r\n          ðŸŒ Community\r\n        </button>\r\n        <button \r\n          className={activeTab === \"shop\" ? \"active\" : \"\"} \r\n          onClick={() => setActiveTab(\"shop\")}\r\n        >\r\n          ðŸ›’ Shop\r\n        </button>\r\n        <button \r\n          className={activeTab === \"profile\" ? \"active\" : \"\"} \r\n          onClick={() => setActiveTab(\"profile\")}\r\n        >\r\n          ðŸ‘¤ Profile\r\n        </button>\r\n      </nav>\r\n\r\n      <main className=\"app-main\">\r\n        {activeTab === \"chat\" && (\r\n          <div className=\"chat-tab\">\r\n            <div className=\"chat-header\">\r\n              <h2>Chat with MoodMate</h2>\r\n              <button onClick={() => setShowNewChatModal(true)} className=\"new-chat-btn\">\r\n                + New Chat\r\n              </button>\r\n            </div>\r\n            <div className=\"chat-box\">\r\n              {messages.map((msg, i) => (\r\n                <div key={`msg-${i}-${msg.timestamp || Date.now()}`} className={`chat-message ${msg.sender} ${msg.isReward ? 'reward' : ''} ${msg.isExercise ? 'exercise' : ''}`}>\r\n                  {msg.sender === \"bot\" && (\r\n                    <div className=\"avatar bot-avatar\">ðŸ¤–</div>\r\n                  )}\r\n                  {msg.sender === \"user\" && (\r\n                    <div className=\"avatar user-avatar\">ðŸ‘¤</div>\r\n                  )}\r\n                  <div className=\"bubble\">\r\n                    {msg.text}\r\n                    {msg.moodEmoji && (\r\n                      <div className=\"mood-indicator\">\r\n                        {msg.moodEmoji} {msg.phrase}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n\r\n              {isTyping && (\r\n                <div className=\"chat-message bot\">\r\n                  <div className=\"avatar bot-avatar\">ðŸ¤–</div>\r\n                  <div className=\"bubble typing\">\r\n                    {typingIndicator || \"...\"}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              <div ref={chatEndRef}></div>\r\n            </div>\r\n\r\n            <div className=\"input-area\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"How are you feeling today?\"\r\n                value={input}\r\n                onChange={(e) => setInput(e.target.value)}\r\n                onKeyDown={(e) => e.key === \"Enter\" && sendMessage()}\r\n              />\r\n              <button onClick={sendMessage} className=\"send-btn\">Send</button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === \"exercises\" && (\r\n          <div className=\"exercises-tab\">\r\n            <div className=\"exercises-header\">\r\n              <h2>ðŸ§˜â€â™‚ï¸ Wellness Exercises</h2>\r\n              <p>Practice these exercises to improve your mental wellbeing</p>\r\n            </div>\r\n            \r\n            <div className=\"exercises-categories\">\r\n              <button className=\"category-btn active\">All Exercises</button>\r\n              <button className=\"category-btn\">Breathing</button>\r\n              <button className=\"category-btn\">Meditation</button>\r\n              <button className=\"category-btn\">Mindfulness</button>\r\n            </div>\r\n            \r\n            <div className=\"exercises-grid\">\r\n              {exercises.map(exercise => (\r\n                <div key={`exercise-${exercise.id}`} className=\"exercise-card\">\r\n                  <div className=\"exercise-icon\">{exercise.icon}</div>\r\n                  <div className=\"exercise-info\">\r\n                    <h3>{exercise.name}</h3>\r\n                    <p>{exercise.description}</p>\r\n                    <div className=\"exercise-meta\">\r\n                      <span>â±ï¸ {exercise.duration} min</span>\r\n                      <span>â­ Beginner</span>\r\n                    </div>\r\n                  </div>\r\n                  <button \r\n                    onClick={() => startExercise(exercise)}\r\n                    className=\"start-exercise-btn\"\r\n                  >\r\n                    Start\r\n                  </button>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === \"journal\" && (\r\n          <div className=\"journal-tab\">\r\n            <div className=\"journal-header\">\r\n              <h2>Your Journal</h2>\r\n              <button onClick={addJournalEntry} className=\"add-entry-btn\">\r\n                + New Entry\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"journal-entries\">\r\n              {journalEntries.length === 0 ? (\r\n                <div className=\"empty-state\">\r\n                  <p>No journal entries yet. Write your first entry!</p>\r\n                  <button onClick={addJournalEntry}>Start Journaling</button>\r\n                </div>\r\n              ) : (\r\n                journalEntries.map((entry, index) => (\r\n                  <div key={`entry-${entry.id}-${index}`} className=\"journal-entry\">\r\n                    <div className=\"entry-header\">\r\n                      <div className=\"entry-date\">{entry.date}</div>\r\n                      {!entry.shared && userTribes.length > 0 && (\r\n                        <button \r\n                          onClick={() => shareJournalEntry(entry.id)}\r\n                          className=\"share-btn\"\r\n                          title=\"Share to your tribes\"\r\n                        >\r\n                          Share\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"entry-text\">{entry.text}</div>\r\n                    {entry.summary && (\r\n                      <div className=\"entry-summary\">\r\n                        <strong>Summary:</strong> {entry.summary}\r\n                      </div>\r\n                    )}\r\n                    {entry.mood && (\r\n                      <div className=\"entry-mood\">\r\n                        <strong>Mood:</strong> {entry.mood}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                ))\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === \"therapy\" && (\r\n          <div className=\"therapy-tab\">\r\n            <div className=\"resources-section\">\r\n              <h3>ðŸ†˜ Crisis Resources</h3>\r\n              <div className=\"resources-grid\">\r\n                {resources.filter(r => r.type === 'crisis').map((resource, index) => (\r\n                  <div key={`resource-${index}`} className=\"resource-card\">\r\n                    <h4>{resource.name}</h4>\r\n                    <p>{resource.number}</p>\r\n                    <small>{resource.available}</small>\r\n                    {resource.number && (\r\n                      <button \r\n                        className=\"call-btn\"\r\n                        onClick={() => window.open(`tel:${resource.number.replace(/\\D/g, '')}`)}\r\n                      >\r\n                        ðŸ“ž Call Now\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"therapists-section\">\r\n              <h3>ðŸ‘¨â€âš•ï¸ Professional Therapists</h3>\r\n              <div className=\"therapists-grid\">\r\n                {therapists.map((therapist) => (\r\n                  <div key={`therapist-${therapist.id}`} className=\"therapist-card\">\r\n                    <div className=\"therapist-avatar\">{therapist.avatar}</div>\r\n                    <h4>{therapist.name}</h4>\r\n                    <p>{therapist.specialization}</p>\r\n                    <p>â­ {therapist.rating} â€¢ {therapist.experience}</p>\r\n                    <p>ðŸª™ {therapist.price} coins/session</p>\r\n                    <button \r\n                      className=\"book-btn\"\r\n                      disabled={user?.coins < therapist.price}\r\n                    >\r\n                      {user?.coins >= therapist.price ? \"Book Session\" : \"Not Enough Coins\"}\r\n                    </button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === \"community\" && activeTribe ? (\r\n          <TribeCommunity />\r\n        ) : activeTab === \"community\" ? (\r\n          <div className=\"community-tab\">\r\n            <div className=\"community-layout\">\r\n              <div className=\"mood-wall-section\">\r\n                <h3>ðŸŒ Community Mood Wall</h3>\r\n                <button onClick={addMoodWallPost} className=\"add-post-btn\">+ Share Your Feelings</button>\r\n                <div className=\"mood-wall\">\r\n                  {moodWall.length === 0 ? (\r\n                    <div className=\"empty-state\">\r\n                      <p>Be the first to share your thoughts with the community!</p>\r\n                    </div>\r\n                  ) : (\r\n                    moodWall.slice(0, 3).map((post, index) => (\r\n                      <div key={`post-${post.id}-${index}`} className=\"mood-post\">\r\n                        <p>{post.text}</p>\r\n                        <div className=\"post-footer\">\r\n                          <div className=\"post-reactions\">\r\n                            <button>ðŸ’–</button>\r\n                            <button>ðŸ¤—</button>\r\n                            <button>ðŸ‘</button>\r\n                          </div>\r\n                          <span className=\"post-time\">{new Date(post.timestamp).toLocaleDateString()}</span>\r\n                        </div>\r\n                      </div>\r\n                    ))\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"tribes-section\">\r\n                <h3>ðŸŽ¯ Mood Tribes</h3>\r\n                <div className=\"tribes-grid\">\r\n                  {moodTribes.map((tribe) => (\r\n                    <div key={`tribe-${tribe.id}`} className=\"tribe-card\">\r\n                      <h4>{tribe.name}</h4>\r\n                      <p>{tribe.description}</p>\r\n                      <p className=\"member-count\">ðŸ‘¥ {tribe.member_count} members</p>\r\n                      <button \r\n                        onClick={() => tribe.is_member ? setActiveTribe(tribe) : joinTribe(tribe.id)}\r\n                        className={tribe.is_member ? \"joined-btn\" : \"join-btn\"}\r\n                      >\r\n                        {tribe.is_member ? \"Visit Community\" : \"Join Tribe\"}\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n\r\n        {activeTab === \"shop\" && (\r\n          <div className=\"shop-tab\">\r\n            <h2>ðŸ›’ MoodMate Shop</h2>\r\n            <p>Use your Mood Coins to unlock special features and customization options!</p>\r\n            \r\n            <div className=\"shop-categories\">\r\n              <button className=\"category-btn active\">All Items</button>\r\n              <button className=\"category-btn\">Themes</button>\r\n              <button className=\"category-btn\">Cosmetics</button>\r\n              <button className=\"category-btn\">Content</button>\r\n              <button className=\"category-btn\">Utilities</button>\r\n            </div>\r\n            \r\n            <div className=\"shop-grid\">\r\n              {shopItems.map((item) => (\r\n                <div key={`shop-item-${item.id}`} className=\"shop-item-card\">\r\n                  <div className=\"item-image\">\r\n                    {item.category === \"theme\" && <div className={`theme-preview ${item.name.toLowerCase().replace(' theme', '')}-theme`}></div>}\r\n                    {item.category === \"cosmetic\" && <span className=\"item-icon\">ðŸŽ¨</span>}\r\n                    {item.category === \"content\" && <span className=\"item-icon\">ðŸ“š</span>}\r\n                    {item.category === \"utility\" && <span className=\"item-icon\">âš¡</span>}\r\n                  </div>\r\n                  <div className=\"item-info\">\r\n                    <h4>{item.name}</h4>\r\n                    <p>{item.description}</p>\r\n                    <div className=\"item-price\">ðŸª™ {item.price} coins</div>\r\n                    <button \r\n                      onClick={() => buyItem(item)}\r\n                      disabled={user?.coins < item.price}\r\n                      className={user?.coins >= item.price ? \"buy-btn\" : \"disabled-btn\"}\r\n                    >\r\n                      {user?.coins >= item.price ? \"Purchase\" : \"Not Enough Coins\"}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === \"profile\" && (\r\n          <div className=\"profile-tab\">\r\n            <div className=\"profile-header\">\r\n              <div className=\"profile-avatar\">\r\n                <div className=\"avatar-image\">\r\n                  {user?.name?.charAt(0) || 'U'}\r\n                </div>\r\n                <div className=\"profile-badge\">\r\n                  <span>ðŸ”¥ {user?.streak || 0}</span>\r\n                </div>\r\n              </div>\r\n              <div className=\"profile-info\">\r\n                <h2>{user?.name}</h2>\r\n                <p className=\"member-since\">Active Member</p>\r\n                \r\n                <div className=\"profile-stats\">\r\n                  <div className=\"stat\">\r\n                    <span className=\"stat-value\">{user?.streak || 0}</span>\r\n                    <span className=\"stat-label\">Day Streak</span>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <span className=\"stat-value\">{user?.coins || 0}</span>\r\n                    <span className=\"stat-label\">Mood Coins</span>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <span className=\"stat-value\">{userTribes.length}</span>\r\n                    <span className=\"stat-label\">Tribes Joined</span>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <span className=\"stat-value\">{journalEntries.length}</span>\r\n                    <span className=\"stat-label\">Journal Entries</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"profile-section\">\r\n              <h3>ðŸ”¥ Streak Progress</h3>\r\n              <div className=\"streak-progress\">\r\n                <div className=\"streak-days\">\r\n                  {[7, 30, 90, 180, 365].map(day => (\r\n                    <div key={`milestone-${day}`} className={`streak-milestone ${user?.streak >= day ? 'achieved' : ''}`}>\r\n                      <span className=\"milestone-day\">{day}</span>\r\n                      <span className=\"milestone-label\">{day} Days</span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                <div className=\"streak-bar\">\r\n                  <div \r\n                    className=\"streak-progress-bar\" \r\n                    style={{width: `${Math.min(100, (user?.streak / 365) * 100)}%`}}\r\n                  ></div>\r\n                </div>\r\n                <div className=\"current-streak\">\r\n                  <span>Current Streak: {user?.streak || 0} days</span>\r\n                  <span>Next milestone: {user?.streak < 7 ? 7 : user?.streak < 30 ? 30 : user?.streak < 90 ? 90 : user?.streak < 180 ? 180 : 365} days</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"profile-section\">\r\n              <h3>ðŸ… Achievements & Badges</h3>\r\n              <div className=\"achievements-grid\">\r\n                {achievements.map(achievement => (\r\n                  <div key={`achievement-${achievement.id}`} className={`achievement ${achievement.earned ? 'earned' : 'locked'}`}>\r\n                    <span className=\"achievement-icon\">{achievement.icon}</span>\r\n                    <div className=\"achievement-info\">\r\n                      <h4>{achievement.name}</h4>\r\n                      <p>{achievement.description}</p>\r\n                    </div>\r\n                    <span className=\"achievement-status\">\r\n                      {achievement.earned ? 'âœ“' : 'ðŸ”’'}\r\n                    </span>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"profile-section\">\r\n              <h3>ðŸ‘¥ My Tribes</h3>\r\n              {userTribes.length === 0 ? (\r\n                <p>You haven't joined any tribes yet. Visit the Community tab to join one!</p>\r\n              ) : (\r\n                <div className=\"user-tribes\">\r\n                  {userTribes.map(tribe => (\r\n                    <div key={`user-tribe-${tribe.id}`} className=\"user-tribe\">\r\n                      <span>{tribe.name}</span>\r\n                      <button onClick={() => setActiveTribe(tribe)}>\r\n                        Visit\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"profile-section\">\r\n              <h3>âš™ï¸ Settings</h3>\r\n              <div className=\"settings-grid\">\r\n                <div className=\"setting-item\">\r\n                  <span>Voice Responses</span>\r\n                  <label className=\"switch\">\r\n                    <input type=\"checkbox\" checked={audioEnabled} onChange={toggleAudio} />\r\n                    <span className=\"slider\"></span>\r\n                  </label>\r\n                </div>\r\n                <div className=\"setting-item\">\r\n                  <span>Background Music</span>\r\n                  <label className=\"switch\">\r\n                    <input type=\"checkbox\" checked={musicEnabled} onChange={toggleMusic} />\r\n                    <span className=\"slider\"></span>\r\n                  </label>\r\n                </div>\r\n                <div className=\"setting-item\">\r\n                  <span>AI Provider</span>\r\n                  <select value={aiProvider} onChange={(e) => switchAiProvider(e.target.value)}>\r\n                    <option value=\"gemini\">Gemini AI</option>\r\n                    <option value=\"fallback\">Fallback Mode</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}