{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Prabhat singh\\\\Downloads\\\\Best_Project\\\\frontend\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport \"./app.css\";\n\n// API Configuration\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_CONFIG = {\n  BASE_URL: 'http://127.0.0.1:5000',\n  ENDPOINTS: {\n    LOGIN: '/api/login',\n    REGISTER: '/api/register',\n    CHAT: '/api/chat',\n    DOCTORS: '/api/doctors',\n    BOOK: '/api/book',\n    BOOKINGS: '/api/bookings',\n    JOIN_SESSION: '/api/join-session',\n    JOURNAL: '/api/journal',\n    MOODWALL: '/api/moodwall',\n    MOODTRIBES: '/api/moodtribes',\n    SHOP: '/api/shop',\n    PROFILE: '/api/profile',\n    SETTINGS: '/api/settings'\n  }\n};\n\n// API Service\nclass ApiService {\n  constructor() {\n    this.baseURL = API_CONFIG.BASE_URL;\n  }\n  async request(endpoint, options = {}) {\n    const url = `${this.baseURL}${endpoint}`;\n    const token = localStorage.getItem('accessToken');\n    const defaultOptions = {\n      headers: {\n        'Content-Type': 'application/json',\n        ...(token && {\n          Authorization: `Bearer ${token}`\n        }),\n        ...options.headers\n      }\n    };\n    try {\n      const response = await fetch(url, {\n        ...defaultOptions,\n        ...options\n      });\n      return await this.handleResponse(response);\n    } catch (error) {\n      console.error('API request failed:', error);\n      throw new Error('Network error. Please check your connection.');\n    }\n  }\n  async handleResponse(response) {\n    if (response.ok) {\n      const contentType = response.headers.get('content-type');\n      if (contentType && contentType.includes('application/json')) {\n        return await response.json();\n      }\n      return await response.text();\n    } else {\n      const error = await response.text();\n      throw new Error(error || `Request failed with status ${response.status}`);\n    }\n  }\n\n  // Auth endpoints\n  async login(credentials) {\n    return this.request(API_CONFIG.ENDPOINTS.LOGIN, {\n      method: 'POST',\n      body: JSON.stringify(credentials)\n    });\n  }\n  async register(userData) {\n    return this.request(API_CONFIG.ENDPOINTS.REGISTER, {\n      method: 'POST',\n      body: JSON.stringify(userData)\n    });\n  }\n\n  // Chat endpoint\n  async sendChatMessage(message) {\n    return this.request(API_CONFIG.ENDPOINTS.CHAT, {\n      method: 'POST',\n      body: JSON.stringify({\n        message\n      })\n    });\n  }\n\n  // Doctor endpoints\n  async getDoctors() {\n    return this.request(API_CONFIG.ENDPOINTS.DOCTORS);\n  }\n  async bookAppointment(bookingData) {\n    return this.request(API_CONFIG.ENDPOINTS.BOOK, {\n      method: 'POST',\n      body: JSON.stringify(bookingData)\n    });\n  }\n  async getUserBookings() {\n    return this.request(API_CONFIG.ENDPOINTS.BOOKINGS);\n  }\n  async joinSession(sessionId) {\n    return this.request(API_CONFIG.ENDPOINTS.JOIN_SESSION, {\n      method: 'POST',\n      body: JSON.stringify({\n        session_id: sessionId\n      })\n    });\n  }\n\n  // Other endpoints\n  async getJournalEntries() {\n    return this.request(API_CONFIG.ENDPOINTS.JOURNAL);\n  }\n  async addJournalEntry(entryData) {\n    return this.request(API_CONFIG.ENDPOINTS.JOURNAL, {\n      method: 'POST',\n      body: JSON.stringify(entryData)\n    });\n  }\n  async getMoodWall() {\n    return this.request(API_CONFIG.ENDPOINTS.MOODWALL);\n  }\n  async addMoodWallPost(postData) {\n    return this.request(API_CONFIG.ENDPOINTS.MOODWALL, {\n      method: 'POST',\n      body: JSON.stringify(postData)\n    });\n  }\n  async getMoodTribes() {\n    return this.request(API_CONFIG.ENDPOINTS.MOODTRIBES);\n  }\n  async joinTribe(tribeId) {\n    return this.request(`${API_CONFIG.ENDPOINTS.MOODTRIBES}/join`, {\n      method: 'POST',\n      body: JSON.stringify({\n        tribe_id: tribeId\n      })\n    });\n  }\n  async getShopItems() {\n    return this.request(API_CONFIG.ENDPOINTS.SHOP);\n  }\n  async purchaseItem(itemId) {\n    return this.request(`${API_CONFIG.ENDPOINTS.SHOP}/purchase`, {\n      method: 'POST',\n      body: JSON.stringify({\n        item_id: itemId\n      })\n    });\n  }\n  async getProfile() {\n    return this.request(API_CONFIG.ENDPOINTS.PROFILE);\n  }\n  async getSettings() {\n    return this.request(API_CONFIG.ENDPOINTS.SETTINGS);\n  }\n  async updateSettings(settings) {\n    return this.request(API_CONFIG.ENDPOINTS.SETTINGS, {\n      method: 'POST',\n      body: JSON.stringify(settings)\n    });\n  }\n}\nconst apiService = new ApiService();\nfunction App() {\n  _s();\n  var _user$name;\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState(\"\");\n  const [isTyping, setIsTyping] = useState(false);\n  const [user, setUser] = useState(null);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [showLogin, setShowLogin] = useState(true);\n  const [showRegister, setShowRegister] = useState(false);\n  const [showForgotPassword, setShowForgotPassword] = useState(false);\n  const [activeTab, setActiveTab] = useState(\"chat\");\n  const [journalEntries, setJournalEntries] = useState([]);\n  const [therapists, setTherapists] = useState([]);\n  const [resources, setResources] = useState([]);\n  const [moodWall, setMoodWall] = useState([]);\n  const [moodTribes, setMoodTribes] = useState([]);\n  const [shopItems, setShopItems] = useState([]);\n  const [userTribes, setUserTribes] = useState([]);\n  const [currentTheme, setCurrentTheme] = useState(\"default\");\n  const [typingIndicator, setTypingIndicator] = useState(\"\");\n  const [showEmergencyModal, setShowEmergencyModal] = useState(false);\n  const [achievements, setAchievements] = useState([]);\n  const [activeTribe, setActiveTribe] = useState(null);\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const [showNewChatModal, setShowNewChatModal] = useState(false);\n  const [loginError, setLoginError] = useState(\"\");\n  const [registerError, setRegisterError] = useState(\"\");\n  const [aiProvider, setAiProvider] = useState(\"gemini\");\n  const [audioEnabled, setAudioEnabled] = useState(true);\n  const [musicEnabled, setMusicEnabled] = useState(true);\n  const [tribeChatMessages, setTribeChatMessages] = useState({});\n  const [tribeInput, setTribeInput] = useState(\"\");\n  const [lastStreakUpdate, setLastStreakUpdate] = useState(\"\");\n  const [activeShopCategory, setActiveShopCategory] = useState(\"All\");\n  const [userBookings, setUserBookings] = useState([]);\n  const [selectedDoctor, setSelectedDoctor] = useState(null);\n  const [bookingStep, setBookingStep] = useState(\"select-doctor\");\n  const [selectedSlot, setSelectedSlot] = useState(null);\n  const [selectedMode, setSelectedMode] = useState(\"chat\");\n  const chatEndRef = useRef(null);\n\n  // Sample data for fallback\n  const sampleTherapists = [{\n    id: 1,\n    name: \"Dr. Priya Sharma\",\n    specialization: \"Clinical Psychology\",\n    price: 799,\n    rating: 4.7,\n    experience: \"8 years\",\n    avatar: \"ðŸ‘©â€âš•ï¸\"\n  }, {\n    id: 2,\n    name: \"Rajiv Mehta\",\n    specialization: \"Counseling Psychology\",\n    price: 599,\n    rating: 4.5,\n    experience: \"5 years\",\n    avatar: \"ðŸ‘¨â€âš•ï¸\"\n  }, {\n    id: 3,\n    name: \"Dr. Anjali Singh\",\n    specialization: \"Psychiatry\",\n    price: 999,\n    rating: 4.8,\n    experience: \"12 years\",\n    avatar: \"ðŸ‘©â€âš•ï¸\"\n  }, {\n    id: 4,\n    name: \"Neha Gupta\",\n    specialization: \"Art Therapy\",\n    price: 499,\n    rating: 4.6,\n    experience: \"4 years\",\n    avatar: \"ðŸŽ¨\"\n  }];\n  const sampleResources = [{\n    type: \"crisis\",\n    name: \"National Suicide Prevention Lifeline\",\n    number: \"1-800-273-8255\",\n    available: \"24/7\"\n  }, {\n    type: \"crisis\",\n    name: \"Crisis Text Line\",\n    number: \"Text HOME to 741741\",\n    available: \"24/7\"\n  }, {\n    type: \"support\",\n    name: \"Mental Health America\",\n    website: \"mhanational.org\",\n    description: \"Resources and screening tools\"\n  }];\n  const sampleMoodTribes = [{\n    id: 1,\n    name: \"Positivity Tribe\",\n    description: \"For those seeking positivity and joy\",\n    member_count: 245,\n    isMember: false\n  }, {\n    id: 2,\n    name: \"Calm Collective\",\n    description: \"Find your inner peace together\",\n    member_count: 189,\n    isMember: false\n  }, {\n    id: 3,\n    name: \"Anxiety Allies\",\n    description: \"Support for those dealing with anxiety\",\n    member_count: 312,\n    isMember: false\n  }, {\n    id: 4,\n    name: \"Mindfulness Masters\",\n    description: \"Practice mindfulness together\",\n    member_count: 156,\n    isMember: false\n  }, {\n    id: 5,\n    name: \"Breakup Recovery\",\n    description: \"Healing after relationship endings\",\n    member_count: 128,\n    isMember: false\n  }, {\n    id: 6,\n    name: \"Career Stress\",\n    description: \"Managing work-related stress\",\n    member_count: 201,\n    isMember: false\n  }, {\n    id: 7,\n    name: \"Student Support\",\n    description: \"Academic pressure and study stress\",\n    member_count: 178,\n    isMember: false\n  }];\n  const sampleShopItems = [{\n    id: 1,\n    name: \"Sunset Theme\",\n    description: \"Warm orange and purple theme\",\n    price: 50,\n    category: \"theme\"\n  }, {\n    id: 2,\n    name: \"Ocean Theme\",\n    description: \"Calming blue theme\",\n    price: 50,\n    category: \"theme\"\n  }, {\n    id: 3,\n    name: \"Forest Theme\",\n    description: \"Green nature-inspired theme\",\n    price: 50,\n    category: \"theme\"\n  }, {\n    id: 4,\n    name: \"Neon Theme\",\n    description: \"Vibrant neon colors\",\n    price: 75,\n    category: \"theme\"\n  }, {\n    id: 5,\n    name: \"Glass Theme\",\n    description: \"Modern glassmorphism design\",\n    price: 100,\n    category: \"theme\"\n  }, {\n    id: 6,\n    name: \"Exclusive Avatar\",\n    description: \"Special avatar frame\",\n    price: 100,\n    category: \"cosmetic\"\n  }, {\n    id: 7,\n    name: \"Meditation Pack\",\n    description: \"Exclusive meditation guides\",\n    price: 75,\n    category: \"content\"\n  }, {\n    id: 8,\n    name: \"Second Chance Token\",\n    description: \"Save your streak if you miss a day\",\n    price: 30,\n    category: \"utility\"\n  }, {\n    id: 9,\n    name: \"Custom Voice\",\n    description: \"Personalized AI voice\",\n    price: 150,\n    category: \"feature\"\n  }];\n  const sampleAchievements = [{\n    id: 1,\n    name: \"First Steps\",\n    description: \"Complete your first journal entry\",\n    earned: true,\n    icon: \"ðŸ“\"\n  }, {\n    id: 2,\n    name: \"7-Day Warrior\",\n    description: \"Maintain a 7-day streak\",\n    earned: false,\n    icon: \"ðŸ”¥\"\n  }, {\n    id: 3,\n    name: \"Community Builder\",\n    description: \"Join your first tribe\",\n    earned: false,\n    icon: \"ðŸ‘¥\"\n  }, {\n    id: 4,\n    name: \"30-Day Calm Seeker\",\n    description: \"Maintain a 30-day streak\",\n    earned: false,\n    icon: \"ðŸŒ¿\"\n  }, {\n    id: 5,\n    name: \"365-Day Legend\",\n    description: \"Maintain a 365-day streak\",\n    earned: false,\n    icon: \"ðŸ‘‘\"\n  }, {\n    id: 6,\n    name: \"Mental Fitness Pro\",\n    description: \"Reach 90+ mental fitness score\",\n    earned: false,\n    icon: \"ðŸ’ª\"\n  }];\n\n  // AI Response templates for different moods\n  const aiResponses = {\n    happy: [\"That's wonderful to hear! ðŸ˜Š Your positivity is contagious. What's making you feel so happy today?\", \"I'm so glad you're feeling happy! ðŸŒŸ Celebrating the good moments is important. Want to share what's bringing you joy?\", \"Happiness looks good on you! âœ¨ Let's savor this moment together. What's making you smile today?\"],\n    sad: [\"I'm sorry you're feeling down. ðŸ˜” It's okay to have sad days - they make the happy ones brighter. Want to talk about what's bothering you?\", \"I hear you're feeling sad, and I'm here for you. ðŸ’™ Sometimes just sharing how we feel can lighten the load. What's on your mind?\", \"Thank you for sharing that you're feeling sad. It takes courage to acknowledge these feelings. ðŸŒ§ï¸ Would you like to talk more about what's causing this?\"],\n    anxious: [\"I understand that anxious feeling. ðŸ«‚ Let's take a deep breath together. Would you like to try a quick grounding exercise?\", \"Anxiety can be really overwhelming. ðŸ’­ I'm here to help you through it. Want to explore what's triggering these feelings?\", \"It's okay to feel anxious sometimes. ðŸŒ«ï¸ Let's work through this together. Would naming the specific worries help?\"],\n    angry: [\"I hear the frustration in your words. ðŸ’¢ Anger is a valid emotion - it's what we do with it that matters. Want to talk about what's upsetting you?\", \"It sounds like you're feeling pretty angry right now. ðŸ”¥ Let's channel that energy constructively. What's triggering this response?\", \"Anger can be a powerful messenger. ðŸ“£ I'm here to listen without judgment. Want to explore what's beneath the surface?\"],\n    neutral: [\"Thanks for checking in with me. ðŸ¤— How has your day been so far?\", \"I'm here to listen whenever you're ready to share. ðŸ’« What's on your mind today?\", \"Hello there! ðŸŒˆ How are you really feeling behind that neutral facade?\"]\n  };\n\n  // Load saved session\n  useEffect(() => {\n    const token = localStorage.getItem('accessToken');\n    const userData = localStorage.getItem('user');\n    const savedTheme = localStorage.getItem('theme') || 'default';\n    const savedTribes = JSON.parse(localStorage.getItem('userTribes') || '[]');\n    const savedAchievements = JSON.parse(localStorage.getItem('achievements') || '[]');\n    const savedAiProvider = localStorage.getItem('aiProvider') || 'gemini';\n    const savedAudio = localStorage.getItem('audioEnabled') !== 'false';\n    const savedMusic = localStorage.getItem('musicEnabled') !== 'false';\n    const savedLastStreakUpdate = localStorage.getItem('lastStreakUpdate') || '';\n    if (token && userData) {\n      const userObj = JSON.parse(userData);\n      setUser(userObj);\n      setIsLoggedIn(true);\n      setShowLogin(false);\n      setCurrentTheme(savedTheme);\n      setUserTribes(savedTribes);\n      setAchievements(savedAchievements);\n      setAiProvider(savedAiProvider);\n      setAudioEnabled(savedAudio);\n      setMusicEnabled(savedMusic);\n      setLastStreakUpdate(savedLastStreakUpdate);\n      loadInitialData();\n    }\n  }, []);\n\n  // Auto scroll\n  useEffect(() => {\n    var _chatEndRef$current;\n    (_chatEndRef$current = chatEndRef.current) === null || _chatEndRef$current === void 0 ? void 0 : _chatEndRef$current.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  }, [messages]);\n  const loadInitialData = async () => {\n    try {\n      // Try to load data from backend first\n      const [therapistsData, resourcesData, tribesData, shopData, journalData, moodWallData, profileData] = await Promise.allSettled([apiService.getTherapists(), apiService.getResources(), apiService.getMoodTribes(), apiService.getShopItems(), apiService.getJournalEntries(), apiService.getMoodWall(), apiService.getProfile()]);\n\n      // Set therapists\n      if (therapistsData.status === 'fulfilled') {\n        setTherapists(therapistsData.value.therapists || therapistsData.value);\n      } else {\n        setTherapists(sampleTherapists);\n      }\n\n      // Set resources\n      if (resourcesData.status === 'fulfilled') {\n        setResources(resourcesData.value.resources || resourcesData.value);\n      } else {\n        setResources(sampleResources);\n      }\n\n      // Set mood tribes\n      if (tribesData.status === 'fulfilled') {\n        const userTribeIds = userTribes.map(t => t.id);\n        const updatedTribes = (tribesData.value.tribes || tribesData.value).map(tribe => ({\n          ...tribe,\n          isMember: userTribeIds.includes(tribe.id)\n        }));\n        setMoodTribes(updatedTribes);\n      } else {\n        const userTribeIds = userTribes.map(t => t.id);\n        const updatedTribes = sampleMoodTribes.map(tribe => ({\n          ...tribe,\n          isMember: userTribeIds.includes(tribe.id)\n        }));\n        setMoodTribes(updatedTribes);\n      }\n\n      // Set shop items\n      if (shopData.status === 'fulfilled') {\n        setShopItems(shopData.value.items || shopData.value);\n      } else {\n        setShopItems(sampleShopItems);\n      }\n\n      // Set journal entries\n      if (journalData.status === 'fulfilled') {\n        setJournalEntries(journalData.value.entries || journalData.value);\n      } else {\n        const sampleEntries = [{\n          id: 1,\n          text: \"Today was a good day. I felt productive and happy.\",\n          summary: \"Positive day with productivity\",\n          mood: \"happy\",\n          date: new Date().toISOString().split('T')[0],\n          shared: false\n        }, {\n          id: 2,\n          text: \"Feeling a bit anxious about the upcoming presentation. Need to practice more.\",\n          summary: \"Anxious about presentation\",\n          mood: \"anxious\",\n          date: \"2023-10-24\",\n          shared: true\n        }, {\n          id: 3,\n          text: \"Had a great conversation with my friend. It felt good to open up.\",\n          summary: \"Positive social interaction\",\n          mood: \"happy\",\n          date: \"2023-10-23\",\n          shared: false\n        }];\n        setJournalEntries(sampleEntries);\n      }\n\n      // Set mood wall\n      if (moodWallData.status === 'fulfilled') {\n        setMoodWall(moodWallData.value.posts || moodWallData.value);\n      } else {\n        const samplePosts = [{\n          id: 1,\n          text: \"Today I finally managed to meditate for 10 minutes straight! Feeling proud of myself.\",\n          mood: \"happy\",\n          likes: 12,\n          timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),\n          anonymous: true,\n          userName: \"Anonymous\"\n        }, {\n          id: 2,\n          text: \"Struggling with anxiety today. Anyone else feeling this way?\",\n          mood: \"anxious\",\n          likes: 8,\n          timestamp: new Date(Date.now() - 5 * 60 * 60 * 1000).toISOString(),\n          anonymous: true,\n          userName: \"Anonymous\"\n        }, {\n          id: 3,\n          text: \"Grateful for this community. Reading your stories gives me hope.\",\n          mood: \"grateful\",\n          likes: 25,\n          timestamp: new Date(Date.now() - 8 * 60 * 60 * 1000).toISOString(),\n          anonymous: false,\n          userName: \"HappyUser123\"\n        }];\n        setMoodWall(samplePosts);\n      }\n\n      // Set profile data\n      if (profileData.status === 'fulfilled') {\n        setAchievements(profileData.value.achievements || []);\n      } else {\n        setAchievements(sampleAchievements);\n      }\n\n      // Load initial chat message\n      setMessages([{\n        text: \"Hello! I'm MoodMate, your mental health companion. How are you feeling today?\",\n        sender: \"bot\"\n      }]);\n\n      // Initialize tribe chat messages\n      const initialTribeChats = {};\n      const tribes = tribesData.status === 'fulfilled' ? tribesData.value.tribes || tribesData.value : sampleMoodTribes;\n      tribes.forEach(tribe => {\n        initialTribeChats[tribe.id] = [{\n          id: 1,\n          message: \"Hello everyone! How are you all feeling today?\",\n          user_name: \"Anonymous\",\n          timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString()\n        }, {\n          id: 2,\n          message: \"I've been practicing mindfulness and it's really helping with my anxiety ðŸ˜Š\",\n          user_name: \"Anonymous\",\n          timestamp: new Date(Date.now() - 1 * 60 * 60 * 1000).toISOString()\n        }];\n      });\n      setTribeChatMessages(initialTribeChats);\n\n      // Load user bookings\n      try {\n        const bookingsData = await apiService.getUserBookings();\n        setUserBookings(bookingsData.bookings || bookingsData);\n      } catch (error) {\n        console.error(\"Error loading bookings:\", error);\n      }\n    } catch (error) {\n      console.error(\"Error loading initial data:\", error);\n      // Fallback to sample data\n      setTherapists(sampleTherapists);\n      setResources(sampleResources);\n      const userTribeIds = userTribes.map(t => t.id);\n      const updatedTribes = sampleMoodTribes.map(tribe => ({\n        ...tribe,\n        isMember: userTribeIds.includes(tribe.id)\n      }));\n      setMoodTribes(updatedTribes);\n      setShopItems(sampleShopItems);\n      const sampleEntries = [{\n        id: 1,\n        text: \"Today was a good day. I felt productive and happy.\",\n        summary: \"Positive day with productivity\",\n        mood: \"happy\",\n        date: new Date().toISOString().split('T')[0],\n        shared: false\n      }, {\n        id: 2,\n        text: \"Feeling a bit anxious about the upcoming presentation. Need to practice more.\",\n        summary: \"Anxious about presentation\",\n        mood: \"anxious\",\n        date: \"2023-10-24\",\n        shared: true\n      }, {\n        id: 3,\n        text: \"Had a great conversation with my friend. It felt good to open up.\",\n        summary: \"Positive social interaction\",\n        mood: \"happy\",\n        date: \"2023-10-23\",\n        shared: false\n      }];\n      setJournalEntries(sampleEntries);\n      const samplePosts = [{\n        id: 1,\n        text: \"Today I finally managed to meditate for 10 minutes straight! Feeling proud of myself.\",\n        mood: \"happy\",\n        likes: 12,\n        timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),\n        anonymous: true,\n        userName: \"Anonymous\"\n      }, {\n        id: 2,\n        text: \"Struggling with anxiety today. Anyone else feeling this way?\",\n        mood: \"anxious\",\n        likes: 8,\n        timestamp: new Date(Date.now() - 5 * 60 * 60 * 1000).toISOString(),\n        anonymous: true,\n        userName: \"Anonymous\"\n      }, {\n        id: 3,\n        text: \"Grateful for this community. Reading your stories gives me hope.\",\n        mood: \"grateful\",\n        likes: 25,\n        timestamp: new Date(Date.now() - 8 * 60 * 60 * 1000).toISOString(),\n        anonymous: false,\n        userName: \"HappyUser123\"\n      }];\n      setMoodWall(samplePosts);\n      setAchievements(sampleAchievements);\n      setMessages([{\n        text: \"Hello! I'm MoodMate, your mental health companion. How are you feeling today?\",\n        sender: \"bot\"\n      }]);\n    }\n  };\n  const simulateTyping = async () => {\n    const typingPhrases = [\"Thinking\", \"Thinking.\", \"Thinking..\", \"Thinking...\"];\n    for (let i = 0; i < 6; i++) {\n      setTypingIndicator(typingPhrases[i % 4]);\n      await new Promise(resolve => setTimeout(resolve, 300));\n    }\n    setTypingIndicator(\"\");\n  };\n  const handleLogin = async e => {\n    e.preventDefault();\n    setLoginError(\"\");\n    const formData = new FormData(e.target);\n    const credentials = {\n      email: formData.get('email'),\n      password: formData.get('password')\n    };\n    try {\n      const data = await apiService.login(credentials);\n      if (data.status === \"success\") {\n        localStorage.setItem('accessToken', data.token);\n        const userData = {\n          id: data.user.id,\n          email: data.user.email,\n          name: data.user.name,\n          coins: data.user.coins,\n          streak: data.user.streak,\n          mentalFitness: data.user.mentalFitness || 75\n        };\n        localStorage.setItem('user', JSON.stringify(userData));\n        setUser(userData);\n        setIsLoggedIn(true);\n        setShowLogin(false);\n        loadInitialData();\n      } else {\n        setLoginError(data.error || \"Login failed\");\n      }\n    } catch (error) {\n      console.error(\"Login error:\", error);\n      setLoginError(error.message || \"Login failed. Please try again.\");\n    }\n  };\n  const handleRegister = async e => {\n    e.preventDefault();\n    setRegisterError(\"\");\n    const formData = new FormData(e.target);\n    const userData = {\n      name: formData.get('name'),\n      email: formData.get('email'),\n      password: formData.get('password'),\n      confirmPassword: formData.get('confirmPassword')\n    };\n    try {\n      const data = await apiService.register(userData);\n      if (data.status === \"success\") {\n        localStorage.setItem('accessToken', data.token);\n        const userObj = {\n          id: data.user.id,\n          email: data.user.email,\n          name: data.user.name,\n          coins: data.user.coins,\n          streak: data.user.streak,\n          mentalFitness: data.user.mentalFitness || 75\n        };\n        localStorage.setItem('user', JSON.stringify(userObj));\n        setUser(userObj);\n        setIsLoggedIn(true);\n        setShowRegister(false);\n        setShowLogin(false);\n        loadInitialData();\n      } else {\n        setRegisterError(data.error || \"Registration failed\");\n      }\n    } catch (error) {\n      console.error(\"Registration error:\", error);\n      setRegisterError(error.message || \"Registration failed. Please try again.\");\n    }\n  };\n  const handleLogout = () => {\n    localStorage.removeItem('accessToken');\n    localStorage.removeItem('user');\n    setUser(null);\n    setIsLoggedIn(false);\n    setShowLogin(true);\n    setMessages([]);\n    setSidebarOpen(false);\n  };\n  const startNewChat = () => {\n    setMessages([{\n      text: \"Hello! I'm MoodMate, your mental health companion. How are you feeling today?\",\n      sender: \"bot\"\n    }]);\n    setShowNewChatModal(false);\n  };\n  const sendMessage = async () => {\n    if (!input.trim() || !isLoggedIn) return;\n    const userMsg = {\n      text: input,\n      sender: \"user\"\n    };\n    setMessages(prev => [...prev, userMsg]);\n    setInput(\"\");\n    setIsTyping(true);\n\n    // Check for emergency keywords\n    const emergencyKeywords = ['suicide', 'kill myself', 'end it all', 'want to die', 'self harm', 'hurt myself'];\n    const hasEmergency = emergencyKeywords.some(keyword => input.toLowerCase().includes(keyword));\n    if (hasEmergency) {\n      setShowEmergencyModal(true);\n      setIsTyping(false);\n      return;\n    }\n\n    // Simulate typing animation\n    simulateTyping();\n    try {\n      const data = await apiService.sendChatMessage(input);\n      if (data.status === \"crisis\") {\n        setShowEmergencyModal(true);\n        setIsTyping(false);\n        return;\n      }\n      const botMsg = {\n        text: data.reply,\n        sender: \"bot\",\n        mood: data.mood,\n        moodEmoji: data.moodEmoji,\n        phrase: data.phrase\n      };\n      setMessages(prev => [...prev, botMsg]);\n\n      // Update user data if coins were earned\n      if (data.coinsEarned > 0) {\n        const newCoins = ((user === null || user === void 0 ? void 0 : user.coins) || 0) + data.coinsEarned;\n        const updatedUser = {\n          ...user,\n          coins: newCoins,\n          streak: data.streak\n        };\n        setUser(updatedUser);\n        localStorage.setItem('user', JSON.stringify(updatedUser));\n      }\n    } catch (error) {\n      console.log(\"Chat error:\", error);\n      // Fallback to diverse AI responses based on mood detection\n      const mood = detectMoodFromInput(input);\n      const moodResponses = aiResponses[mood] || aiResponses.neutral;\n      const randomResponse = moodResponses[Math.floor(Math.random() * moodResponses.length)];\n      const botMsg = {\n        text: randomResponse,\n        sender: \"bot\",\n        mood: mood,\n        moodEmoji: getMoodEmoji(mood),\n        phrase: getMoodPhrase(mood)\n      };\n      setMessages(prev => [...prev, botMsg]);\n    }\n    setIsTyping(false);\n    setTypingIndicator(\"\");\n  };\n  const detectMoodFromInput = text => {\n    const textLower = text.toLowerCase();\n    if (textLower.includes('happy') || textLower.includes('good') || textLower.includes('great') || textLower.includes('excited')) return 'happy';\n    if (textLower.includes('sad') || textLower.includes('depressed') || textLower.includes('unhappy') || textLower.includes('cry')) return 'sad';\n    if (textLower.includes('anxious') || textLower.includes('nervous') || textLower.includes('worried') || textLower.includes('stress')) return 'anxious';\n    if (textLower.includes('angry') || textLower.includes('mad') || textLower.includes('frustrated') || textLower.includes('annoyed')) return 'angry';\n    return 'neutral';\n  };\n  const getMoodEmoji = mood => {\n    const emojis = {\n      happy: \"ðŸ˜Š\",\n      sad: \"ðŸ˜¢\",\n      anxious: \"ðŸ˜°\",\n      angry: \"ðŸ˜ \",\n      neutral: \"ðŸ˜Š\"\n    };\n    return emojis[mood];\n  };\n  const getMoodPhrase = mood => {\n    const phrases = {\n      happy: \"à¤–à¥à¤¶ à¤°à¤¹à¥‹ à¤¹à¤®à¥‡à¤¶à¤¾ â€” à¤†à¤ªà¤•à¥€ à¤®à¥à¤¸à¥à¤•à¤¾à¤¨ à¤•à¥€ à¤µà¤œà¤¹ à¤•à¥à¤› à¤¹à¥ˆà¥¤\",\n      sad: \"à¤¯à¤¹ à¤­à¥€ à¤¬à¥€à¤¤ à¤œà¤¾à¤à¤—à¤¾ â€” à¤¥à¥‹à¤¡à¤¼à¥€ à¤¸à¥€ à¤‰à¤®à¥à¤®à¥€à¤¦ à¤°à¤–à¥‹à¥¤\",\n      anxious: \"à¤¶à¤¾à¤‚à¤¤ à¤°à¤¹à¤¨à¤¾ à¤¸à¥€à¤–à¥‹, à¤¸à¤¬ à¤§à¥€à¤°à¥‡-à¤§à¥€à¤°à¥‡ à¤ à¥€à¤• à¤¹à¥‹à¤—à¤¾à¥¤\",\n      angry: \"à¤—à¤¹à¤°à¥‡ à¤¸à¤¾à¤à¤¸ à¤²à¥‹ â€” à¤¹à¤° à¤—à¤¼à¥à¤¸à¥à¤¸à¤¾ à¤•à¥à¤› à¤¸à¤¿à¤–à¤¾ à¤•à¤° à¤œà¤¾à¤¤à¤¾ à¤¹à¥ˆà¥¤\",\n      neutral: \"You're doing great. Keep going!\"\n    };\n    return phrases[mood];\n  };\n  const addJournalEntry = async () => {\n    const entryText = prompt(\"What's on your mind today?\");\n    if (!entryText) return;\n    try {\n      const data = await apiService.addJournalEntry({\n        text: entryText,\n        mood: \"neutral\",\n        shared: false\n      });\n      if (data.status === \"success\") {\n        const newEntry = {\n          id: Date.now(),\n          text: entryText,\n          summary: \"Personal reflection\",\n          mood: \"neutral\",\n          date: new Date().toISOString().split('T')[0],\n          shared: false\n        };\n        setJournalEntries(prev => [newEntry, ...prev]);\n\n        // Award coins\n        const newCoins = ((user === null || user === void 0 ? void 0 : user.coins) || 0) + 3;\n        const updatedUser = {\n          ...user,\n          coins: newCoins\n        };\n        setUser(updatedUser);\n        localStorage.setItem('user', JSON.stringify(updatedUser));\n        alert(\"Journal entry saved! +3 coins earned!\");\n      } else {\n        alert(data.error || \"Failed to save journal entry\");\n      }\n    } catch (error) {\n      console.error(\"Journal error:\", error);\n      // Fallback to local storage\n      const newEntry = {\n        id: Date.now(),\n        text: entryText,\n        summary: \"Personal reflection\",\n        mood: \"neutral\",\n        date: new Date().toISOString().split('T')[0],\n        shared: false\n      };\n      setJournalEntries(prev => [newEntry, ...prev]);\n      const newCoins = ((user === null || user === void 0 ? void 0 : user.coins) || 0) + 3;\n      const updatedUser = {\n        ...user,\n        coins: newCoins\n      };\n      setUser(updatedUser);\n      localStorage.setItem('user', JSON.stringify(updatedUser));\n      alert(\"Journal entry saved! +3 coins earned!\");\n    }\n  };\n  const shareJournalEntry = async entryId => {\n    try {\n      const data = await apiService.addJournalEntry({\n        id: entryId,\n        shared: true\n      });\n      if (data.status === \"success\") {\n        const updatedEntries = journalEntries.map(e => e.id === entryId ? {\n          ...e,\n          shared: true\n        } : e);\n        setJournalEntries(updatedEntries);\n        alert(\"Journal entry shared to your tribes!\");\n      } else {\n        alert(data.error || \"Failed to share journal entry\");\n      }\n    } catch (error) {\n      console.error(\"Share error:\", error);\n      // Fallback to local update\n      const updatedEntries = journalEntries.map(e => e.id === entryId ? {\n        ...e,\n        shared: true\n      } : e);\n      setJournalEntries(updatedEntries);\n      alert(\"Journal entry shared to your tribes!\");\n    }\n  };\n  const addMoodWallPost = async () => {\n    const postText = prompt(\"Share your feelings with the community (anonymous):\");\n    if (!postText) return;\n    try {\n      const data = await apiService.addMoodWallPost({\n        text: postText,\n        mood: \"neutral\",\n        anonymous: true\n      });\n      if (data.status === \"success\") {\n        const newPost = {\n          id: Date.now(),\n          text: postText,\n          mood: \"neutral\",\n          likes: 0,\n          timestamp: new Date().toISOString(),\n          anonymous: true,\n          userName: \"Anonymous\"\n        };\n        setMoodWall(prev => [newPost, ...prev]);\n        alert(\"Posted to mood wall!\");\n      } else {\n        alert(data.error || \"Failed to post to mood wall\");\n      }\n    } catch (error) {\n      console.error(\"Mood wall error:\", error);\n      // Fallback to local storage\n      const newPost = {\n        id: Date.now(),\n        text: postText,\n        mood: \"neutral\",\n        likes: 0,\n        timestamp: new Date().toISOString(),\n        anonymous: true,\n        userName: \"Anonymous\"\n      };\n      setMoodWall(prev => [newPost, ...prev]);\n      alert(\"Posted to mood wall!\");\n    }\n  };\n  const joinTribe = async tribeId => {\n    try {\n      const data = await apiService.joinTribe(tribeId);\n      if (data.status === \"success\") {\n        const tribe = moodTribes.find(t => t.id === tribeId);\n        if (tribe) {\n          const updatedTribes = moodTribes.map(t => t.id === tribeId ? {\n            ...t,\n            isMember: true,\n            member_count: t.member_count + 1\n          } : t);\n          setMoodTribes(updatedTribes);\n          setUserTribes(prev => [...prev, tribe]);\n          localStorage.setItem('userTribes', JSON.stringify([...userTribes, tribe]));\n          alert(`ðŸŽ‰ You've joined the ${tribe.name}!`);\n        }\n      } else {\n        alert(data.error || \"Failed to join tribe\");\n      }\n    } catch (error) {\n      console.error(\"Join tribe error:\", error);\n      // Fallback to local update\n      const tribe = moodTribes.find(t => t.id === tribeId);\n      if (tribe) {\n        const updatedTribes = moodTribes.map(t => t.id === tribeId ? {\n          ...t,\n          isMember: true,\n          member_count: t.member_count + 1\n        } : t);\n        setMoodTribes(updatedTribes);\n        setUserTribes(prev => [...prev, tribe]);\n        localStorage.setItem('userTribes', JSON.stringify([...userTribes, tribe]));\n        alert(`ðŸŽ‰ You've joined the ${tribe.name}!`);\n      }\n    }\n  };\n  const sendTribeMessage = tribeId => {\n    if (!tribeInput.trim()) return;\n    const newMessage = {\n      id: Date.now(),\n      message: tribeInput,\n      user_name: \"You\",\n      timestamp: new Date().toISOString()\n    };\n    setTribeChatMessages(prev => ({\n      ...prev,\n      [tribeId]: [...(prev[tribeId] || []), newMessage]\n    }));\n    setTribeInput(\"\");\n  };\n  const playBreathingExercise = () => {\n    setMessages(prev => [...prev, {\n      text: \"Let's do a quick breathing exercise. Breathe in for 4 seconds, hold for 4 seconds, exhale for 6 seconds. Repeat 5 times. I'll guide you through it...\",\n      sender: \"bot\",\n      isExercise: true\n    }]);\n  };\n  const buyItem = async item => {\n    if (user.coins < item.price) {\n      alert(\"Not enough coins!\");\n      return;\n    }\n    if (window.confirm(`Buy ${item.name} for ${item.price} coins?`)) {\n      try {\n        const data = await apiService.purchaseItem(item.id);\n        if (data.status === \"success\") {\n          const newCoins = user.coins - item.price;\n          const updatedUser = {\n            ...user,\n            coins: newCoins\n          };\n          setUser(updatedUser);\n          localStorage.setItem('user', JSON.stringify(updatedUser));\n          if (item.category === \"theme\") {\n            setCurrentTheme(item.name.toLowerCase().replace(' theme', ''));\n            localStorage.setItem('theme', item.name.toLowerCase().replace(' theme', ''));\n            alert(`Theme applied! You're now using the ${item.name}.`);\n          } else if (item.name === \"Second Chance Token\") {\n            localStorage.setItem('secondChanceToken', 'true');\n            alert(\"Second Chance Token purchased! This will save your streak if you miss a day.\");\n          } else if (item.name === \"Custom Voice\") {\n            alert(\"Custom Voice purchased! Your AI companion will now use a personalized voice.\");\n          } else if (item.name === \"Meditation Pack\") {\n            alert(\"Meditation Pack purchased! You now have access to exclusive meditation content.\");\n          } else {\n            alert(`Purchased ${item.name}!`);\n          }\n        } else {\n          alert(data.error || \"Purchase failed\");\n        }\n      } catch (error) {\n        console.error(\"Purchase error:\", error);\n        // Fallback to local purchase\n        const newCoins = user.coins - item.price;\n        const updatedUser = {\n          ...user,\n          coins: newCoins\n        };\n        setUser(updatedUser);\n        localStorage.setItem('user', JSON.stringify(updatedUser));\n        if (item.category === \"theme\") {\n          setCurrentTheme(item.name.toLowerCase().replace(' theme', ''));\n          localStorage.setItem('theme', item.name.toLowerCase().replace(' theme', ''));\n          alert(`Theme applied! You're now using the ${item.name}.`);\n        } else if (item.name === \"Second Chance Token\") {\n          localStorage.setItem('secondChanceToken', 'true');\n          alert(\"Second Chance Token purchased! This will save your streak if you miss a day.\");\n        } else if (item.name === \"Custom Voice\") {\n          alert(\"Custom Voice purchased! Your AI companion will now use a personalized voice.\");\n        } else if (item.name === \"Meditation Pack\") {\n          alert(\"Meditation Pack purchased! You now have access to exclusive meditation content.\");\n        } else {\n          alert(`Purchased ${item.name}!`);\n        }\n      }\n    }\n  };\n  const applyTheme = themeName => {\n    setCurrentTheme(themeName);\n    localStorage.setItem('theme', themeName);\n  };\n  const toggleAudio = () => {\n    const newAudioEnabled = !audioEnabled;\n    setAudioEnabled(newAudioEnabled);\n    localStorage.setItem('audioEnabled', newAudioEnabled);\n  };\n  const toggleMusic = () => {\n    const newMusicEnabled = !musicEnabled;\n    setMusicEnabled(newMusicEnabled);\n    localStorage.setItem('musicEnabled', newMusicEnabled);\n  };\n  const switchAiProvider = provider => {\n    setAiProvider(provider);\n    localStorage.setItem('aiProvider', provider);\n  };\n  const bookAppointment = async () => {\n    if (!selectedDoctor || !selectedSlot || !selectedMode) {\n      alert(\"Please select a doctor, time slot, and mode\");\n      return;\n    }\n    try {\n      const bookingData = {\n        doctor_id: selectedDoctor.id,\n        slot_time: selectedSlot,\n        mode: selectedMode\n      };\n      const data = await apiService.bookAppointment(bookingData);\n      if (data.status === \"success\") {\n        alert(\"Appointment booked successfully!\");\n        setBookingStep(\"select-doctor\");\n        setSelectedDoctor(null);\n        setSelectedSlot(null);\n        setSelectedMode(\"chat\");\n\n        // Refresh bookings\n        const bookingsData = await apiService.getUserBookings();\n        setUserBookings(bookingsData.bookings || bookingsData);\n      } else {\n        alert(data.error || \"Failed to book appointment\");\n      }\n    } catch (error) {\n      console.error(\"Booking error:\", error);\n      alert(\"Failed to book appointment. Please try again.\");\n    }\n  };\n  const joinSession = async booking => {\n    try {\n      const data = await apiService.joinSession(booking.id);\n      if (data.status === \"success\") {\n        if (booking.mode === \"chat\") {\n          // Open chat interface\n          setActiveTab(\"chat\");\n        } else if (booking.mode === \"audio\" || booking.mode === \"video\") {\n          // Open meeting link in new tab\n          window.open(data.meeting_link, \"_blank\");\n        }\n      } else {\n        alert(data.error || \"Failed to join session\");\n      }\n    } catch (error) {\n      console.error(\"Join session error:\", error);\n      alert(\"Failed to join session. Please try again.\");\n    }\n  };\n  const formatDate = dateString => {\n    const options = {\n      weekday: 'long',\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    };\n    return new Date(dateString).toLocaleDateString(undefined, options);\n  };\n  const formatTime = timeString => {\n    return new Date(timeString).toLocaleTimeString([], {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  const EmergencyModal = () => {\n    if (!showEmergencyModal) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"emergency-modal\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"emergency-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u26A0\\uFE0F We're concerned about you\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1013,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Please choose an option below. Your safety matters \\uD83D\\uDC99\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1014,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"emergency-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"emergency-call\",\n            onClick: () => {\n              window.open('tel:1-800-273-8255');\n              setShowEmergencyModal(false);\n            },\n            children: \"Call for Help \\uD83D\\uDD34\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1017,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"emergency-resources\",\n            onClick: () => {\n              alert(\"Crisis Resources:\\n\\n1. National Suicide Prevention Lifeline: 1-800-273-8255\\n2. Crisis Text Line: Text HOME to 741741\\n3. iCall India: +91-9152987821\");\n              setShowEmergencyModal(false);\n            },\n            children: \"Show Resources \\uD83D\\uDCCB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1027,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"emergency-ok\",\n            onClick: () => setShowEmergencyModal(false),\n            children: \"I'm Fine Now \\u2705\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1037,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1016,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1012,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1011,\n      columnNumber: 7\n    }, this);\n  };\n  const NewChatModal = () => {\n    if (!showNewChatModal) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Start New Chat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1055,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Are you sure you want to start a new chat? Your current conversation will be cleared.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1056,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: startNewChat,\n            className: \"btn-primary\",\n            children: \"Yes, Start New Chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1058,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowNewChatModal(false),\n            className: \"btn-secondary\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1059,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1057,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1054,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1053,\n      columnNumber: 7\n    }, this);\n  };\n  const BookingWizard = () => {\n    if (bookingStep === \"select-doctor\") {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"booking-step\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Select a Doctor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1070,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"doctors-grid\",\n          children: therapists.map(doctor => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"doctor-card\",\n            onClick: () => {\n              setSelectedDoctor(doctor);\n              setBookingStep(\"select-slot\");\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"doctor-avatar\",\n              children: doctor.avatar || doctor.name.charAt(0)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1077,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: doctor.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1078,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: doctor.specialization\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1079,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Fee: \", doctor.price, \" coins\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1080,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modes\",\n              children: [doctor.mode && doctor.mode.includes(\"chat\") && /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uD83D\\uDCAC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1082,\n                columnNumber: 67\n              }, this), doctor.mode && doctor.mode.includes(\"audio\") && /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uD83C\\uDFA7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1083,\n                columnNumber: 68\n              }, this), doctor.mode && doctor.mode.includes(\"video\") && /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uD83D\\uDCF9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1084,\n                columnNumber: 68\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1081,\n              columnNumber: 17\n            }, this)]\n          }, doctor.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1073,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1071,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"back-button\",\n          onClick: () => setActiveTab(\"therapy\"),\n          children: \"Back to Therapy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1089,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1069,\n        columnNumber: 9\n      }, this);\n    } else if (bookingStep === \"select-slot\") {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"booking-step\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"Select Time Slot with Dr. \", selectedDoctor.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1095,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"slots-grid\",\n          children: selectedDoctor.availability_slots && selectedDoctor.availability_slots.map(slot => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `slot-card ${selectedSlot === slot ? \"selected\" : \"\"}`,\n            onClick: () => setSelectedSlot(slot),\n            children: formatTime(slot)\n          }, slot, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1098,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1096,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"booking-controls\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"back-button\",\n            onClick: () => setBookingStep(\"select-doctor\"),\n            children: \"Back to Doctors\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1108,\n            columnNumber: 13\n          }, this), selectedSlot && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"next-button\",\n            onClick: () => setBookingStep(\"select-mode\"),\n            children: \"Next\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1110,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1107,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1094,\n        columnNumber: 9\n      }, this);\n    } else if (bookingStep === \"select-mode\") {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"booking-step\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"Select Session Mode with Dr. \", selectedDoctor.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Selected time: \", formatTime(selectedSlot)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1119,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modes-grid\",\n          children: [selectedDoctor.mode && selectedDoctor.mode.includes(\"chat\") && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `mode-card ${selectedMode === \"chat\" ? \"selected\" : \"\"}`,\n            onClick: () => setSelectedMode(\"chat\"),\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"\\uD83D\\uDCAC Chat Session\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1126,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Text-based messaging\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1127,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1122,\n            columnNumber: 15\n          }, this), selectedDoctor.mode && selectedDoctor.mode.includes(\"audio\") && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `mode-card ${selectedMode === \"audio\" ? \"selected\" : \"\"}`,\n            onClick: () => setSelectedMode(\"audio\"),\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"\\uD83C\\uDFA7 Audio Call\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1135,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Voice conversation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1136,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1131,\n            columnNumber: 15\n          }, this), selectedDoctor.mode && selectedDoctor.mode.includes(\"video\") && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `mode-card ${selectedMode === \"video\" ? \"selected\" : \"\"}`,\n            onClick: () => setSelectedMode(\"video\"),\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"\\uD83D\\uDCF9 Video Call\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1144,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Face-to-face conversation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1145,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1140,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"booking-controls\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"back-button\",\n            onClick: () => setBookingStep(\"select-slot\"),\n            children: \"Back to Time Slots\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1150,\n            columnNumber: 13\n          }, this), selectedMode && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"next-button\",\n            onClick: () => setBookingStep(\"confirm-booking\"),\n            children: \"Next\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1152,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1149,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1117,\n        columnNumber: 9\n      }, this);\n    } else if (bookingStep === \"confirm-booking\") {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"booking-step\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Confirm Your Booking\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1160,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"booking-summary\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Appointment Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1162,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Doctor:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1163,\n              columnNumber: 16\n            }, this), \" Dr. \", selectedDoctor.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1163,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Specialization:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1164,\n              columnNumber: 16\n            }, this), \" \", selectedDoctor.specialization]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1164,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Date & Time:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1165,\n              columnNumber: 16\n            }, this), \" \", formatTime(selectedSlot)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1165,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Mode:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1166,\n              columnNumber: 16\n            }, this), selectedMode === \"chat\" && \" ðŸ’¬ Chat\", selectedMode === \"audio\" && \" ðŸŽ§ Audio Call\", selectedMode === \"video\" && \" ðŸ“¹ Video Call\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1166,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Fee:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1171,\n              columnNumber: 16\n            }, this), \" \", selectedDoctor.price, \" coins\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1171,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"booking-controls\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"back-button\",\n            onClick: () => setBookingStep(\"select-mode\"),\n            children: \"Back to Mode Selection\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1174,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"confirm-button\",\n            onClick: bookAppointment,\n            children: \"Confirm Booking\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1175,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1173,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1159,\n        columnNumber: 9\n      }, this);\n    }\n  };\n  const TribeCommunity = () => {\n    if (!activeTribe) return null;\n    const tribeChat = tribeChatMessages[activeTribe.id] || [];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tribe-community\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tribe-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveTribe(null),\n          className: \"back-btn\",\n          children: \"\\u2190 Back to Communities\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1190,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [activeTribe.name, \" Community\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1193,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: activeTribe.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1194,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tribe-stats\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\uD83D\\uDC65 \", activeTribe.member_count, \" members\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1196,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\uD83D\\uDCAC \", tribeChat.length, \" messages\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1197,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1195,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1189,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tribe-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tribe-chat\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Community Chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1203,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tribe-messages\",\n            children: tribeChat.map(msg => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tribe-message\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-avatar\",\n                children: msg.user_name.charAt(0)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1207,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"message-sender\",\n                  children: msg.user_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1209,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: msg.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1210,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"message-time\",\n                  children: new Date(msg.timestamp).toLocaleTimeString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1211,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1208,\n                columnNumber: 19\n              }, this)]\n            }, `tribe-msg-${msg.id}-${Date.now()}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1206,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1204,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tribe-input\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Share something with the community...\",\n              value: tribeInput,\n              onChange: e => setTribeInput(e.target.value),\n              onKeyDown: e => e.key === \"Enter\" && sendTribeMessage(activeTribe.id)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1218,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => sendTribeMessage(activeTribe.id),\n              children: \"Send\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1225,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1217,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1202,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tribe-resources\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Community Resources\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1230,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"resource-list\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"resource-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Mindfulness Exercises\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1233,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Guided meditation for beginners\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1234,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                children: \"View\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1235,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1232,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"resource-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Support Threads\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1238,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Connect with others who understand\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1239,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                children: \"Explore\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1240,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1237,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"resource-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Weekly Challenges\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1243,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Join community wellness challenges\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1244,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                children: \"Participate\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1245,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1242,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1231,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1229,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1201,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1188,\n      columnNumber: 7\n    }, this);\n  };\n  const Sidebar = () => {\n    if (!sidebarOpen) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar-overlay\",\n      onClick: () => setSidebarOpen(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sidebar-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"MoodMate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1261,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setSidebarOpen(false),\n            className: \"close-btn\",\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1262,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1260,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sidebar-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sidebar-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Navigation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1267,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setActiveTab(\"chat\");\n                setSidebarOpen(false);\n              },\n              className: `sidebar-btn ${activeTab === \"chat\" ? \"active\" : \"\"}`,\n              children: \"\\uD83D\\uDCAC Chat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1268,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setActiveTab(\"journal\");\n                setSidebarOpen(false);\n              },\n              className: `sidebar-btn ${activeTab === \"journal\" ? \"active\" : \"\"}`,\n              children: \"\\uD83D\\uDCD3 Journal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1274,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setActiveTab(\"therapy\");\n                setSidebarOpen(false);\n              },\n              className: `sidebar-btn ${activeTab === \"therapy\" ? \"active\" : \"\"}`,\n              children: \"\\uD83D\\uDC68\\u200D\\u2695\\uFE0F Therapy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1280,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setActiveTab(\"community\");\n                setSidebarOpen(false);\n              },\n              className: `sidebar-btn ${activeTab === \"community\" ? \"active\" : \"\"}`,\n              children: \"\\uD83C\\uDF0D Community\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1286,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setActiveTab(\"shop\");\n                setSidebarOpen(false);\n              },\n              className: `sidebar-btn ${activeTab === \"shop\" ? \"active\" : \"\"}`,\n              children: \"\\uD83D\\uDED2 Shop\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1292,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setActiveTab(\"profile\");\n                setSidebarOpen(false);\n              },\n              className: `sidebar-btn ${activeTab === \"profile\" ? \"active\" : \"\"}`,\n              children: \"\\uD83D\\uDC64 Profile\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1298,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1266,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sidebar-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Quick Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1307,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowNewChatModal(true);\n                setSidebarOpen(false);\n              },\n              className: \"sidebar-btn\",\n              children: \"New Chat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1308,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                playBreathingExercise();\n                setSidebarOpen(false);\n              },\n              className: \"sidebar-btn\",\n              children: \"Breathing Exercise\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1311,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1306,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sidebar-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Settings\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1317,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Voice Responses\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1319,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"switch\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: audioEnabled,\n                  onChange: toggleAudio\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1321,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"slider\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1322,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1320,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1318,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Background Music\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1326,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"switch\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: musicEnabled,\n                  onChange: toggleMusic\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1328,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"slider\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1329,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1327,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1325,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"AI Provider\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1333,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: aiProvider,\n                onChange: e => switchAiProvider(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"gemini\",\n                  children: \"Gemini AI\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1335,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"fallback\",\n                  children: \"Fallback Mode\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1336,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1334,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1332,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1316,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1265,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1259,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1258,\n      columnNumber: 7\n    }, this);\n  };\n  const TherapyTab = () => {\n    if (bookingStep !== \"select-doctor\") {\n      return /*#__PURE__*/_jsxDEV(BookingWizard, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1348,\n        columnNumber: 14\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"therapy-tab\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"therapy-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Professional Therapy Sessions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1354,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"book-session-btn\",\n          onClick: () => setBookingStep(\"select-doctor\"),\n          children: \"Book a Session\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1355,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1353,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"my-bookings-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"My Upcoming Sessions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1361,\n          columnNumber: 11\n        }, this), userBookings.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"You don't have any upcoming sessions.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1363,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bookings-list\",\n          children: userBookings.map(booking => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"booking-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"booking-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: [\"Session with Dr. \", booking.doctor_name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1369,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [formatDate(booking.slot_time), \" at \", formatTime(booking.slot_time)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1370,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Mode:\", booking.mode === \"chat\" && \" ðŸ’¬ Chat\", booking.mode === \"audio\" && \" ðŸŽ§ Audio\", booking.mode === \"video\" && \" ðŸ“¹ Video\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1371,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Status: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `status ${booking.status}`,\n                  children: booking.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1376,\n                  columnNumber: 32\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1376,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1368,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"booking-actions\",\n              children: booking.status === \"confirmed\" && /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"join-session-btn\",\n                onClick: () => joinSession(booking),\n                children: \"Join Session\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1380,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1378,\n              columnNumber: 19\n            }, this)]\n          }, booking.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1367,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1365,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1360,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"available-doctors-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Available Doctors\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1395,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"doctors-grid\",\n          children: therapists.map(doctor => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"doctor-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"doctor-avatar\",\n              children: doctor.avatar || doctor.name.charAt(0)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1399,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: doctor.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1400,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: doctor.specialization\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1401,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Fee: \", doctor.price, \" coins\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1402,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modes\",\n              children: [doctor.mode && doctor.mode.includes(\"chat\") && /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uD83D\\uDCAC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1404,\n                columnNumber: 67\n              }, this), doctor.mode && doctor.mode.includes(\"audio\") && /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uD83C\\uDFA7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1405,\n                columnNumber: 68\n              }, this), doctor.mode && doctor.mode.includes(\"video\") && /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uD83D\\uDCF9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1406,\n                columnNumber: 68\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1403,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"book-btn\",\n              onClick: () => {\n                setSelectedDoctor(doctor);\n                setBookingStep(\"select-slot\");\n              },\n              children: \"Book Now\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1408,\n              columnNumber: 17\n            }, this)]\n          }, doctor.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1398,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1396,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1394,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"resources-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83C\\uDD98 Crisis Resources\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1423,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"resources-grid\",\n          children: resources.filter(r => r.type === 'crisis').map((resource, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"resource-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: resource.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1427,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: resource.number\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1428,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              children: resource.available\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1429,\n              columnNumber: 17\n            }, this), resource.number && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"call-btn\",\n              onClick: () => window.open(`tel:${resource.number.replace(/\\D/g, '')}`),\n              children: \"\\uD83D\\uDCDE Call Now\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1431,\n              columnNumber: 19\n            }, this)]\n          }, `resource-${index}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1426,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1424,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1422,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1352,\n      columnNumber: 7\n    }, this);\n  };\n  const shopCategories = [\"All\", \"theme\", \"cosmetic\", \"content\", \"utility\", \"feature\"];\n  const filteredShopItems = activeShopCategory === \"All\" ? shopItems : shopItems.filter(item => item.category.toLowerCase() === activeShopCategory.toLowerCase());\n  if (!isLoggedIn) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-container auth-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\uD83C\\uDF19 MoodMate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1456,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Your mental health companion\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1457,\n          columnNumber: 11\n        }, this), showLogin && /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleLogin,\n          className: \"auth-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1461,\n            columnNumber: 15\n          }, this), loginError && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-message\",\n            children: loginError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1462,\n            columnNumber: 30\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            placeholder: \"Email\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1463,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"password\",\n            placeholder: \"Password\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1464,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1465,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"auth-links\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"auth-link\",\n              onClick: () => setShowRegister(true),\n              children: \"Create Account\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1468,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"auth-link\",\n              onClick: () => setShowForgotPassword(true),\n              children: \"Forgot Password?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1471,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1467,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1460,\n          columnNumber: 13\n        }, this), showRegister && /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleRegister,\n          className: \"auth-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1480,\n            columnNumber: 15\n          }, this), registerError && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-message\",\n            children: registerError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1481,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            placeholder: \"Full Name\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1482,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            placeholder: \"Email\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1483,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"password\",\n            placeholder: \"Password (min 8 chars)\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1484,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"confirmPassword\",\n            placeholder: \"Confirm Password\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1485,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1486,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Already have an account?\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"auth-link\",\n              onClick: () => setShowRegister(false),\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1489,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1487,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1479,\n          columnNumber: 13\n        }, this), showForgotPassword && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"auth-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Reset Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1498,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Please contact support to reset your password.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1499,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Remember your password?\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"auth-link\",\n              onClick: () => setShowForgotPassword(false),\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1502,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1500,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1497,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1455,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1454,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `app-container ${currentTheme}-theme`,\n    children: [/*#__PURE__*/_jsxDEV(EmergencyModal, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1515,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NewChatModal, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1516,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1517,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"app-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setSidebarOpen(true),\n          className: \"menu-btn\",\n          children: \"\\u2630\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1521,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\uD83C\\uDF19 MoodMate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1522,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-stats\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"streak-display\",\n            children: [\"\\uD83D\\uDD25 \", (user === null || user === void 0 ? void 0 : user.streak) || 0, \" day streak\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1524,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\uD83E\\uDE99 \", (user === null || user === void 0 ? void 0 : user.coins) || 0, \" coins\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1525,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1523,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1520,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-right\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"user-name\",\n            children: user === null || user === void 0 ? void 0 : user.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1530,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"user-status\",\n            children: \"Online\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1531,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1529,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLogout,\n          className: \"logout-btn\",\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1533,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1528,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1519,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"app-nav\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: activeTab === \"chat\" ? \"active\" : \"\",\n        onClick: () => setActiveTab(\"chat\"),\n        children: \"\\uD83D\\uDCAC Chat\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1538,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: activeTab === \"journal\" ? \"active\" : \"\",\n        onClick: () => setActiveTab(\"journal\"),\n        children: \"\\uD83D\\uDCD3 Journal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1544,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: activeTab === \"therapy\" ? \"active\" : \"\",\n        onClick: () => {\n          setActiveTab(\"therapy\");\n          setBookingStep(\"select-doctor\");\n        },\n        children: \"\\uD83D\\uDC68\\u200D\\u2695\\uFE0F Therapy\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1550,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: activeTab === \"community\" ? \"active\" : \"\",\n        onClick: () => setActiveTab(\"community\"),\n        children: \"\\uD83C\\uDF0D Community\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1559,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: activeTab === \"shop\" ? \"active\" : \"\",\n        onClick: () => setActiveTab(\"shop\"),\n        children: \"\\uD83D\\uDED2 Shop\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1565,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: activeTab === \"profile\" ? \"active\" : \"\",\n        onClick: () => setActiveTab(\"profile\"),\n        children: \"\\uD83D\\uDC64 Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1571,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1537,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"app-main\",\n      children: [activeTab === \"chat\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-tab\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Chat with MoodMate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1583,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowNewChatModal(true),\n            className: \"new-chat-btn\",\n            children: \"+ New Chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1584,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1582,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-box\",\n          children: [messages.map((msg, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `chat-message ${msg.sender} ${msg.isReward ? 'reward' : ''} ${msg.isExercise ? 'exercise' : ''}`,\n            children: [msg.sender === \"bot\" && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"avatar bot-avatar\",\n              children: \"\\uD83E\\uDD16\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1592,\n              columnNumber: 21\n            }, this), msg.sender === \"user\" && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"avatar user-avatar\",\n              children: \"\\uD83D\\uDC64\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1595,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bubble\",\n              children: [msg.text, msg.moodEmoji && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mood-indicator\",\n                children: [msg.moodEmoji, \" \", msg.phrase]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1600,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1597,\n              columnNumber: 19\n            }, this)]\n          }, `msg-${i}-${msg.timestamp || Date.now()}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1590,\n            columnNumber: 17\n          }, this)), isTyping && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-message bot\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"avatar bot-avatar\",\n              children: \"\\uD83E\\uDD16\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1610,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bubble typing\",\n              children: typingIndicator || \"...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1611,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1609,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: chatEndRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1617,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1588,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-area\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"How are you feeling today?\",\n            value: input,\n            onChange: e => setInput(e.target.value),\n            onKeyDown: e => e.key === \"Enter\" && sendMessage()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1621,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: sendMessage,\n            className: \"send-btn\",\n            children: \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1628,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: playBreathingExercise,\n            className: \"exercise-btn\",\n            title: \"Breathing Exercise\",\n            children: \"\\uD83E\\uDDD8\\u200D\\u2642\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1629,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1620,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1581,\n        columnNumber: 11\n      }, this), activeTab === \"journal\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"journal-tab\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"journal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Your Journal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1637,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: addJournalEntry,\n            className: \"add-entry-btn\",\n            children: \"+ New Entry\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1638,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1636,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"journal-entries\",\n          children: journalEntries.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-state\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"No journal entries yet. Write your first entry!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1646,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: addJournalEntry,\n              children: \"Start Journaling\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1647,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1645,\n            columnNumber: 17\n          }, this) : journalEntries.map((entry, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"journal-entry\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"entry-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"entry-date\",\n                children: entry.date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1653,\n                columnNumber: 23\n              }, this), !entry.shared && userTribes.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => shareJournalEntry(entry.id),\n                className: \"share-btn\",\n                title: \"Share to your tribes\",\n                children: \"Share\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1655,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1652,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"entry-text\",\n              children: entry.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1664,\n              columnNumber: 21\n            }, this), entry.summary && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"entry-summary\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Summary:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1667,\n                columnNumber: 25\n              }, this), \" \", entry.summary]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1666,\n              columnNumber: 23\n            }, this), entry.mood && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"entry-mood\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Mood:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1672,\n                columnNumber: 25\n              }, this), \" \", entry.mood]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1671,\n              columnNumber: 23\n            }, this)]\n          }, `entry-${entry.id}-${index}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1651,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1643,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1635,\n        columnNumber: 11\n      }, this), activeTab === \"therapy\" && /*#__PURE__*/_jsxDEV(TherapyTab, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1683,\n        columnNumber: 11\n      }, this), activeTab === \"community\" && activeTribe ? /*#__PURE__*/_jsxDEV(TribeCommunity, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1687,\n        columnNumber: 11\n      }, this) : activeTab === \"community\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"community-tab\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"community-layout\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mood-wall-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\uD83C\\uDF0D Community Mood Wall\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1692,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: addMoodWallPost,\n              className: \"add-post-btn\",\n              children: \"+ Share Your Feelings\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1693,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mood-wall\",\n              children: moodWall.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"empty-state\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Be the first to share your thoughts with the community!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1697,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1696,\n                columnNumber: 21\n              }, this) : moodWall.slice(0, 3).map((post, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mood-post\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: post.text\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1702,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"post-footer\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"post-reactions\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      children: \"\\uD83D\\uDC96\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1705,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      children: \"\\uD83E\\uDD17\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1706,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      children: \"\\uD83D\\uDC4D\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1707,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1704,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"post-time\",\n                    children: new Date(post.timestamp).toLocaleDateString()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1709,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1703,\n                  columnNumber: 25\n                }, this)]\n              }, `post-${post.id}-${index}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1701,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1694,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1691,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tribes-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\uD83C\\uDFAF Mood Tribes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1718,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tribes-grid\",\n              children: moodTribes.map(tribe => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"tribe-card\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: tribe.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1722,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: tribe.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1723,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"member-count\",\n                  children: [\"\\uD83D\\uDC65 \", tribe.member_count, \" members\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1724,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => tribe.isMember ? setActiveTribe(tribe) : joinTribe(tribe.id),\n                  className: tribe.isMember ? \"joined-btn\" : \"join-btn\",\n                  children: tribe.isMember ? \"Visit Community\" : \"Join Tribe\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1725,\n                  columnNumber: 23\n                }, this)]\n              }, `tribe-${tribe.id}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1721,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1719,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1717,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1690,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1689,\n        columnNumber: 11\n      }, this) : null, activeTab === \"shop\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shop-tab\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD83D\\uDED2 MoodMate Shop\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1741,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Use your Mood Coins to unlock special features and customization options!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1742,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"shop-categories\",\n          children: shopCategories.map(category => /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `category-btn ${activeShopCategory === category ? 'active' : ''}`,\n            onClick: () => setActiveShopCategory(category),\n            children: category\n          }, category, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1746,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1744,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"shop-grid\",\n          children: filteredShopItems.length > 0 ? filteredShopItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shop-item-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item-image\",\n              children: [item.category === \"theme\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `theme-preview ${item.name.toLowerCase().replace(' theme', '')}-theme`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1761,\n                columnNumber: 53\n              }, this), item.category === \"cosmetic\" && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"item-icon\",\n                children: \"\\uD83C\\uDFA8\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1762,\n                columnNumber: 56\n              }, this), item.category === \"content\" && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"item-icon\",\n                children: \"\\uD83D\\uDCDA\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1763,\n                columnNumber: 55\n              }, this), item.category === \"utility\" && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"item-icon\",\n                children: \"\\u26A1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1764,\n                columnNumber: 55\n              }, this), item.category === \"feature\" && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"item-icon\",\n                children: \"\\u2699\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1765,\n                columnNumber: 55\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1760,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1768,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: item.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1769,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-price\",\n                children: [\"\\uD83E\\uDE99 \", item.price, \" coins\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1770,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => buyItem(item),\n                disabled: (user === null || user === void 0 ? void 0 : user.coins) < item.price,\n                className: (user === null || user === void 0 ? void 0 : user.coins) >= item.price ? \"buy-btn\" : \"disabled-btn\",\n                children: (user === null || user === void 0 ? void 0 : user.coins) >= item.price ? \"Purchase\" : \"Not Enough Coins\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1771,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1767,\n              columnNumber: 21\n            }, this)]\n          }, `shop-item-${item.id}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1759,\n            columnNumber: 19\n          }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-state\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"No items in this category yet.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1783,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1782,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1756,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1740,\n        columnNumber: 11\n      }, this), activeTab === \"profile\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-tab\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-avatar\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"avatar-image\",\n              children: (user === null || user === void 0 ? void 0 : (_user$name = user.name) === null || _user$name === void 0 ? void 0 : _user$name.charAt(0)) || 'U'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1794,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-badge\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\uD83D\\uDD25 \", (user === null || user === void 0 ? void 0 : user.streak) || 0]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1798,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1797,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1793,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: user === null || user === void 0 ? void 0 : user.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1802,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"member-since\",\n              children: \"Active Member\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1803,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-stats\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: (user === null || user === void 0 ? void 0 : user.streak) || 0\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1807,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Day Streak\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1808,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1806,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: (user === null || user === void 0 ? void 0 : user.coins) || 0\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1811,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Mood Coins\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1812,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1810,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: userTribes.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1815,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Tribes Joined\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1816,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1814,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: journalEntries.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1819,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Journal Entries\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1820,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1818,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1805,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1801,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1792,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83D\\uDD25 Streak Progress\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1827,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"streak-progress\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"streak-days\",\n              children: [7, 30, 90, 180, 365].map(day => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `streak-milestone ${(user === null || user === void 0 ? void 0 : user.streak) >= day ? 'achieved' : ''}`,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"milestone-day\",\n                  children: day\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1832,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"milestone-label\",\n                  children: [day, \" Days\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1833,\n                  columnNumber: 23\n                }, this)]\n              }, `milestone-${day}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1831,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1829,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"streak-bar\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"streak-progress-bar\",\n                style: {\n                  width: `${Math.min(100, (user === null || user === void 0 ? void 0 : user.streak) / 365 * 100)}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1838,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1837,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"current-streak\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Current Streak: \", (user === null || user === void 0 ? void 0 : user.streak) || 0, \" days\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1844,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Next milestone: \", (user === null || user === void 0 ? void 0 : user.streak) < 7 ? 7 : (user === null || user === void 0 ? void 0 : user.streak) < 30 ? 30 : (user === null || user === void 0 ? void 0 : user.streak) < 90 ? 90 : (user === null || user === void 0 ? void 0 : user.streak) < 180 ? 180 : 365, \" days\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1845,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1843,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1828,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1826,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83C\\uDFC5 Achievements & Badges\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1851,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"achievements-grid\",\n            children: achievements.map(achievement => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `achievement ${achievement.earned ? 'earned' : 'locked'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"achievement-icon\",\n                children: achievement.icon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1855,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"achievement-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: achievement.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1857,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: achievement.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1858,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1856,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"achievement-status\",\n                children: achievement.earned ? 'âœ“' : 'ðŸ”’'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1860,\n                columnNumber: 21\n              }, this)]\n            }, `achievement-${achievement.id}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1854,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1852,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1850,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83D\\uDC65 My Tribes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1869,\n            columnNumber: 15\n          }, this), userTribes.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"You haven't joined any tribes yet. Visit the Community tab to join one!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1871,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-tribes\",\n            children: userTribes.map(tribe => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-tribe\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: tribe.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1876,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setActiveTribe(tribe),\n                children: \"Visit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1877,\n                columnNumber: 23\n              }, this)]\n            }, `user-tribe-${tribe.id}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1875,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1873,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1868,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u2699\\uFE0F Settings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1887,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"settings-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Voice Responses\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1890,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"switch\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: audioEnabled,\n                  onChange: toggleAudio\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1892,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"slider\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1893,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1891,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1889,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Background Music\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1897,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"switch\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: musicEnabled,\n                  onChange: toggleMusic\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1899,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"slider\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1900,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1898,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1896,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"AI Provider\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1904,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: aiProvider,\n                onChange: e => switchAiProvider(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"gemini\",\n                  children: \"Gemini AI\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1906,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"fallback\",\n                  children: \"Fallback Mode\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1907,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1905,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1903,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1888,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1886,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1791,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1579,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1514,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"Rd+ZkWySvKP3Qv+2GnxDE/jT0oM=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","API_CONFIG","BASE_URL","ENDPOINTS","LOGIN","REGISTER","CHAT","DOCTORS","BOOK","BOOKINGS","JOIN_SESSION","JOURNAL","MOODWALL","MOODTRIBES","SHOP","PROFILE","SETTINGS","ApiService","constructor","baseURL","request","endpoint","options","url","token","localStorage","getItem","defaultOptions","headers","Authorization","response","fetch","handleResponse","error","console","Error","ok","contentType","get","includes","json","text","status","login","credentials","method","body","JSON","stringify","register","userData","sendChatMessage","message","getDoctors","bookAppointment","bookingData","getUserBookings","joinSession","sessionId","session_id","getJournalEntries","addJournalEntry","entryData","getMoodWall","addMoodWallPost","postData","getMoodTribes","joinTribe","tribeId","tribe_id","getShopItems","purchaseItem","itemId","item_id","getProfile","getSettings","updateSettings","settings","apiService","App","_s","_user$name","messages","setMessages","input","setInput","isTyping","setIsTyping","user","setUser","isLoggedIn","setIsLoggedIn","showLogin","setShowLogin","showRegister","setShowRegister","showForgotPassword","setShowForgotPassword","activeTab","setActiveTab","journalEntries","setJournalEntries","therapists","setTherapists","resources","setResources","moodWall","setMoodWall","moodTribes","setMoodTribes","shopItems","setShopItems","userTribes","setUserTribes","currentTheme","setCurrentTheme","typingIndicator","setTypingIndicator","showEmergencyModal","setShowEmergencyModal","achievements","setAchievements","activeTribe","setActiveTribe","sidebarOpen","setSidebarOpen","showNewChatModal","setShowNewChatModal","loginError","setLoginError","registerError","setRegisterError","aiProvider","setAiProvider","audioEnabled","setAudioEnabled","musicEnabled","setMusicEnabled","tribeChatMessages","setTribeChatMessages","tribeInput","setTribeInput","lastStreakUpdate","setLastStreakUpdate","activeShopCategory","setActiveShopCategory","userBookings","setUserBookings","selectedDoctor","setSelectedDoctor","bookingStep","setBookingStep","selectedSlot","setSelectedSlot","selectedMode","setSelectedMode","chatEndRef","sampleTherapists","id","name","specialization","price","rating","experience","avatar","sampleResources","type","number","available","website","description","sampleMoodTribes","member_count","isMember","sampleShopItems","category","sampleAchievements","earned","icon","aiResponses","happy","sad","anxious","angry","neutral","savedTheme","savedTribes","parse","savedAchievements","savedAiProvider","savedAudio","savedMusic","savedLastStreakUpdate","userObj","loadInitialData","_chatEndRef$current","current","scrollIntoView","behavior","therapistsData","resourcesData","tribesData","shopData","journalData","moodWallData","profileData","Promise","allSettled","getTherapists","getResources","value","userTribeIds","map","t","updatedTribes","tribes","tribe","items","entries","sampleEntries","summary","mood","date","Date","toISOString","split","shared","posts","samplePosts","likes","timestamp","now","anonymous","userName","sender","initialTribeChats","forEach","user_name","bookingsData","bookings","simulateTyping","typingPhrases","i","resolve","setTimeout","handleLogin","e","preventDefault","formData","FormData","target","email","password","data","setItem","coins","streak","mentalFitness","handleRegister","confirmPassword","handleLogout","removeItem","startNewChat","sendMessage","trim","userMsg","prev","emergencyKeywords","hasEmergency","some","keyword","toLowerCase","botMsg","reply","moodEmoji","phrase","coinsEarned","newCoins","updatedUser","log","detectMoodFromInput","moodResponses","randomResponse","Math","floor","random","length","getMoodEmoji","getMoodPhrase","textLower","emojis","phrases","entryText","prompt","newEntry","alert","shareJournalEntry","entryId","updatedEntries","postText","newPost","find","sendTribeMessage","newMessage","playBreathingExercise","isExercise","buyItem","item","window","confirm","replace","applyTheme","themeName","toggleAudio","newAudioEnabled","toggleMusic","newMusicEnabled","switchAiProvider","provider","doctor_id","slot_time","mode","booking","open","meeting_link","formatDate","dateString","weekday","year","month","day","toLocaleDateString","undefined","formatTime","timeString","toLocaleTimeString","hour","minute","EmergencyModal","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","NewChatModal","BookingWizard","doctor","charAt","availability_slots","slot","TribeCommunity","tribeChat","msg","placeholder","onChange","onKeyDown","key","Sidebar","stopPropagation","checked","TherapyTab","doctor_name","filter","r","resource","index","shopCategories","filteredShopItems","onSubmit","required","isReward","ref","title","entry","slice","post","disabled","style","width","min","achievement","_c","$RefreshReg$"],"sources":["C:/Users/Prabhat singh/Downloads/Best_Project/frontend/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport \"./app.css\";\r\n\r\n// API Configuration\r\nconst API_CONFIG = {\r\n  BASE_URL: 'http://127.0.0.1:5000',\r\n  ENDPOINTS: {\r\n    LOGIN: '/api/login',\r\n    REGISTER: '/api/register',\r\n    CHAT: '/api/chat',\r\n    DOCTORS: '/api/doctors',\r\n    BOOK: '/api/book',\r\n    BOOKINGS: '/api/bookings',\r\n    JOIN_SESSION: '/api/join-session',\r\n    JOURNAL: '/api/journal',\r\n    MOODWALL: '/api/moodwall',\r\n    MOODTRIBES: '/api/moodtribes',\r\n    SHOP: '/api/shop',\r\n    PROFILE: '/api/profile',\r\n    SETTINGS: '/api/settings'\r\n  }\r\n};\r\n\r\n// API Service\r\nclass ApiService {\r\n  constructor() {\r\n    this.baseURL = API_CONFIG.BASE_URL;\r\n  }\r\n\r\n  async request(endpoint, options = {}) {\r\n    const url = `${this.baseURL}${endpoint}`;\r\n    const token = localStorage.getItem('accessToken');\r\n    \r\n    const defaultOptions = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        ...(token && { Authorization: `Bearer ${token}` }),\r\n        ...options.headers,\r\n      },\r\n    };\r\n\r\n    try {\r\n      const response = await fetch(url, { ...defaultOptions, ...options });\r\n      return await this.handleResponse(response);\r\n    } catch (error) {\r\n      console.error('API request failed:', error);\r\n      throw new Error('Network error. Please check your connection.');\r\n    }\r\n  }\r\n\r\n  async handleResponse(response) {\r\n    if (response.ok) {\r\n      const contentType = response.headers.get('content-type');\r\n      if (contentType && contentType.includes('application/json')) {\r\n        return await response.json();\r\n      }\r\n      return await response.text();\r\n    } else {\r\n      const error = await response.text();\r\n      throw new Error(error || `Request failed with status ${response.status}`);\r\n    }\r\n  }\r\n\r\n  // Auth endpoints\r\n  async login(credentials) {\r\n    return this.request(API_CONFIG.ENDPOINTS.LOGIN, {\r\n      method: 'POST',\r\n      body: JSON.stringify(credentials)\r\n    });\r\n  }\r\n\r\n  async register(userData) {\r\n    return this.request(API_CONFIG.ENDPOINTS.REGISTER, {\r\n      method: 'POST',\r\n      body: JSON.stringify(userData)\r\n    });\r\n  }\r\n\r\n  // Chat endpoint\r\n  async sendChatMessage(message) {\r\n    return this.request(API_CONFIG.ENDPOINTS.CHAT, {\r\n      method: 'POST',\r\n      body: JSON.stringify({ message })\r\n    });\r\n  }\r\n\r\n  // Doctor endpoints\r\n  async getDoctors() {\r\n    return this.request(API_CONFIG.ENDPOINTS.DOCTORS);\r\n  }\r\n\r\n  async bookAppointment(bookingData) {\r\n    return this.request(API_CONFIG.ENDPOINTS.BOOK, {\r\n      method: 'POST',\r\n      body: JSON.stringify(bookingData)\r\n    });\r\n  }\r\n\r\n  async getUserBookings() {\r\n    return this.request(API_CONFIG.ENDPOINTS.BOOKINGS);\r\n  }\r\n\r\n  async joinSession(sessionId) {\r\n    return this.request(API_CONFIG.ENDPOINTS.JOIN_SESSION, {\r\n      method: 'POST',\r\n      body: JSON.stringify({ session_id: sessionId })\r\n    });\r\n  }\r\n\r\n  // Other endpoints\r\n  async getJournalEntries() {\r\n    return this.request(API_CONFIG.ENDPOINTS.JOURNAL);\r\n  }\r\n\r\n  async addJournalEntry(entryData) {\r\n    return this.request(API_CONFIG.ENDPOINTS.JOURNAL, {\r\n      method: 'POST',\r\n      body: JSON.stringify(entryData)\r\n    });\r\n  }\r\n\r\n  async getMoodWall() {\r\n    return this.request(API_CONFIG.ENDPOINTS.MOODWALL);\r\n  }\r\n\r\n  async addMoodWallPost(postData) {\r\n    return this.request(API_CONFIG.ENDPOINTS.MOODWALL, {\r\n      method: 'POST',\r\n      body: JSON.stringify(postData)\r\n    });\r\n  }\r\n\r\n  async getMoodTribes() {\r\n    return this.request(API_CONFIG.ENDPOINTS.MOODTRIBES);\r\n  }\r\n\r\n  async joinTribe(tribeId) {\r\n    return this.request(`${API_CONFIG.ENDPOINTS.MOODTRIBES}/join`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({ tribe_id: tribeId })\r\n    });\r\n  }\r\n\r\n  async getShopItems() {\r\n    return this.request(API_CONFIG.ENDPOINTS.SHOP);\r\n  }\r\n\r\n  async purchaseItem(itemId) {\r\n    return this.request(`${API_CONFIG.ENDPOINTS.SHOP}/purchase`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({ item_id: itemId })\r\n    });\r\n  }\r\n\r\n  async getProfile() {\r\n    return this.request(API_CONFIG.ENDPOINTS.PROFILE);\r\n  }\r\n\r\n  async getSettings() {\r\n    return this.request(API_CONFIG.ENDPOINTS.SETTINGS);\r\n  }\r\n\r\n  async updateSettings(settings) {\r\n    return this.request(API_CONFIG.ENDPOINTS.SETTINGS, {\r\n      method: 'POST',\r\n      body: JSON.stringify(settings)\r\n    });\r\n  }\r\n}\r\n\r\nconst apiService = new ApiService();\r\n\r\nfunction App() {\r\n  const [messages, setMessages] = useState([]);\r\n  const [input, setInput] = useState(\"\");\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  const [user, setUser] = useState(null);\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [showLogin, setShowLogin] = useState(true);\r\n  const [showRegister, setShowRegister] = useState(false);\r\n  const [showForgotPassword, setShowForgotPassword] = useState(false);\r\n  const [activeTab, setActiveTab] = useState(\"chat\");\r\n  const [journalEntries, setJournalEntries] = useState([]);\r\n  const [therapists, setTherapists] = useState([]);\r\n  const [resources, setResources] = useState([]);\r\n  const [moodWall, setMoodWall] = useState([]);\r\n  const [moodTribes, setMoodTribes] = useState([]);\r\n  const [shopItems, setShopItems] = useState([]);\r\n  const [userTribes, setUserTribes] = useState([]);\r\n  const [currentTheme, setCurrentTheme] = useState(\"default\");\r\n  const [typingIndicator, setTypingIndicator] = useState(\"\");\r\n  const [showEmergencyModal, setShowEmergencyModal] = useState(false);\r\n  const [achievements, setAchievements] = useState([]);\r\n  const [activeTribe, setActiveTribe] = useState(null);\r\n  const [sidebarOpen, setSidebarOpen] = useState(false);\r\n  const [showNewChatModal, setShowNewChatModal] = useState(false);\r\n  const [loginError, setLoginError] = useState(\"\");\r\n  const [registerError, setRegisterError] = useState(\"\");\r\n  const [aiProvider, setAiProvider] = useState(\"gemini\");\r\n  const [audioEnabled, setAudioEnabled] = useState(true);\r\n  const [musicEnabled, setMusicEnabled] = useState(true);\r\n  const [tribeChatMessages, setTribeChatMessages] = useState({});\r\n  const [tribeInput, setTribeInput] = useState(\"\");\r\n  const [lastStreakUpdate, setLastStreakUpdate] = useState(\"\");\r\n  const [activeShopCategory, setActiveShopCategory] = useState(\"All\");\r\n  const [userBookings, setUserBookings] = useState([]);\r\n  const [selectedDoctor, setSelectedDoctor] = useState(null);\r\n  const [bookingStep, setBookingStep] = useState(\"select-doctor\");\r\n  const [selectedSlot, setSelectedSlot] = useState(null);\r\n  const [selectedMode, setSelectedMode] = useState(\"chat\");\r\n\r\n  const chatEndRef = useRef(null);\r\n\r\n  // Sample data for fallback\r\n  const sampleTherapists = [\r\n    {id: 1, name: \"Dr. Priya Sharma\", specialization: \"Clinical Psychology\", price: 799, rating: 4.7, experience: \"8 years\", avatar: \"ðŸ‘©â€âš•ï¸\"},\r\n    {id: 2, name: \"Rajiv Mehta\", specialization: \"Counseling Psychology\", price: 599, rating: 4.5, experience: \"5 years\", avatar: \"ðŸ‘¨â€âš•ï¸\"},\r\n    {id: 3, name: \"Dr. Anjali Singh\", specialization: \"Psychiatry\", price: 999, rating: 4.8, experience: \"12 years\", avatar: \"ðŸ‘©â€âš•ï¸\"},\r\n    {id: 4, name: \"Neha Gupta\", specialization: \"Art Therapy\", price: 499, rating: 4.6, experience: \"4 years\", avatar: \"ðŸŽ¨\"}\r\n  ];\r\n\r\n  const sampleResources = [\r\n    {type: \"crisis\", name: \"National Suicide Prevention Lifeline\", number: \"1-800-273-8255\", available: \"24/7\"},\r\n    {type: \"crisis\", name: \"Crisis Text Line\", number: \"Text HOME to 741741\", available: \"24/7\"},\r\n    {type: \"support\", name: \"Mental Health America\", website: \"mhanational.org\", description: \"Resources and screening tools\"}\r\n  ];\r\n\r\n  const sampleMoodTribes = [\r\n    {id: 1, name: \"Positivity Tribe\", description: \"For those seeking positivity and joy\", member_count: 245, isMember: false},\r\n    {id: 2, name: \"Calm Collective\", description: \"Find your inner peace together\", member_count: 189, isMember: false},\r\n    {id: 3, name: \"Anxiety Allies\", description: \"Support for those dealing with anxiety\", member_count: 312, isMember: false},\r\n    {id: 4, name: \"Mindfulness Masters\", description: \"Practice mindfulness together\", member_count: 156, isMember: false},\r\n    {id: 5, name: \"Breakup Recovery\", description: \"Healing after relationship endings\", member_count: 128, isMember: false},\r\n    {id: 6, name: \"Career Stress\", description: \"Managing work-related stress\", member_count: 201, isMember: false},\r\n    {id: 7, name: \"Student Support\", description: \"Academic pressure and study stress\", member_count: 178, isMember: false}\r\n  ];\r\n\r\n  const sampleShopItems = [\r\n    {id: 1, name: \"Sunset Theme\", description: \"Warm orange and purple theme\", price: 50, category: \"theme\"},\r\n    {id: 2, name: \"Ocean Theme\", description: \"Calming blue theme\", price: 50, category: \"theme\"},\r\n    {id: 3, name: \"Forest Theme\", description: \"Green nature-inspired theme\", price: 50, category: \"theme\"},\r\n    {id: 4, name: \"Neon Theme\", description: \"Vibrant neon colors\", price: 75, category: \"theme\"},\r\n    {id: 5, name: \"Glass Theme\", description: \"Modern glassmorphism design\", price: 100, category: \"theme\"},\r\n    {id: 6, name: \"Exclusive Avatar\", description: \"Special avatar frame\", price: 100, category: \"cosmetic\"},\r\n    {id: 7, name: \"Meditation Pack\", description: \"Exclusive meditation guides\", price: 75, category: \"content\"},\r\n    {id: 8, name: \"Second Chance Token\", description: \"Save your streak if you miss a day\", price: 30, category: \"utility\"},\r\n    {id: 9, name: \"Custom Voice\", description: \"Personalized AI voice\", price: 150, category: \"feature\"}\r\n  ];\r\n\r\n  const sampleAchievements = [\r\n    {id: 1, name: \"First Steps\", description: \"Complete your first journal entry\", earned: true, icon: \"ðŸ“\"},\r\n    {id: 2, name: \"7-Day Warrior\", description: \"Maintain a 7-day streak\", earned: false, icon: \"ðŸ”¥\"},\r\n    {id: 3, name: \"Community Builder\", description: \"Join your first tribe\", earned: false, icon: \"ðŸ‘¥\"},\r\n    {id: 4, name: \"30-Day Calm Seeker\", description: \"Maintain a 30-day streak\", earned: false, icon: \"ðŸŒ¿\"},\r\n    {id: 5, name: \"365-Day Legend\", description: \"Maintain a 365-day streak\", earned: false, icon: \"ðŸ‘‘\"},\r\n    {id: 6, name: \"Mental Fitness Pro\", description: \"Reach 90+ mental fitness score\", earned: false, icon: \"ðŸ’ª\"}\r\n  ];\r\n\r\n  // AI Response templates for different moods\r\n  const aiResponses = {\r\n    happy: [\r\n      \"That's wonderful to hear! ðŸ˜Š Your positivity is contagious. What's making you feel so happy today?\",\r\n      \"I'm so glad you're feeling happy! ðŸŒŸ Celebrating the good moments is important. Want to share what's bringing you joy?\",\r\n      \"Happiness looks good on you! âœ¨ Let's savor this moment together. What's making you smile today?\"\r\n    ],\r\n    sad: [\r\n      \"I'm sorry you're feeling down. ðŸ˜” It's okay to have sad days - they make the happy ones brighter. Want to talk about what's bothering you?\",\r\n      \"I hear you're feeling sad, and I'm here for you. ðŸ’™ Sometimes just sharing how we feel can lighten the load. What's on your mind?\",\r\n      \"Thank you for sharing that you're feeling sad. It takes courage to acknowledge these feelings. ðŸŒ§ï¸ Would you like to talk more about what's causing this?\"\r\n    ],\r\n    anxious: [\r\n      \"I understand that anxious feeling. ðŸ«‚ Let's take a deep breath together. Would you like to try a quick grounding exercise?\",\r\n      \"Anxiety can be really overwhelming. ðŸ’­ I'm here to help you through it. Want to explore what's triggering these feelings?\",\r\n      \"It's okay to feel anxious sometimes. ðŸŒ«ï¸ Let's work through this together. Would naming the specific worries help?\"\r\n    ],\r\n    angry: [\r\n      \"I hear the frustration in your words. ðŸ’¢ Anger is a valid emotion - it's what we do with it that matters. Want to talk about what's upsetting you?\",\r\n      \"It sounds like you're feeling pretty angry right now. ðŸ”¥ Let's channel that energy constructively. What's triggering this response?\",\r\n      \"Anger can be a powerful messenger. ðŸ“£ I'm here to listen without judgment. Want to explore what's beneath the surface?\"\r\n    ],\r\n    neutral: [\r\n      \"Thanks for checking in with me. ðŸ¤— How has your day been so far?\",\r\n      \"I'm here to listen whenever you're ready to share. ðŸ’« What's on your mind today?\",\r\n      \"Hello there! ðŸŒˆ How are you really feeling behind that neutral facade?\"\r\n    ]\r\n  };\r\n\r\n  // Load saved session\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('accessToken');\r\n    const userData = localStorage.getItem('user');\r\n    const savedTheme = localStorage.getItem('theme') || 'default';\r\n    const savedTribes = JSON.parse(localStorage.getItem('userTribes') || '[]');\r\n    const savedAchievements = JSON.parse(localStorage.getItem('achievements') || '[]');\r\n    const savedAiProvider = localStorage.getItem('aiProvider') || 'gemini';\r\n    const savedAudio = localStorage.getItem('audioEnabled') !== 'false';\r\n    const savedMusic = localStorage.getItem('musicEnabled') !== 'false';\r\n    const savedLastStreakUpdate = localStorage.getItem('lastStreakUpdate') || '';\r\n    \r\n    if (token && userData) {\r\n      const userObj = JSON.parse(userData);\r\n      setUser(userObj);\r\n      setIsLoggedIn(true);\r\n      setShowLogin(false);\r\n      setCurrentTheme(savedTheme);\r\n      setUserTribes(savedTribes);\r\n      setAchievements(savedAchievements);\r\n      setAiProvider(savedAiProvider);\r\n      setAudioEnabled(savedAudio);\r\n      setMusicEnabled(savedMusic);\r\n      setLastStreakUpdate(savedLastStreakUpdate);\r\n      loadInitialData();\r\n    }\r\n  }, []);\r\n\r\n  // Auto scroll\r\n  useEffect(() => {\r\n    chatEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  }, [messages]);\r\n\r\n  const loadInitialData = async () => {\r\n    try {\r\n      // Try to load data from backend first\r\n      const [therapistsData, resourcesData, tribesData, shopData, journalData, moodWallData, profileData] = await Promise.allSettled([\r\n        apiService.getTherapists(),\r\n        apiService.getResources(),\r\n        apiService.getMoodTribes(),\r\n        apiService.getShopItems(),\r\n        apiService.getJournalEntries(),\r\n        apiService.getMoodWall(),\r\n        apiService.getProfile()\r\n      ]);\r\n      \r\n      // Set therapists\r\n      if (therapistsData.status === 'fulfilled') {\r\n        setTherapists(therapistsData.value.therapists || therapistsData.value);\r\n      } else {\r\n        setTherapists(sampleTherapists);\r\n      }\r\n      \r\n      // Set resources\r\n      if (resourcesData.status === 'fulfilled') {\r\n        setResources(resourcesData.value.resources || resourcesData.value);\r\n      } else {\r\n        setResources(sampleResources);\r\n      }\r\n      \r\n      // Set mood tribes\r\n      if (tribesData.status === 'fulfilled') {\r\n        const userTribeIds = userTribes.map(t => t.id);\r\n        const updatedTribes = (tribesData.value.tribes || tribesData.value).map(tribe => ({\r\n          ...tribe,\r\n          isMember: userTribeIds.includes(tribe.id)\r\n        }));\r\n        setMoodTribes(updatedTribes);\r\n      } else {\r\n        const userTribeIds = userTribes.map(t => t.id);\r\n        const updatedTribes = sampleMoodTribes.map(tribe => ({\r\n          ...tribe,\r\n          isMember: userTribeIds.includes(tribe.id)\r\n        }));\r\n        setMoodTribes(updatedTribes);\r\n      }\r\n      \r\n      // Set shop items\r\n      if (shopData.status === 'fulfilled') {\r\n        setShopItems(shopData.value.items || shopData.value);\r\n      } else {\r\n        setShopItems(sampleShopItems);\r\n      }\r\n      \r\n      // Set journal entries\r\n      if (journalData.status === 'fulfilled') {\r\n        setJournalEntries(journalData.value.entries || journalData.value);\r\n      } else {\r\n        const sampleEntries = [\r\n          {id: 1, text: \"Today was a good day. I felt productive and happy.\", summary: \"Positive day with productivity\", mood: \"happy\", date: new Date().toISOString().split('T')[0], shared: false},\r\n          {id: 2, text: \"Feeling a bit anxious about the upcoming presentation. Need to practice more.\", summary: \"Anxious about presentation\", mood: \"anxious\", date: \"2023-10-24\", shared: true},\r\n          {id: 3, text: \"Had a great conversation with my friend. It felt good to open up.\", summary: \"Positive social interaction\", mood: \"happy\", date: \"2023-10-23\", shared: false}\r\n        ];\r\n        setJournalEntries(sampleEntries);\r\n      }\r\n      \r\n      // Set mood wall\r\n      if (moodWallData.status === 'fulfilled') {\r\n        setMoodWall(moodWallData.value.posts || moodWallData.value);\r\n      } else {\r\n        const samplePosts = [\r\n          {id: 1, text: \"Today I finally managed to meditate for 10 minutes straight! Feeling proud of myself.\", mood: \"happy\", likes: 12, timestamp: new Date(Date.now() - 2*60*60*1000).toISOString(), anonymous: true, userName: \"Anonymous\"},\r\n          {id: 2, text: \"Struggling with anxiety today. Anyone else feeling this way?\", mood: \"anxious\", likes: 8, timestamp: new Date(Date.now() - 5*60*60*1000).toISOString(), anonymous: true, userName: \"Anonymous\"},\r\n          {id: 3, text: \"Grateful for this community. Reading your stories gives me hope.\", mood: \"grateful\", likes: 25, timestamp: new Date(Date.now() - 8*60*60*1000).toISOString(), anonymous: false, userName: \"HappyUser123\"}\r\n        ];\r\n        setMoodWall(samplePosts);\r\n      }\r\n      \r\n      // Set profile data\r\n      if (profileData.status === 'fulfilled') {\r\n        setAchievements(profileData.value.achievements || []);\r\n      } else {\r\n        setAchievements(sampleAchievements);\r\n      }\r\n      \r\n      // Load initial chat message\r\n      setMessages([{\r\n        text: \"Hello! I'm MoodMate, your mental health companion. How are you feeling today?\",\r\n        sender: \"bot\"\r\n      }]);\r\n      \r\n      // Initialize tribe chat messages\r\n      const initialTribeChats = {};\r\n      const tribes = tribesData.status === 'fulfilled' ? (tribesData.value.tribes || tribesData.value) : sampleMoodTribes;\r\n      tribes.forEach(tribe => {\r\n        initialTribeChats[tribe.id] = [\r\n          {id: 1, message: \"Hello everyone! How are you all feeling today?\", user_name: \"Anonymous\", timestamp: new Date(Date.now() - 2*60*60*1000).toISOString()},\r\n          {id: 2, message: \"I've been practicing mindfulness and it's really helping with my anxiety ðŸ˜Š\", user_name: \"Anonymous\", timestamp: new Date(Date.now() - 1*60*60*1000).toISOString()}\r\n        ];\r\n      });\r\n      setTribeChatMessages(initialTribeChats);\r\n      \r\n      // Load user bookings\r\n      try {\r\n        const bookingsData = await apiService.getUserBookings();\r\n        setUserBookings(bookingsData.bookings || bookingsData);\r\n      } catch (error) {\r\n        console.error(\"Error loading bookings:\", error);\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error(\"Error loading initial data:\", error);\r\n      // Fallback to sample data\r\n      setTherapists(sampleTherapists);\r\n      setResources(sampleResources);\r\n      \r\n      const userTribeIds = userTribes.map(t => t.id);\r\n      const updatedTribes = sampleMoodTribes.map(tribe => ({\r\n        ...tribe,\r\n        isMember: userTribeIds.includes(tribe.id)\r\n      }));\r\n      setMoodTribes(updatedTribes);\r\n      \r\n      setShopItems(sampleShopItems);\r\n      \r\n      const sampleEntries = [\r\n        {id: 1, text: \"Today was a good day. I felt productive and happy.\", summary: \"Positive day with productivity\", mood: \"happy\", date: new Date().toISOString().split('T')[0], shared: false},\r\n        {id: 2, text: \"Feeling a bit anxious about the upcoming presentation. Need to practice more.\", summary: \"Anxious about presentation\", mood: \"anxious\", date: \"2023-10-24\", shared: true},\r\n        {id: 3, text: \"Had a great conversation with my friend. It felt good to open up.\", summary: \"Positive social interaction\", mood: \"happy\", date: \"2023-10-23\", shared: false}\r\n      ];\r\n      setJournalEntries(sampleEntries);\r\n      \r\n      const samplePosts = [\r\n        {id: 1, text: \"Today I finally managed to meditate for 10 minutes straight! Feeling proud of myself.\", mood: \"happy\", likes: 12, timestamp: new Date(Date.now() - 2*60*60*1000).toISOString(), anonymous: true, userName: \"Anonymous\"},\r\n        {id: 2, text: \"Struggling with anxiety today. Anyone else feeling this way?\", mood: \"anxious\", likes: 8, timestamp: new Date(Date.now() - 5*60*60*1000).toISOString(), anonymous: true, userName: \"Anonymous\"},\r\n        {id: 3, text: \"Grateful for this community. Reading your stories gives me hope.\", mood: \"grateful\", likes: 25, timestamp: new Date(Date.now() - 8*60*60*1000).toISOString(), anonymous: false, userName: \"HappyUser123\"}\r\n      ];\r\n      setMoodWall(samplePosts);\r\n      \r\n      setAchievements(sampleAchievements);\r\n      \r\n      setMessages([{\r\n        text: \"Hello! I'm MoodMate, your mental health companion. How are you feeling today?\",\r\n        sender: \"bot\"\r\n      }]);\r\n    }\r\n  };\r\n  \r\n  const simulateTyping = async () => {\r\n    const typingPhrases = [\"Thinking\", \"Thinking.\", \"Thinking..\", \"Thinking...\"];\r\n    for (let i = 0; i < 6; i++) {\r\n      setTypingIndicator(typingPhrases[i % 4]);\r\n      await new Promise(resolve => setTimeout(resolve, 300));\r\n    }\r\n    setTypingIndicator(\"\");\r\n  };\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    setLoginError(\"\");\r\n    const formData = new FormData(e.target);\r\n    const credentials = {\r\n      email: formData.get('email'),\r\n      password: formData.get('password')\r\n    };\r\n\r\n    try {\r\n      const data = await apiService.login(credentials);\r\n\r\n      if (data.status === \"success\") {\r\n        localStorage.setItem('accessToken', data.token);\r\n        \r\n        const userData = {\r\n          id: data.user.id,\r\n          email: data.user.email,\r\n          name: data.user.name,\r\n          coins: data.user.coins,\r\n          streak: data.user.streak,\r\n          mentalFitness: data.user.mentalFitness || 75\r\n        };\r\n        \r\n        localStorage.setItem('user', JSON.stringify(userData));\r\n        setUser(userData);\r\n        setIsLoggedIn(true);\r\n        setShowLogin(false);\r\n        loadInitialData();\r\n      } else {\r\n        setLoginError(data.error || \"Login failed\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Login error:\", error);\r\n      setLoginError(error.message || \"Login failed. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const handleRegister = async (e) => {\r\n    e.preventDefault();\r\n    setRegisterError(\"\");\r\n    const formData = new FormData(e.target);\r\n    const userData = {\r\n      name: formData.get('name'),\r\n      email: formData.get('email'),\r\n      password: formData.get('password'),\r\n      confirmPassword: formData.get('confirmPassword')\r\n    };\r\n\r\n    try {\r\n      const data = await apiService.register(userData);\r\n\r\n      if (data.status === \"success\") {\r\n        localStorage.setItem('accessToken', data.token);\r\n        \r\n        const userObj = {\r\n          id: data.user.id,\r\n          email: data.user.email,\r\n          name: data.user.name,\r\n          coins: data.user.coins,\r\n          streak: data.user.streak,\r\n          mentalFitness: data.user.mentalFitness || 75\r\n        };\r\n        \r\n        localStorage.setItem('user', JSON.stringify(userObj));\r\n        setUser(userObj);\r\n        setIsLoggedIn(true);\r\n        setShowRegister(false);\r\n        setShowLogin(false);\r\n        loadInitialData();\r\n      } else {\r\n        setRegisterError(data.error || \"Registration failed\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Registration error:\", error);\r\n      setRegisterError(error.message || \"Registration failed. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('accessToken');\r\n    localStorage.removeItem('user');\r\n    setUser(null);\r\n    setIsLoggedIn(false);\r\n    setShowLogin(true);\r\n    setMessages([]);\r\n    setSidebarOpen(false);\r\n  };\r\n\r\n  const startNewChat = () => {\r\n    setMessages([{\r\n      text: \"Hello! I'm MoodMate, your mental health companion. How are you feeling today?\",\r\n      sender: \"bot\"\r\n    }]);\r\n    setShowNewChatModal(false);\r\n  };\r\n\r\n  const sendMessage = async () => {\r\n    if (!input.trim() || !isLoggedIn) return;\r\n\r\n    const userMsg = { text: input, sender: \"user\" };\r\n    setMessages(prev => [...prev, userMsg]);\r\n    setInput(\"\");\r\n    setIsTyping(true);\r\n    \r\n    // Check for emergency keywords\r\n    const emergencyKeywords = ['suicide', 'kill myself', 'end it all', 'want to die', 'self harm', 'hurt myself'];\r\n    const hasEmergency = emergencyKeywords.some(keyword => \r\n      input.toLowerCase().includes(keyword)\r\n    );\r\n    \r\n    if (hasEmergency) {\r\n      setShowEmergencyModal(true);\r\n      setIsTyping(false);\r\n      return;\r\n    }\r\n    \r\n    // Simulate typing animation\r\n    simulateTyping();\r\n\r\n    try {\r\n      const data = await apiService.sendChatMessage(input);\r\n      \r\n      if (data.status === \"crisis\") {\r\n        setShowEmergencyModal(true);\r\n        setIsTyping(false);\r\n        return;\r\n      }\r\n      \r\n      const botMsg = { \r\n        text: data.reply, \r\n        sender: \"bot\",\r\n        mood: data.mood,\r\n        moodEmoji: data.moodEmoji,\r\n        phrase: data.phrase\r\n      };\r\n      setMessages(prev => [...prev, botMsg]);\r\n\r\n      // Update user data if coins were earned\r\n      if (data.coinsEarned > 0) {\r\n        const newCoins = (user?.coins || 0) + data.coinsEarned;\r\n        const updatedUser = {...user, coins: newCoins, streak: data.streak};\r\n        setUser(updatedUser);\r\n        localStorage.setItem('user', JSON.stringify(updatedUser));\r\n      }\r\n    } catch (error) {\r\n      console.log(\"Chat error:\", error);\r\n      // Fallback to diverse AI responses based on mood detection\r\n      const mood = detectMoodFromInput(input);\r\n      const moodResponses = aiResponses[mood] || aiResponses.neutral;\r\n      const randomResponse = moodResponses[Math.floor(Math.random() * moodResponses.length)];\r\n      \r\n      const botMsg = { \r\n        text: randomResponse, \r\n        sender: \"bot\",\r\n        mood: mood,\r\n        moodEmoji: getMoodEmoji(mood),\r\n        phrase: getMoodPhrase(mood)\r\n      };\r\n      setMessages(prev => [...prev, botMsg]);\r\n    }\r\n\r\n    setIsTyping(false);\r\n    setTypingIndicator(\"\");\r\n  };\r\n\r\n  const detectMoodFromInput = (text) => {\r\n    const textLower = text.toLowerCase();\r\n    if (textLower.includes('happy') || textLower.includes('good') || textLower.includes('great') || textLower.includes('excited')) return 'happy';\r\n    if (textLower.includes('sad') || textLower.includes('depressed') || textLower.includes('unhappy') || textLower.includes('cry')) return 'sad';\r\n    if (textLower.includes('anxious') || textLower.includes('nervous') || textLower.includes('worried') || textLower.includes('stress')) return 'anxious';\r\n    if (textLower.includes('angry') || textLower.includes('mad') || textLower.includes('frustrated') || textLower.includes('annoyed')) return 'angry';\r\n    return 'neutral';\r\n  };\r\n\r\n  const getMoodEmoji = (mood) => {\r\n    const emojis = {\r\n      happy: \"ðŸ˜Š\",\r\n      sad: \"ðŸ˜¢\",\r\n      anxious: \"ðŸ˜°\",\r\n      angry: \"ðŸ˜ \",\r\n      neutral: \"ðŸ˜Š\"\r\n    };\r\n    return emojis[mood];\r\n  };\r\n\r\n  const getMoodPhrase = (mood) => {\r\n    const phrases = {\r\n      happy: \"à¤–à¥à¤¶ à¤°à¤¹à¥‹ à¤¹à¤®à¥‡à¤¶à¤¾ â€” à¤†à¤ªà¤•à¥€ à¤®à¥à¤¸à¥à¤•à¤¾à¤¨ à¤•à¥€ à¤µà¤œà¤¹ à¤•à¥à¤› à¤¹à¥ˆà¥¤\",\r\n      sad: \"à¤¯à¤¹ à¤­à¥€ à¤¬à¥€à¤¤ à¤œà¤¾à¤à¤—à¤¾ â€” à¤¥à¥‹à¤¡à¤¼à¥€ à¤¸à¥€ à¤‰à¤®à¥à¤®à¥€à¤¦ à¤°à¤–à¥‹à¥¤\",\r\n      anxious: \"à¤¶à¤¾à¤‚à¤¤ à¤°à¤¹à¤¨à¤¾ à¤¸à¥€à¤–à¥‹, à¤¸à¤¬ à¤§à¥€à¤°à¥‡-à¤§à¥€à¤°à¥‡ à¤ à¥€à¤• à¤¹à¥‹à¤—à¤¾à¥¤\",\r\n      angry: \"à¤—à¤¹à¤°à¥‡ à¤¸à¤¾à¤à¤¸ à¤²à¥‹ â€” à¤¹à¤° à¤—à¤¼à¥à¤¸à¥à¤¸à¤¾ à¤•à¥à¤› à¤¸à¤¿à¤–à¤¾ à¤•à¤° à¤œà¤¾à¤¤à¤¾ à¤¹à¥ˆà¥¤\",\r\n      neutral: \"You're doing great. Keep going!\"\r\n    };\r\n    return phrases[mood];\r\n  };\r\n\r\n  const addJournalEntry = async () => {\r\n    const entryText = prompt(\"What's on your mind today?\");\r\n    if (!entryText) return;\r\n\r\n    try {\r\n      const data = await apiService.addJournalEntry({\r\n        text: entryText,\r\n        mood: \"neutral\",\r\n        shared: false\r\n      });\r\n\r\n      if (data.status === \"success\") {\r\n        const newEntry = {\r\n          id: Date.now(),\r\n          text: entryText,\r\n          summary: \"Personal reflection\",\r\n          mood: \"neutral\",\r\n          date: new Date().toISOString().split('T')[0],\r\n          shared: false\r\n        };\r\n        \r\n        setJournalEntries(prev => [newEntry, ...prev]);\r\n        \r\n        // Award coins\r\n        const newCoins = (user?.coins || 0) + 3;\r\n        const updatedUser = {...user, coins: newCoins};\r\n        setUser(updatedUser);\r\n        localStorage.setItem('user', JSON.stringify(updatedUser));\r\n        \r\n        alert(\"Journal entry saved! +3 coins earned!\");\r\n      } else {\r\n        alert(data.error || \"Failed to save journal entry\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Journal error:\", error);\r\n      // Fallback to local storage\r\n      const newEntry = {\r\n        id: Date.now(),\r\n        text: entryText,\r\n        summary: \"Personal reflection\",\r\n        mood: \"neutral\",\r\n        date: new Date().toISOString().split('T')[0],\r\n        shared: false\r\n      };\r\n      \r\n      setJournalEntries(prev => [newEntry, ...prev]);\r\n      \r\n      const newCoins = (user?.coins || 0) + 3;\r\n      const updatedUser = {...user, coins: newCoins};\r\n      setUser(updatedUser);\r\n      localStorage.setItem('user', JSON.stringify(updatedUser));\r\n      \r\n      alert(\"Journal entry saved! +3 coins earned!\");\r\n    }\r\n  };\r\n\r\n  const shareJournalEntry = async (entryId) => {\r\n    try {\r\n      const data = await apiService.addJournalEntry({\r\n        id: entryId,\r\n        shared: true\r\n      });\r\n\r\n      if (data.status === \"success\") {\r\n        const updatedEntries = journalEntries.map(e => \r\n          e.id === entryId ? {...e, shared: true} : e\r\n        );\r\n        setJournalEntries(updatedEntries);\r\n        alert(\"Journal entry shared to your tribes!\");\r\n      } else {\r\n        alert(data.error || \"Failed to share journal entry\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Share error:\", error);\r\n      // Fallback to local update\r\n      const updatedEntries = journalEntries.map(e => \r\n        e.id === entryId ? {...e, shared: true} : e\r\n      );\r\n      setJournalEntries(updatedEntries);\r\n      alert(\"Journal entry shared to your tribes!\");\r\n    }\r\n  };\r\n\r\n  const addMoodWallPost = async () => {\r\n    const postText = prompt(\"Share your feelings with the community (anonymous):\");\r\n    if (!postText) return;\r\n\r\n    try {\r\n      const data = await apiService.addMoodWallPost({\r\n        text: postText,\r\n        mood: \"neutral\",\r\n        anonymous: true\r\n      });\r\n\r\n      if (data.status === \"success\") {\r\n        const newPost = {\r\n          id: Date.now(),\r\n          text: postText,\r\n          mood: \"neutral\",\r\n          likes: 0,\r\n          timestamp: new Date().toISOString(),\r\n          anonymous: true,\r\n          userName: \"Anonymous\"\r\n        };\r\n        \r\n        setMoodWall(prev => [newPost, ...prev]);\r\n        alert(\"Posted to mood wall!\");\r\n      } else {\r\n        alert(data.error || \"Failed to post to mood wall\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Mood wall error:\", error);\r\n      // Fallback to local storage\r\n      const newPost = {\r\n        id: Date.now(),\r\n        text: postText,\r\n        mood: \"neutral\",\r\n        likes: 0,\r\n        timestamp: new Date().toISOString(),\r\n        anonymous: true,\r\n        userName: \"Anonymous\"\r\n      };\r\n      \r\n      setMoodWall(prev => [newPost, ...prev]);\r\n      alert(\"Posted to mood wall!\");\r\n    }\r\n  };\r\n\r\n  const joinTribe = async (tribeId) => {\r\n    try {\r\n      const data = await apiService.joinTribe(tribeId);\r\n      \r\n      if (data.status === \"success\") {\r\n        const tribe = moodTribes.find(t => t.id === tribeId);\r\n        if (tribe) {\r\n          const updatedTribes = moodTribes.map(t => \r\n            t.id === tribeId ? {...t, isMember: true, member_count: t.member_count + 1} : t\r\n          );\r\n          setMoodTribes(updatedTribes);\r\n          setUserTribes(prev => [...prev, tribe]);\r\n          localStorage.setItem('userTribes', JSON.stringify([...userTribes, tribe]));\r\n          \r\n          alert(`ðŸŽ‰ You've joined the ${tribe.name}!`);\r\n        }\r\n      } else {\r\n        alert(data.error || \"Failed to join tribe\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Join tribe error:\", error);\r\n      // Fallback to local update\r\n      const tribe = moodTribes.find(t => t.id === tribeId);\r\n      if (tribe) {\r\n        const updatedTribes = moodTribes.map(t => \r\n          t.id === tribeId ? {...t, isMember: true, member_count: t.member_count + 1} : t\r\n        );\r\n        setMoodTribes(updatedTribes);\r\n        setUserTribes(prev => [...prev, tribe]);\r\n        localStorage.setItem('userTribes', JSON.stringify([...userTribes, tribe]));\r\n        \r\n        alert(`ðŸŽ‰ You've joined the ${tribe.name}!`);\r\n      }\r\n    }\r\n  };\r\n\r\n  const sendTribeMessage = (tribeId) => {\r\n    if (!tribeInput.trim()) return;\r\n    \r\n    const newMessage = {\r\n      id: Date.now(),\r\n      message: tribeInput,\r\n      user_name: \"You\",\r\n      timestamp: new Date().toISOString()\r\n    };\r\n    \r\n    setTribeChatMessages(prev => ({\r\n      ...prev,\r\n      [tribeId]: [...(prev[tribeId] || []), newMessage]\r\n    }));\r\n    \r\n    setTribeInput(\"\");\r\n  };\r\n\r\n  const playBreathingExercise = () => {\r\n    setMessages(prev => [...prev, {\r\n      text: \"Let's do a quick breathing exercise. Breathe in for 4 seconds, hold for 4 seconds, exhale for 6 seconds. Repeat 5 times. I'll guide you through it...\",\r\n      sender: \"bot\",\r\n      isExercise: true\r\n    }]);\r\n  };\r\n\r\n  const buyItem = async (item) => {\r\n    if (user.coins < item.price) {\r\n      alert(\"Not enough coins!\");\r\n      return;\r\n    }\r\n    \r\n    if (window.confirm(`Buy ${item.name} for ${item.price} coins?`)) {\r\n      try {\r\n        const data = await apiService.purchaseItem(item.id);\r\n        \r\n        if (data.status === \"success\") {\r\n          const newCoins = user.coins - item.price;\r\n          const updatedUser = {...user, coins: newCoins};\r\n          setUser(updatedUser);\r\n          localStorage.setItem('user', JSON.stringify(updatedUser));\r\n          \r\n          if (item.category === \"theme\") {\r\n            setCurrentTheme(item.name.toLowerCase().replace(' theme', ''));\r\n            localStorage.setItem('theme', item.name.toLowerCase().replace(' theme', ''));\r\n            alert(`Theme applied! You're now using the ${item.name}.`);\r\n          } else if (item.name === \"Second Chance Token\") {\r\n            localStorage.setItem('secondChanceToken', 'true');\r\n            alert(\"Second Chance Token purchased! This will save your streak if you miss a day.\");\r\n          } else if (item.name === \"Custom Voice\") {\r\n            alert(\"Custom Voice purchased! Your AI companion will now use a personalized voice.\");\r\n          } else if (item.name === \"Meditation Pack\") {\r\n            alert(\"Meditation Pack purchased! You now have access to exclusive meditation content.\");\r\n          } else {\r\n            alert(`Purchased ${item.name}!`);\r\n          }\r\n        } else {\r\n          alert(data.error || \"Purchase failed\");\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Purchase error:\", error);\r\n        // Fallback to local purchase\r\n        const newCoins = user.coins - item.price;\r\n        const updatedUser = {...user, coins: newCoins};\r\n        setUser(updatedUser);\r\n        localStorage.setItem('user', JSON.stringify(updatedUser));\r\n        \r\n        if (item.category === \"theme\") {\r\n          setCurrentTheme(item.name.toLowerCase().replace(' theme', ''));\r\n          localStorage.setItem('theme', item.name.toLowerCase().replace(' theme', ''));\r\n          alert(`Theme applied! You're now using the ${item.name}.`);\r\n        } else if (item.name === \"Second Chance Token\") {\r\n          localStorage.setItem('secondChanceToken', 'true');\r\n          alert(\"Second Chance Token purchased! This will save your streak if you miss a day.\");\r\n        } else if (item.name === \"Custom Voice\") {\r\n          alert(\"Custom Voice purchased! Your AI companion will now use a personalized voice.\");\r\n        } else if (item.name === \"Meditation Pack\") {\r\n          alert(\"Meditation Pack purchased! You now have access to exclusive meditation content.\");\r\n        } else {\r\n          alert(`Purchased ${item.name}!`);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const applyTheme = (themeName) => {\r\n    setCurrentTheme(themeName);\r\n    localStorage.setItem('theme', themeName);\r\n  };\r\n\r\n  const toggleAudio = () => {\r\n    const newAudioEnabled = !audioEnabled;\r\n    setAudioEnabled(newAudioEnabled);\r\n    localStorage.setItem('audioEnabled', newAudioEnabled);\r\n  };\r\n\r\n  const toggleMusic = () => {\r\n    const newMusicEnabled = !musicEnabled;\r\n    setMusicEnabled(newMusicEnabled);\r\n    localStorage.setItem('musicEnabled', newMusicEnabled);\r\n  };\r\n\r\n  const switchAiProvider = (provider) => {\r\n    setAiProvider(provider);\r\n    localStorage.setItem('aiProvider', provider);\r\n  };\r\n\r\n  const bookAppointment = async () => {\r\n    if (!selectedDoctor || !selectedSlot || !selectedMode) {\r\n      alert(\"Please select a doctor, time slot, and mode\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const bookingData = {\r\n        doctor_id: selectedDoctor.id,\r\n        slot_time: selectedSlot,\r\n        mode: selectedMode\r\n      };\r\n\r\n      const data = await apiService.bookAppointment(bookingData);\r\n\r\n      if (data.status === \"success\") {\r\n        alert(\"Appointment booked successfully!\");\r\n        setBookingStep(\"select-doctor\");\r\n        setSelectedDoctor(null);\r\n        setSelectedSlot(null);\r\n        setSelectedMode(\"chat\");\r\n        \r\n        // Refresh bookings\r\n        const bookingsData = await apiService.getUserBookings();\r\n        setUserBookings(bookingsData.bookings || bookingsData);\r\n      } else {\r\n        alert(data.error || \"Failed to book appointment\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Booking error:\", error);\r\n      alert(\"Failed to book appointment. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const joinSession = async (booking) => {\r\n    try {\r\n      const data = await apiService.joinSession(booking.id);\r\n      \r\n      if (data.status === \"success\") {\r\n        if (booking.mode === \"chat\") {\r\n          // Open chat interface\r\n          setActiveTab(\"chat\");\r\n        } else if (booking.mode === \"audio\" || booking.mode === \"video\") {\r\n          // Open meeting link in new tab\r\n          window.open(data.meeting_link, \"_blank\");\r\n        }\r\n      } else {\r\n        alert(data.error || \"Failed to join session\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Join session error:\", error);\r\n      alert(\"Failed to join session. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };\r\n    return new Date(dateString).toLocaleDateString(undefined, options);\r\n  };\r\n\r\n  const formatTime = (timeString) => {\r\n    return new Date(timeString).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n  };\r\n\r\n  const EmergencyModal = () => {\r\n    if (!showEmergencyModal) return null;\r\n    \r\n    return (\r\n      <div className=\"emergency-modal\">\r\n        <div className=\"emergency-content\">\r\n          <h2>âš ï¸ We're concerned about you</h2>\r\n          <p>Please choose an option below. Your safety matters ðŸ’™</p>\r\n          \r\n          <div className=\"emergency-buttons\">\r\n            <button \r\n              className=\"emergency-call\" \r\n              onClick={() => {\r\n                window.open('tel:1-800-273-8255');\r\n                setShowEmergencyModal(false);\r\n              }}\r\n            >\r\n              Call for Help ðŸ”´\r\n            </button>\r\n            \r\n            <button \r\n              className=\"emergency-resources\" \r\n              onClick={() => {\r\n                alert(\"Crisis Resources:\\n\\n1. National Suicide Prevention Lifeline: 1-800-273-8255\\n2. Crisis Text Line: Text HOME to 741741\\n3. iCall India: +91-9152987821\");\r\n                setShowEmergencyModal(false);\r\n              }}\r\n            >\r\n              Show Resources ðŸ“‹\r\n            </button>\r\n            \r\n            <button \r\n              className=\"emergency-ok\" \r\n              onClick={() => setShowEmergencyModal(false)}\r\n            >\r\n              I'm Fine Now âœ…\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const NewChatModal = () => {\r\n    if (!showNewChatModal) return null;\r\n    \r\n    return (\r\n      <div className=\"modal-overlay\">\r\n        <div className=\"modal-content\">\r\n          <h2>Start New Chat</h2>\r\n          <p>Are you sure you want to start a new chat? Your current conversation will be cleared.</p>\r\n          <div className=\"modal-buttons\">\r\n            <button onClick={startNewChat} className=\"btn-primary\">Yes, Start New Chat</button>\r\n            <button onClick={() => setShowNewChatModal(false)} className=\"btn-secondary\">Cancel</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const BookingWizard = () => {\r\n    if (bookingStep === \"select-doctor\") {\r\n      return (\r\n        <div className=\"booking-step\">\r\n          <h3>Select a Doctor</h3>\r\n          <div className=\"doctors-grid\">\r\n            {therapists.map(doctor => (\r\n              <div key={doctor.id} className=\"doctor-card\" onClick={() => {\r\n                setSelectedDoctor(doctor);\r\n                setBookingStep(\"select-slot\");\r\n              }}>\r\n                <div className=\"doctor-avatar\">{doctor.avatar || doctor.name.charAt(0)}</div>\r\n                <h4>{doctor.name}</h4>\r\n                <p>{doctor.specialization}</p>\r\n                <p>Fee: {doctor.price} coins</p>\r\n                <div className=\"modes\">\r\n                  {doctor.mode && doctor.mode.includes(\"chat\") && <span>ðŸ’¬</span>}\r\n                  {doctor.mode && doctor.mode.includes(\"audio\") && <span>ðŸŽ§</span>}\r\n                  {doctor.mode && doctor.mode.includes(\"video\") && <span>ðŸ“¹</span>}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <button className=\"back-button\" onClick={() => setActiveTab(\"therapy\")}>Back to Therapy</button>\r\n        </div>\r\n      );\r\n    } else if (bookingStep === \"select-slot\") {\r\n      return (\r\n        <div className=\"booking-step\">\r\n          <h3>Select Time Slot with Dr. {selectedDoctor.name}</h3>\r\n          <div className=\"slots-grid\">\r\n            {selectedDoctor.availability_slots && selectedDoctor.availability_slots.map(slot => (\r\n              <div \r\n                key={slot} \r\n                className={`slot-card ${selectedSlot === slot ? \"selected\" : \"\"}`}\r\n                onClick={() => setSelectedSlot(slot)}\r\n              >\r\n                {formatTime(slot)}\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <div className=\"booking-controls\">\r\n            <button className=\"back-button\" onClick={() => setBookingStep(\"select-doctor\")}>Back to Doctors</button>\r\n            {selectedSlot && (\r\n              <button className=\"next-button\" onClick={() => setBookingStep(\"select-mode\")}>Next</button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      );\r\n    } else if (bookingStep === \"select-mode\") {\r\n      return (\r\n        <div className=\"booking-step\">\r\n          <h3>Select Session Mode with Dr. {selectedDoctor.name}</h3>\r\n          <p>Selected time: {formatTime(selectedSlot)}</p>\r\n          <div className=\"modes-grid\">\r\n            {selectedDoctor.mode && selectedDoctor.mode.includes(\"chat\") && (\r\n              <div \r\n                className={`mode-card ${selectedMode === \"chat\" ? \"selected\" : \"\"}`}\r\n                onClick={() => setSelectedMode(\"chat\")}\r\n              >\r\n                <h4>ðŸ’¬ Chat Session</h4>\r\n                <p>Text-based messaging</p>\r\n              </div>\r\n            )}\r\n            {selectedDoctor.mode && selectedDoctor.mode.includes(\"audio\") && (\r\n              <div \r\n                className={`mode-card ${selectedMode === \"audio\" ? \"selected\" : \"\"}`}\r\n                onClick={() => setSelectedMode(\"audio\")}\r\n              >\r\n                <h4>ðŸŽ§ Audio Call</h4>\r\n                <p>Voice conversation</p>\r\n              </div>\r\n            )}\r\n            {selectedDoctor.mode && selectedDoctor.mode.includes(\"video\") && (\r\n              <div \r\n                className={`mode-card ${selectedMode === \"video\" ? \"selected\" : \"\"}`}\r\n                onClick={() => setSelectedMode(\"video\")}\r\n              >\r\n                <h4>ðŸ“¹ Video Call</h4>\r\n                <p>Face-to-face conversation</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className=\"booking-controls\">\r\n            <button className=\"back-button\" onClick={() => setBookingStep(\"select-slot\")}>Back to Time Slots</button>\r\n            {selectedMode && (\r\n              <button className=\"next-button\" onClick={() => setBookingStep(\"confirm-booking\")}>Next</button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      );\r\n    } else if (bookingStep === \"confirm-booking\") {\r\n      return (\r\n        <div className=\"booking-step\">\r\n          <h3>Confirm Your Booking</h3>\r\n          <div className=\"booking-summary\">\r\n            <h4>Appointment Details</h4>\r\n            <p><strong>Doctor:</strong> Dr. {selectedDoctor.name}</p>\r\n            <p><strong>Specialization:</strong> {selectedDoctor.specialization}</p>\r\n            <p><strong>Date & Time:</strong> {formatTime(selectedSlot)}</p>\r\n            <p><strong>Mode:</strong> \r\n              {selectedMode === \"chat\" && \" ðŸ’¬ Chat\"}\r\n              {selectedMode === \"audio\" && \" ðŸŽ§ Audio Call\"}\r\n              {selectedMode === \"video\" && \" ðŸ“¹ Video Call\"}\r\n            </p>\r\n            <p><strong>Fee:</strong> {selectedDoctor.price} coins</p>\r\n          </div>\r\n          <div className=\"booking-controls\">\r\n            <button className=\"back-button\" onClick={() => setBookingStep(\"select-mode\")}>Back to Mode Selection</button>\r\n            <button className=\"confirm-button\" onClick={bookAppointment}>Confirm Booking</button>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  const TribeCommunity = () => {\r\n    if (!activeTribe) return null;\r\n    \r\n    const tribeChat = tribeChatMessages[activeTribe.id] || [];\r\n    \r\n    return (\r\n      <div className=\"tribe-community\">\r\n        <div className=\"tribe-header\">\r\n          <button onClick={() => setActiveTribe(null)} className=\"back-btn\">\r\n            â† Back to Communities\r\n          </button>\r\n          <h2>{activeTribe.name} Community</h2>\r\n          <p>{activeTribe.description}</p>\r\n          <div className=\"tribe-stats\">\r\n            <span>ðŸ‘¥ {activeTribe.member_count} members</span>\r\n            <span>ðŸ’¬ {tribeChat.length} messages</span>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"tribe-content\">\r\n          <div className=\"tribe-chat\">\r\n            <h3>Community Chat</h3>\r\n            <div className=\"tribe-messages\">\r\n              {tribeChat.map((msg) => (\r\n                <div key={`tribe-msg-${msg.id}-${Date.now()}`} className=\"tribe-message\">\r\n                  <div className=\"message-avatar\">{msg.user_name.charAt(0)}</div>\r\n                  <div className=\"message-content\">\r\n                    <span className=\"message-sender\">{msg.user_name}</span>\r\n                    <p>{msg.message}</p>\r\n                    <span className=\"message-time\">{new Date(msg.timestamp).toLocaleTimeString()}</span>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            \r\n            <div className=\"tribe-input\">\r\n              <input \r\n                type=\"text\" \r\n                placeholder=\"Share something with the community...\" \r\n                value={tribeInput}\r\n                onChange={(e) => setTribeInput(e.target.value)}\r\n                onKeyDown={(e) => e.key === \"Enter\" && sendTribeMessage(activeTribe.id)}\r\n              />\r\n              <button onClick={() => sendTribeMessage(activeTribe.id)}>Send</button>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"tribe-resources\">\r\n            <h3>Community Resources</h3>\r\n            <div className=\"resource-list\">\r\n              <div className=\"resource-item\">\r\n                <h4>Mindfulness Exercises</h4>\r\n                <p>Guided meditation for beginners</p>\r\n                <button>View</button>\r\n              </div>\r\n              <div className=\"resource-item\">\r\n                <h4>Support Threads</h4>\r\n                <p>Connect with others who understand</p>\r\n                <button>Explore</button>\r\n              </div>\r\n              <div className=\"resource-item\">\r\n                <h4>Weekly Challenges</h4>\r\n                <p>Join community wellness challenges</p>\r\n                <button>Participate</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const Sidebar = () => {\r\n    if (!sidebarOpen) return null;\r\n    \r\n    return (\r\n      <div className=\"sidebar-overlay\" onClick={() => setSidebarOpen(false)}>\r\n        <div className=\"sidebar\" onClick={(e) => e.stopPropagation()}>\r\n          <div className=\"sidebar-header\">\r\n            <h2>MoodMate</h2>\r\n            <button onClick={() => setSidebarOpen(false)} className=\"close-btn\">Ã—</button>\r\n          </div>\r\n          \r\n          <div className=\"sidebar-content\">\r\n            <div className=\"sidebar-section\">\r\n              <h3>Navigation</h3>\r\n              <button \r\n                onClick={() => { setActiveTab(\"chat\"); setSidebarOpen(false); }} \r\n                className={`sidebar-btn ${activeTab === \"chat\" ? \"active\" : \"\"}`}\r\n              >\r\n                ðŸ’¬ Chat\r\n              </button>\r\n              <button \r\n                onClick={() => { setActiveTab(\"journal\"); setSidebarOpen(false); }} \r\n                className={`sidebar-btn ${activeTab === \"journal\" ? \"active\" : \"\"}`}\r\n              >\r\n                ðŸ““ Journal\r\n              </button>\r\n              <button \r\n                onClick={() => { setActiveTab(\"therapy\"); setSidebarOpen(false); }} \r\n                className={`sidebar-btn ${activeTab === \"therapy\" ? \"active\" : \"\"}`}\r\n              >\r\n                ðŸ‘¨â€âš•ï¸ Therapy\r\n              </button>\r\n              <button \r\n                onClick={() => { setActiveTab(\"community\"); setSidebarOpen(false); }} \r\n                className={`sidebar-btn ${activeTab === \"community\" ? \"active\" : \"\"}`}\r\n              >\r\n                ðŸŒ Community\r\n              </button>\r\n              <button \r\n                onClick={() => { setActiveTab(\"shop\"); setSidebarOpen(false); }} \r\n                className={`sidebar-btn ${activeTab === \"shop\" ? \"active\" : \"\"}`}\r\n              >\r\n                ðŸ›’ Shop\r\n              </button>\r\n              <button \r\n                onClick={() => { setActiveTab(\"profile\"); setSidebarOpen(false); }} \r\n                className={`sidebar-btn ${activeTab === \"profile\" ? \"active\" : \"\"}`}\r\n              >\r\n                ðŸ‘¤ Profile\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"sidebar-section\">\r\n              <h3>Quick Actions</h3>\r\n              <button onClick={() => { setShowNewChatModal(true); setSidebarOpen(false); }} className=\"sidebar-btn\">\r\n                New Chat\r\n              </button>\r\n              <button onClick={() => { playBreathingExercise(); setSidebarOpen(false); }} className=\"sidebar-btn\">\r\n                Breathing Exercise\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"sidebar-section\">\r\n              <h3>Settings</h3>\r\n              <div className=\"setting-item\">\r\n                <span>Voice Responses</span>\r\n                <label className=\"switch\">\r\n                  <input type=\"checkbox\" checked={audioEnabled} onChange={toggleAudio} />\r\n                  <span className=\"slider\"></span>\r\n                </label>\r\n              </div>\r\n              <div className=\"setting-item\">\r\n                <span>Background Music</span>\r\n                <label className=\"switch\">\r\n                  <input type=\"checkbox\" checked={musicEnabled} onChange={toggleMusic} />\r\n                  <span className=\"slider\"></span>\r\n                </label>\r\n              </div>\r\n              <div className=\"setting-item\">\r\n                <span>AI Provider</span>\r\n                <select value={aiProvider} onChange={(e) => switchAiProvider(e.target.value)}>\r\n                  <option value=\"gemini\">Gemini AI</option>\r\n                  <option value=\"fallback\">Fallback Mode</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const TherapyTab = () => {\r\n    if (bookingStep !== \"select-doctor\") {\r\n      return <BookingWizard />;\r\n    }\r\n\r\n    return (\r\n      <div className=\"therapy-tab\">\r\n        <div className=\"therapy-header\">\r\n          <h2>Professional Therapy Sessions</h2>\r\n          <button className=\"book-session-btn\" onClick={() => setBookingStep(\"select-doctor\")}>\r\n            Book a Session\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"my-bookings-section\">\r\n          <h3>My Upcoming Sessions</h3>\r\n          {userBookings.length === 0 ? (\r\n            <p>You don't have any upcoming sessions.</p>\r\n          ) : (\r\n            <div className=\"bookings-list\">\r\n              {userBookings.map(booking => (\r\n                <div key={booking.id} className=\"booking-item\">\r\n                  <div className=\"booking-info\">\r\n                    <h4>Session with Dr. {booking.doctor_name}</h4>\r\n                    <p>{formatDate(booking.slot_time)} at {formatTime(booking.slot_time)}</p>\r\n                    <p>Mode: \r\n                      {booking.mode === \"chat\" && \" ðŸ’¬ Chat\"}\r\n                      {booking.mode === \"audio\" && \" ðŸŽ§ Audio\"}\r\n                      {booking.mode === \"video\" && \" ðŸ“¹ Video\"}\r\n                    </p>\r\n                    <p>Status: <span className={`status ${booking.status}`}>{booking.status}</span></p>\r\n                  </div>\r\n                  <div className=\"booking-actions\">\r\n                    {booking.status === \"confirmed\" && (\r\n                      <button \r\n                        className=\"join-session-btn\"\r\n                        onClick={() => joinSession(booking)}\r\n                      >\r\n                        Join Session\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"available-doctors-section\">\r\n          <h3>Available Doctors</h3>\r\n          <div className=\"doctors-grid\">\r\n            {therapists.map(doctor => (\r\n              <div key={doctor.id} className=\"doctor-card\">\r\n                <div className=\"doctor-avatar\">{doctor.avatar || doctor.name.charAt(0)}</div>\r\n                <h4>{doctor.name}</h4>\r\n                <p>{doctor.specialization}</p>\r\n                <p>Fee: {doctor.price} coins</p>\r\n                <div className=\"modes\">\r\n                  {doctor.mode && doctor.mode.includes(\"chat\") && <span>ðŸ’¬</span>}\r\n                  {doctor.mode && doctor.mode.includes(\"audio\") && <span>ðŸŽ§</span>}\r\n                  {doctor.mode && doctor.mode.includes(\"video\") && <span>ðŸ“¹</span>}\r\n                </div>\r\n                <button \r\n                  className=\"book-btn\"\r\n                  onClick={() => {\r\n                    setSelectedDoctor(doctor);\r\n                    setBookingStep(\"select-slot\");\r\n                  }}\r\n                >\r\n                  Book Now\r\n                </button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"resources-section\">\r\n          <h3>ðŸ†˜ Crisis Resources</h3>\r\n          <div className=\"resources-grid\">\r\n            {resources.filter(r => r.type === 'crisis').map((resource, index) => (\r\n              <div key={`resource-${index}`} className=\"resource-card\">\r\n                <h4>{resource.name}</h4>\r\n                <p>{resource.number}</p>\r\n                <small>{resource.available}</small>\r\n                {resource.number && (\r\n                  <button \r\n                    className=\"call-btn\"\r\n                    onClick={() => window.open(`tel:${resource.number.replace(/\\D/g, '')}`)}\r\n                  >\r\n                    ðŸ“ž Call Now\r\n                  </button>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const shopCategories = [\"All\", \"theme\", \"cosmetic\", \"content\", \"utility\", \"feature\"];\r\n\r\n  const filteredShopItems = activeShopCategory === \"All\"\r\n    ? shopItems\r\n    : shopItems.filter(item => item.category.toLowerCase() === activeShopCategory.toLowerCase());\r\n\r\n  if (!isLoggedIn) {\r\n    return (\r\n      <div className=\"app-container auth-container\">\r\n        <div className=\"auth-box\">\r\n          <h1>ðŸŒ™ MoodMate</h1>\r\n          <p>Your mental health companion</p>\r\n          \r\n          {showLogin && (\r\n            <form onSubmit={handleLogin} className=\"auth-form\">\r\n              <h2>Login</h2>\r\n              {loginError && <div className=\"error-message\">{loginError}</div>}\r\n              <input type=\"email\" name=\"email\" placeholder=\"Email\" required />\r\n              <input type=\"password\" name=\"password\" placeholder=\"Password\" required />\r\n              <button type=\"submit\">Login</button>\r\n              \r\n              <div className=\"auth-links\">\r\n                <span className=\"auth-link\" onClick={() => setShowRegister(true)}>\r\n                  Create Account\r\n                </span>\r\n                <span className=\"auth-link\" onClick={() => setShowForgotPassword(true)}>\r\n                  Forgot Password?\r\n                </span>\r\n              </div>\r\n            </form>\r\n          )}\r\n\r\n          {showRegister && (\r\n            <form onSubmit={handleRegister} className=\"auth-form\">\r\n              <h2>Register</h2>\r\n              {registerError && <div className=\"error-message\">{registerError}</div>}\r\n              <input type=\"text\" name=\"name\" placeholder=\"Full Name\" required />\r\n              <input type=\"email\" name=\"email\" placeholder=\"Email\" required />\r\n              <input type=\"password\" name=\"password\" placeholder=\"Password (min 8 chars)\" required />\r\n              <input type=\"password\" name=\"confirmPassword\" placeholder=\"Confirm Password\" required />\r\n              <button type=\"submit\">Register</button>\r\n              <p>\r\n                Already have an account?{\" \"}\r\n                <span className=\"auth-link\" onClick={() => setShowRegister(false)}>\r\n                  Login\r\n                </span>\r\n              </p>\r\n            </form>\r\n          )}\r\n\r\n          {showForgotPassword && (\r\n            <div className=\"auth-form\">\r\n              <h2>Reset Password</h2>\r\n              <p>Please contact support to reset your password.</p>\r\n              <p>\r\n                Remember your password?{\" \"}\r\n                <span className=\"auth-link\" onClick={() => setShowForgotPassword(false)}>\r\n                  Login\r\n                </span>\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={`app-container ${currentTheme}-theme`}>\r\n      <EmergencyModal />\r\n      <NewChatModal />\r\n      <Sidebar />\r\n      \r\n      <header className=\"app-header\">\r\n        <div className=\"header-left\">\r\n          <button onClick={() => setSidebarOpen(true)} className=\"menu-btn\">â˜°</button>\r\n          <h1>ðŸŒ™ MoodMate</h1>\r\n          <div className=\"user-stats\">\r\n            <span className=\"streak-display\">ðŸ”¥ {user?.streak || 0} day streak</span>\r\n            <span>ðŸª™ {user?.coins || 0} coins</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"header-right\">\r\n          <div className=\"user-info\">\r\n            <span className=\"user-name\">{user?.name}</span>\r\n            <span className=\"user-status\">Online</span>\r\n          </div>\r\n          <button onClick={handleLogout} className=\"logout-btn\">Logout</button>\r\n        </div>\r\n      </header>\r\n\r\n      <nav className=\"app-nav\">\r\n        <button \r\n          className={activeTab === \"chat\" ? \"active\" : \"\"} \r\n          onClick={() => setActiveTab(\"chat\")}\r\n        >\r\n          ðŸ’¬ Chat\r\n        </button>\r\n        <button \r\n          className={activeTab === \"journal\" ? \"active\" : \"\"} \r\n          onClick={() => setActiveTab(\"journal\")}\r\n        >\r\n          ðŸ““ Journal\r\n        </button>\r\n        <button \r\n          className={activeTab === \"therapy\" ? \"active\" : \"\"} \r\n          onClick={() => {\r\n            setActiveTab(\"therapy\");\r\n            setBookingStep(\"select-doctor\");\r\n          }}\r\n        >\r\n          ðŸ‘¨â€âš•ï¸ Therapy\r\n        </button>\r\n        <button \r\n          className={activeTab === \"community\" ? \"active\" : \"\"} \r\n          onClick={() => setActiveTab(\"community\")}\r\n        >\r\n          ðŸŒ Community\r\n        </button>\r\n        <button \r\n          className={activeTab === \"shop\" ? \"active\" : \"\"} \r\n          onClick={() => setActiveTab(\"shop\")}\r\n        >\r\n          ðŸ›’ Shop\r\n        </button>\r\n        <button \r\n          className={activeTab === \"profile\" ? \"active\" : \"\"} \r\n          onClick={() => setActiveTab(\"profile\")}\r\n        >\r\n          ðŸ‘¤ Profile\r\n        </button>\r\n      </nav>\r\n\r\n      <main className=\"app-main\">\r\n        {activeTab === \"chat\" && (\r\n          <div className=\"chat-tab\">\r\n            <div className=\"chat-header\">\r\n              <h2>Chat with MoodMate</h2>\r\n              <button onClick={() => setShowNewChatModal(true)} className=\"new-chat-btn\">\r\n                + New Chat\r\n              </button>\r\n            </div>\r\n            <div className=\"chat-box\">\r\n              {messages.map((msg, i) => (\r\n                <div key={`msg-${i}-${msg.timestamp || Date.now()}`} className={`chat-message ${msg.sender} ${msg.isReward ? 'reward' : ''} ${msg.isExercise ? 'exercise' : ''}`}>\r\n                  {msg.sender === \"bot\" && (\r\n                    <div className=\"avatar bot-avatar\">ðŸ¤–</div>\r\n                  )}\r\n                  {msg.sender === \"user\" && (\r\n                    <div className=\"avatar user-avatar\">ðŸ‘¤</div>\r\n                  )}\r\n                  <div className=\"bubble\">\r\n                    {msg.text}\r\n                    {msg.moodEmoji && (\r\n                      <div className=\"mood-indicator\">\r\n                        {msg.moodEmoji} {msg.phrase}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n\r\n              {isTyping && (\r\n                <div className=\"chat-message bot\">\r\n                  <div className=\"avatar bot-avatar\">ðŸ¤–</div>\r\n                  <div className=\"bubble typing\">\r\n                    {typingIndicator || \"...\"}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              <div ref={chatEndRef}></div>\r\n            </div>\r\n\r\n            <div className=\"input-area\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"How are you feeling today?\"\r\n                value={input}\r\n                onChange={(e) => setInput(e.target.value)}\r\n                onKeyDown={(e) => e.key === \"Enter\" && sendMessage()}\r\n              />\r\n              <button onClick={sendMessage} className=\"send-btn\">Send</button>\r\n              <button onClick={playBreathingExercise} className=\"exercise-btn\" title=\"Breathing Exercise\">ðŸ§˜â€â™‚ï¸</button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === \"journal\" && (\r\n          <div className=\"journal-tab\">\r\n            <div className=\"journal-header\">\r\n              <h2>Your Journal</h2>\r\n              <button onClick={addJournalEntry} className=\"add-entry-btn\">\r\n                + New Entry\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"journal-entries\">\r\n              {journalEntries.length === 0 ? (\r\n                <div className=\"empty-state\">\r\n                  <p>No journal entries yet. Write your first entry!</p>\r\n                  <button onClick={addJournalEntry}>Start Journaling</button>\r\n                </div>\r\n              ) : (\r\n                journalEntries.map((entry, index) => (\r\n                  <div key={`entry-${entry.id}-${index}`} className=\"journal-entry\">\r\n                    <div className=\"entry-header\">\r\n                      <div className=\"entry-date\">{entry.date}</div>\r\n                      {!entry.shared && userTribes.length > 0 && (\r\n                        <button \r\n                          onClick={() => shareJournalEntry(entry.id)}\r\n                          className=\"share-btn\"\r\n                          title=\"Share to your tribes\"\r\n                        >\r\n                          Share\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"entry-text\">{entry.text}</div>\r\n                    {entry.summary && (\r\n                      <div className=\"entry-summary\">\r\n                        <strong>Summary:</strong> {entry.summary}\r\n                      </div>\r\n                    )}\r\n                    {entry.mood && (\r\n                      <div className=\"entry-mood\">\r\n                        <strong>Mood:</strong> {entry.mood}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                ))\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === \"therapy\" && (\r\n          <TherapyTab />\r\n        )}\r\n\r\n        {activeTab === \"community\" && activeTribe ? (\r\n          <TribeCommunity />\r\n        ) : activeTab === \"community\" ? (\r\n          <div className=\"community-tab\">\r\n            <div className=\"community-layout\">\r\n              <div className=\"mood-wall-section\">\r\n                <h3>ðŸŒ Community Mood Wall</h3>\r\n                <button onClick={addMoodWallPost} className=\"add-post-btn\">+ Share Your Feelings</button>\r\n                <div className=\"mood-wall\">\r\n                  {moodWall.length === 0 ? (\r\n                    <div className=\"empty-state\">\r\n                      <p>Be the first to share your thoughts with the community!</p>\r\n                    </div>\r\n                  ) : (\r\n                    moodWall.slice(0, 3).map((post, index) => (\r\n                      <div key={`post-${post.id}-${index}`} className=\"mood-post\">\r\n                        <p>{post.text}</p>\r\n                        <div className=\"post-footer\">\r\n                          <div className=\"post-reactions\">\r\n                            <button>ðŸ’–</button>\r\n                            <button>ðŸ¤—</button>\r\n                            <button>ðŸ‘</button>\r\n                          </div>\r\n                          <span className=\"post-time\">{new Date(post.timestamp).toLocaleDateString()}</span>\r\n                        </div>\r\n                      </div>\r\n                    ))\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"tribes-section\">\r\n                <h3>ðŸŽ¯ Mood Tribes</h3>\r\n                <div className=\"tribes-grid\">\r\n                  {moodTribes.map((tribe) => (\r\n                    <div key={`tribe-${tribe.id}`} className=\"tribe-card\">\r\n                      <h4>{tribe.name}</h4>\r\n                      <p>{tribe.description}</p>\r\n                      <p className=\"member-count\">ðŸ‘¥ {tribe.member_count} members</p>\r\n                      <button \r\n                        onClick={() => tribe.isMember ? setActiveTribe(tribe) : joinTribe(tribe.id)}\r\n                        className={tribe.isMember ? \"joined-btn\" : \"join-btn\"}\r\n                      >\r\n                        {tribe.isMember ? \"Visit Community\" : \"Join Tribe\"}\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n\r\n        {activeTab === \"shop\" && (\r\n          <div className=\"shop-tab\">\r\n            <h2>ðŸ›’ MoodMate Shop</h2>\r\n            <p>Use your Mood Coins to unlock special features and customization options!</p>\r\n            \r\n            <div className=\"shop-categories\">\r\n              {shopCategories.map(category => (\r\n                <button \r\n                  key={category} \r\n                  className={`category-btn ${activeShopCategory === category ? 'active' : ''}`}\r\n                  onClick={() => setActiveShopCategory(category)}\r\n                >\r\n                  {category}\r\n                </button>\r\n              ))}\r\n            </div>\r\n            \r\n            <div className=\"shop-grid\">\r\n              {filteredShopItems.length > 0 ? (\r\n                filteredShopItems.map((item) => (\r\n                  <div key={`shop-item-${item.id}`} className=\"shop-item-card\">\r\n                    <div className=\"item-image\">\r\n                      {item.category === \"theme\" && <div className={`theme-preview ${item.name.toLowerCase().replace(' theme', '')}-theme`}></div>}\r\n                      {item.category === \"cosmetic\" && <span className=\"item-icon\">ðŸŽ¨</span>}\r\n                      {item.category === \"content\" && <span className=\"item-icon\">ðŸ“š</span>}\r\n                      {item.category === \"utility\" && <span className=\"item-icon\">âš¡</span>}\r\n                      {item.category === \"feature\" && <span className=\"item-icon\">âš™ï¸</span>}\r\n                    </div>\r\n                    <div className=\"item-info\">\r\n                      <h4>{item.name}</h4>\r\n                      <p>{item.description}</p>\r\n                      <div className=\"item-price\">ðŸª™ {item.price} coins</div>\r\n                      <button \r\n                        onClick={() => buyItem(item)}\r\n                        disabled={user?.coins < item.price}\r\n                        className={user?.coins >= item.price ? \"buy-btn\" : \"disabled-btn\"}\r\n                      >\r\n                        {user?.coins >= item.price ? \"Purchase\" : \"Not Enough Coins\"}\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                ))\r\n              ) : (\r\n                <div className=\"empty-state\">\r\n                  <p>No items in this category yet.</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === \"profile\" && (\r\n          <div className=\"profile-tab\">\r\n            <div className=\"profile-header\">\r\n              <div className=\"profile-avatar\">\r\n                <div className=\"avatar-image\">\r\n                  {user?.name?.charAt(0) || 'U'}\r\n                </div>\r\n                <div className=\"profile-badge\">\r\n                  <span>ðŸ”¥ {user?.streak || 0}</span>\r\n                </div>\r\n              </div>\r\n              <div className=\"profile-info\">\r\n                <h2>{user?.name}</h2>\r\n                <p className=\"member-since\">Active Member</p>\r\n                \r\n                <div className=\"profile-stats\">\r\n                  <div className=\"stat\">\r\n                    <span className=\"stat-value\">{user?.streak || 0}</span>\r\n                    <span className=\"stat-label\">Day Streak</span>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <span className=\"stat-value\">{user?.coins || 0}</span>\r\n                    <span className=\"stat-label\">Mood Coins</span>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <span className=\"stat-value\">{userTribes.length}</span>\r\n                    <span className=\"stat-label\">Tribes Joined</span>\r\n                  </div>\r\n                  <div className=\"stat\">\r\n                    <span className=\"stat-value\">{journalEntries.length}</span>\r\n                    <span className=\"stat-label\">Journal Entries</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"profile-section\">\r\n              <h3>ðŸ”¥ Streak Progress</h3>\r\n              <div className=\"streak-progress\">\r\n                <div className=\"streak-days\">\r\n                  {[7, 30, 90, 180, 365].map(day => (\r\n                    <div key={`milestone-${day}`} className={`streak-milestone ${user?.streak >= day ? 'achieved' : ''}`}>\r\n                      <span className=\"milestone-day\">{day}</span>\r\n                      <span className=\"milestone-label\">{day} Days</span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                <div className=\"streak-bar\">\r\n                  <div \r\n                    className=\"streak-progress-bar\" \r\n                    style={{width: `${Math.min(100, (user?.streak / 365) * 100)}%`}}\r\n                  ></div>\r\n                </div>\r\n                <div className=\"current-streak\">\r\n                  <span>Current Streak: {user?.streak || 0} days</span>\r\n                  <span>Next milestone: {user?.streak < 7 ? 7 : user?.streak < 30 ? 30 : user?.streak < 90 ? 90 : user?.streak < 180 ? 180 : 365} days</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"profile-section\">\r\n              <h3>ðŸ… Achievements & Badges</h3>\r\n              <div className=\"achievements-grid\">\r\n                {achievements.map(achievement => (\r\n                  <div key={`achievement-${achievement.id}`} className={`achievement ${achievement.earned ? 'earned' : 'locked'}`}>\r\n                    <span className=\"achievement-icon\">{achievement.icon}</span>\r\n                    <div className=\"achievement-info\">\r\n                      <h4>{achievement.name}</h4>\r\n                      <p>{achievement.description}</p>\r\n                    </div>\r\n                    <span className=\"achievement-status\">\r\n                      {achievement.earned ? 'âœ“' : 'ðŸ”’'}\r\n                    </span>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"profile-section\">\r\n              <h3>ðŸ‘¥ My Tribes</h3>\r\n              {userTribes.length === 0 ? (\r\n                <p>You haven't joined any tribes yet. Visit the Community tab to join one!</p>\r\n              ) : (\r\n                <div className=\"user-tribes\">\r\n                  {userTribes.map(tribe => (\r\n                    <div key={`user-tribe-${tribe.id}`} className=\"user-tribe\">\r\n                      <span>{tribe.name}</span>\r\n                      <button onClick={() => setActiveTribe(tribe)}>\r\n                        Visit\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"profile-section\">\r\n              <h3>âš™ï¸ Settings</h3>\r\n              <div className=\"settings-grid\">\r\n                <div className=\"setting-item\">\r\n                  <span>Voice Responses</span>\r\n                  <label className=\"switch\">\r\n                    <input type=\"checkbox\" checked={audioEnabled} onChange={toggleAudio} />\r\n                    <span className=\"slider\"></span>\r\n                  </label>\r\n                </div>\r\n                <div className=\"setting-item\">\r\n                  <span>Background Music</span>\r\n                  <label className=\"switch\">\r\n                    <input type=\"checkbox\" checked={musicEnabled} onChange={toggleMusic} />\r\n                    <span className=\"slider\"></span>\r\n                  </label>\r\n                </div>\r\n                <div className=\"setting-item\">\r\n                  <span>AI Provider</span>\r\n                  <select value={aiProvider} onChange={(e) => switchAiProvider(e.target.value)}>\r\n                    <option value=\"gemini\">Gemini AI</option>\r\n                    <option value=\"fallback\">Fallback Mode</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}